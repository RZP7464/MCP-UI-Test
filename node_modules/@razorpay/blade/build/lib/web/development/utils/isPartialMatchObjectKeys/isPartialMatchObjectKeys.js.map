{"version":3,"file":"isPartialMatchObjectKeys.js","sources":["../../../../../../src/utils/isPartialMatchObjectKeys/isPartialMatchObjectKeys.ts"],"sourcesContent":["/* eslint-disable no-console */\nimport isObject from '~utils/lodashButBetter/isObject';\nimport { logger } from '~utils/logger';\n\nexport type DeepPartial<T> = {\n  [P in keyof T]?: T[P] extends Record<number | string, unknown> ? DeepPartial<T[P]> : T[P];\n};\n\nexport const isPartialMatchObjectKeys = <ActualObject>({\n  objectToMatch,\n  objectToInspect,\n}: {\n  objectToMatch: DeepPartial<ActualObject>;\n  objectToInspect: ActualObject;\n}): boolean => {\n  const matchResponses: boolean[] = [];\n\n  const matchObjectKeys = ({\n    innerObjectToMatch,\n    innerObjectToInspect,\n  }: {\n    innerObjectToMatch: DeepPartial<ActualObject>;\n    innerObjectToInspect: DeepPartial<ActualObject>;\n  }): void => {\n    for (const [key, valueToMatch] of Object.entries(innerObjectToMatch)) {\n      const valueToInspect = innerObjectToInspect[key as keyof DeepPartial<ActualObject>];\n\n      if (innerObjectToInspect.hasOwnProperty(key)) {\n        if (\n          valueToMatch === null ||\n          valueToMatch === undefined ||\n          valueToMatch === '' ||\n          Array.isArray(valueToMatch) ||\n          // the condition checks if the \"valueToMatch\" is not of type object then \"valueToMatch\" type should be same as type of \"valueToInspect\"\n          (!(valueToMatch instanceof Object) && typeof valueToMatch !== typeof valueToInspect)\n        ) {\n          if (__DEV__) {\n            // this is an invalid case, so we log error\n            logger({\n              message: `Unexpected value: ${JSON.stringify(\n                valueToMatch,\n              )} of type ${typeof valueToMatch} for key: ${key}`,\n              moduleName: 'isPartialMatchObjectKeys',\n              type: 'error',\n            });\n          }\n          matchResponses.push(false);\n        }\n\n        if (typeof valueToMatch === 'string') {\n          // we have reached leaf node of the objectToMatch(i.e sub-object)\n          matchResponses.push(true);\n        }\n\n        if (isObject(valueToMatch) && isObject(valueToInspect)) {\n          // let's go inside further and do a nested check\n          matchObjectKeys({\n            innerObjectToMatch: valueToMatch,\n            innerObjectToInspect: valueToInspect,\n          });\n        }\n      } else {\n        if (__DEV__) {\n          // the key doesn't exist in the innerObjectToMatch, so we log error\n          logger({\n            message: `${key} doesn't exist in ${JSON.stringify(innerObjectToInspect, null, 2)}`,\n            moduleName: 'isPartialMatchObjectKeys',\n            type: 'error',\n          });\n        }\n        matchResponses.push(false);\n      }\n    }\n  };\n\n  matchObjectKeys({ innerObjectToMatch: objectToMatch, innerObjectToInspect: objectToInspect });\n\n  return matchResponses.every(Boolean);\n};\n"],"names":["isPartialMatchObjectKeys","_ref","objectToMatch","objectToInspect","matchResponses","matchObjectKeys","_ref2","innerObjectToMatch","innerObjectToInspect","_i","_Object$entries","Object","entries","length","_Object$entries$_i","_slicedToArray","key","valueToMatch","valueToInspect","hasOwnProperty","undefined","Array","isArray","_typeof","logger","message","concat","JSON","stringify","moduleName","type","push","isObject","every","Boolean"],"mappings":"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"}