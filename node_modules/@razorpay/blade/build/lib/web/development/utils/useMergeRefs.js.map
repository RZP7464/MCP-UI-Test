{"version":3,"file":"useMergeRefs.js","sources":["../../../../../src/utils/useMergeRefs.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport { useMemo } from 'react';\nimport { throwBladeError } from './logger';\n\ntype ReactRef<T> = React.RefCallback<T> | React.MutableRefObject<T>;\n\nfunction assignRef<T = any>(ref: ReactRef<T> | null | undefined, value: T) {\n  if (ref == null) return;\n\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n\n  try {\n    ref.current = value;\n  } catch (error: unknown) {\n    throwBladeError({\n      moduleName: 'useMergeRefs',\n      message: `Cannot assign value '${value}' to ref '${ref}'`,\n    });\n  }\n}\n\nfunction mergeRefs<T>(...refs: (ReactRef<T> | null | undefined)[]) {\n  return (node: T | null) => {\n    refs.forEach((ref) => {\n      assignRef(ref, node);\n    });\n  };\n}\n\n/**\n * Merged two or more refs into a single ref callback.\n *\n * Usage:\n * ```ts\n * const internalRef = React.useRef()\n * const ref = useMergeRefs(incomingRef, internalRef);\n * ```\n *\n *\n * Taken from ChakraUI:\n * https://github.com/chakra-ui/chakra-ui/blob/f3c4a492e5636d2745b438d10794fa4e7999b6de/packages/hooks/use-merge-refs/src/index.ts#L31\n */\nfunction useMergeRefs<T>(...refs: (ReactRef<T> | null | undefined)[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => mergeRefs(...refs), refs);\n}\n\nexport { useMergeRefs, mergeRefs };\n"],"names":["assignRef","ref","value","current","error","throwBladeError","moduleName","message","concat","mergeRefs","_len","arguments","length","refs","Array","_key","node","forEach","useMergeRefs","_len2","_key2","useMemo","apply"],"mappings":";;;;AAAA;AACA;AAMA,SAASA,SAASA,CAAUC,GAAmC,EAAEC,KAAQ,EAAE;EACzE,IAAID,GAAG,IAAI,IAAI,EAAE,OAAA;AAEjB,EAAA,IAAI,OAAOA,GAAG,KAAK,UAAU,EAAE;IAC7BA,GAAG,CAACC,KAAK,CAAC,CAAA;AACV,IAAA,OAAA;AACF,GAAA;EAEA,IAAI;IACFD,GAAG,CAACE,OAAO,GAAGD,KAAK,CAAA;GACpB,CAAC,OAAOE,KAAc,EAAE;AACvBC,IAAAA,eAAe,CAAC;AACdC,MAAAA,UAAU,EAAE,cAAc;AAC1BC,MAAAA,OAAO,0BAAAC,MAAA,CAA0BN,KAAK,EAAAM,YAAAA,CAAAA,CAAAA,MAAA,CAAaP,GAAG,EAAA,GAAA,CAAA;AACxD,KAAC,CAAC,CAAA;AACJ,GAAA;AACF,CAAA;AAEA,SAASQ,SAASA,GAAiD;AAAA,EAAA,KAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAA1CC,IAAI,GAAAC,IAAAA,KAAA,CAAAJ,IAAA,GAAAK,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA,EAAA,EAAA;AAAJF,IAAAA,IAAI,CAAAE,IAAA,CAAAJ,GAAAA,SAAA,CAAAI,IAAA,CAAA,CAAA;AAAA,GAAA;EAC3B,OAAO,UAACC,IAAc,EAAK;AACzBH,IAAAA,IAAI,CAACI,OAAO,CAAC,UAAChB,GAAG,EAAK;AACpBD,MAAAA,SAAS,CAACC,GAAG,EAAEe,IAAI,CAAC,CAAA;AACtB,KAAC,CAAC,CAAA;GACH,CAAA;AACH,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,YAAYA,GAAiD;AAAA,EAAA,KAAA,IAAAC,KAAA,GAAAR,SAAA,CAAAC,MAAA,EAA1CC,IAAI,GAAAC,IAAAA,KAAA,CAAAK,KAAA,GAAAC,KAAA,GAAA,CAAA,EAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA,EAAA,EAAA;AAAJP,IAAAA,IAAI,CAAAO,KAAA,CAAAT,GAAAA,SAAA,CAAAS,KAAA,CAAA,CAAA;AAAA,GAAA;AAC9B;AACA,EAAA,OAAOC,OAAO,CAAC,YAAA;AAAA,IAAA,OAAMZ,SAAS,CAAAa,KAAA,CAAA,KAAA,CAAA,EAAIT,IAAI,CAAC,CAAA;AAAA,GAAA,EAAEA,IAAI,CAAC,CAAA;AAChD;;;;"}