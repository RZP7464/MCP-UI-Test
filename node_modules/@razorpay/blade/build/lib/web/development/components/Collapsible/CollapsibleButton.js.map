{"version":3,"file":"CollapsibleButton.js","sources":["../../../../../../src/components/Collapsible/CollapsibleButton.tsx"],"sourcesContent":["import type { ReactElement } from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport { useCollapsible } from './CollapsibleContext';\nimport { componentIds } from './componentIds';\nimport type { ButtonProps } from '~components/Button';\nimport type { IconComponent } from '~components/Icons';\nimport BaseButton from '~components/Button/BaseButton';\nimport type { BladeElementRef, DataAnalyticsAttribute } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { isReactNative } from '~utils';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype CollapsibleButtonProps = Pick<\n  ButtonProps,\n  | 'variant'\n  | 'size'\n  | 'iconPosition'\n  | 'isDisabled'\n  | 'testID'\n  | 'accessibilityLabel'\n  | 'icon'\n  | 'children'\n> &\n  DataAnalyticsAttribute;\n\nconst _CollapsibleButton: React.ForwardRefRenderFunction<\n  BladeElementRef,\n  CollapsibleButtonProps\n> = (\n  { children, variant, size, icon, iconPosition, isDisabled, testID, accessibilityLabel, ...rest },\n  ref,\n): ReactElement => {\n  const { onExpandChange, isExpanded, collapsibleBodyId } = useCollapsible();\n\n  const toggleIsExpanded = useCallback(() => onExpandChange(!isExpanded), [\n    onExpandChange,\n    isExpanded,\n  ]);\n\n  return (\n    <BaseButton\n      variant={variant}\n      size={size}\n      // Button handles case of icon and children so we don't care about icon type safety here\n      icon={icon as IconComponent}\n      iconPosition={iconPosition}\n      isDisabled={isDisabled}\n      testID={testID}\n      ref={ref}\n      onClick={toggleIsExpanded}\n      alignSelf={isReactNative() ? 'flex-start' : undefined}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        controls: collapsibleBodyId,\n        expanded: isExpanded,\n      }}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {children}\n    </BaseButton>\n  );\n};\n\nconst CollapsibleButton = assignWithoutSideEffects(forwardRef(_CollapsibleButton), {\n  displayName: 'CollapsibleButton',\n  componentId: componentIds.CollapsibleButton,\n});\n\nexport type { CollapsibleButtonProps };\nexport { CollapsibleButton };\n"],"names":["_CollapsibleButton","_ref","ref","children","variant","size","icon","iconPosition","isDisabled","testID","accessibilityLabel","rest","_objectWithoutProperties","_excluded","_useCollapsible","useCollapsible","onExpandChange","isExpanded","collapsibleBodyId","toggleIsExpanded","useCallback","_jsx","BaseButton","_objectSpread","onClick","alignSelf","isReactNative","undefined","accessibilityProps","label","controls","expanded","makeAnalyticsAttribute","CollapsibleButton","assignWithoutSideEffects","forwardRef","displayName","componentId","componentIds"],"mappings":";;;;;;;;;;;;;;;;;;AAyBA,IAAMA,kBAGL,GAAG,SAHEA,kBAGLA,CAAAC,IAAA,EAECC,GAAG,EACc;AAAA,EAAA,IAFfC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAAEC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IAAEC,IAAI,GAAAJ,IAAA,CAAJI,IAAI;IAAEC,IAAI,GAAAL,IAAA,CAAJK,IAAI;IAAEC,YAAY,GAAAN,IAAA,CAAZM,YAAY;IAAEC,UAAU,GAAAP,IAAA,CAAVO,UAAU;IAAEC,MAAM,GAAAR,IAAA,CAANQ,MAAM;IAAEC,kBAAkB,GAAAT,IAAA,CAAlBS,kBAAkB;AAAKC,IAAAA,IAAI,GAAAC,wBAAA,CAAAX,IAAA,EAAAY,SAAA,CAAA,CAAA;AAG9F,EAAA,IAAAC,eAAA,GAA0DC,cAAc,EAAE;IAAlEC,cAAc,GAAAF,eAAA,CAAdE,cAAc;IAAEC,UAAU,GAAAH,eAAA,CAAVG,UAAU;IAAEC,iBAAiB,GAAAJ,eAAA,CAAjBI,iBAAiB,CAAA;EAErD,IAAMC,gBAAgB,GAAGC,WAAW,CAAC,YAAA;AAAA,IAAA,OAAMJ,cAAc,CAAC,CAACC,UAAU,CAAC,CAAA;AAAA,GAAA,EAAE,CACtED,cAAc,EACdC,UAAU,CACX,CAAC,CAAA;AAEF,EAAA,oBACEI,GAAA,CAACC,UAAU,EAAAC,aAAA,CAAAA,aAAA,CAAA;AACTnB,IAAAA,OAAO,EAAEA,OAAQ;AACjBC,IAAAA,IAAI,EAAEA,IAAAA;AACN;AAAA;AACAC,IAAAA,IAAI,EAAEA,IAAsB;AAC5BC,IAAAA,YAAY,EAAEA,YAAa;AAC3BC,IAAAA,UAAU,EAAEA,UAAW;AACvBC,IAAAA,MAAM,EAAEA,MAAO;AACfP,IAAAA,GAAG,EAAEA,GAAI;AACTsB,IAAAA,OAAO,EAAEL,gBAAiB;AAC1BM,IAAAA,SAAS,EAAEC,aAAa,EAAE,GAAG,YAAY,GAAGC,SAAU;AACtDC,IAAAA,kBAAkB,EAAE;AAClBC,MAAAA,KAAK,EAAEnB,kBAAkB;AACzBoB,MAAAA,QAAQ,EAAEZ,iBAAiB;AAC3Ba,MAAAA,QAAQ,EAAEd,UAAAA;AACZ,KAAA;GACIe,EAAAA,sBAAsB,CAACrB,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAAAR,IAAAA,QAAA,EAE/BA,QAAAA;AAAQ,GAAA,CACC,CAAC,CAAA;AAEjB,CAAC,CAAA;AAEK8B,IAAAA,iBAAiB,gBAAGC,wBAAwB,cAACC,UAAU,CAACnC,kBAAkB,CAAC,EAAE;AACjFoC,EAAAA,WAAW,EAAE,mBAAmB;EAChCC,WAAW,EAAEC,YAAY,CAACL,iBAAAA;AAC5B,CAAC;;;;"}