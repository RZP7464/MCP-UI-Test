{"version":3,"file":"Badge.js","sources":["../../../../../../src/components/Badge/Badge.tsx"],"sourcesContent":["import React from 'react';\nimport type { ReactElement } from 'react';\nimport type { StyledBadgeProps } from './types';\nimport { StyledBadge } from './StyledBadge';\nimport { iconPadding, iconSize, horizontalPadding, badgeHeight } from './badgeTokens';\nimport type { IconComponent, IconProps } from '~components/Icons';\nimport BaseBox from '~components/Box/BaseBox';\nimport type { FeedbackColors, SubtleOrIntense } from '~tokens/theme/theme';\nimport type { BaseTextProps } from '~components/Typography/BaseText/types';\nimport { Text } from '~components/Typography';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport type {\n  DataAnalyticsAttribute,\n  BladeElementRef,\n  StringChildrenType,\n  TestID,\n} from '~utils/types';\nimport { getStringFromReactText } from '~src/utils/getStringChildren';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { isReactNative, makeSize } from '~utils';\nimport { throwBladeError } from '~utils/logger';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype BadgeProps = {\n  /**\n   * Sets the label for the badge.\n   *\n   */\n  children: StringChildrenType;\n  /**\n   * Sets the color of the badge.\n   *\n   * @default 'neutral'\n   */\n  color?: FeedbackColors | 'primary';\n  /**\n   * Sets the contrast of the badge.\n   *\n   * @default 'subtle'\n   */\n  emphasis?: SubtleOrIntense;\n  /**\n   * Sets the size of the badge.\n   *\n   * @default 'medium'\n   */\n  size?: 'xsmall' | 'small' | 'medium' | 'large';\n  /**\n   * Icon to be displayed in the badge.\n   * Accepts a component of type `IconComponent` from Blade.\n   *\n   */\n  icon?: IconComponent;\n} & TestID &\n  StyledPropsBlade &\n  DataAnalyticsAttribute;\n\ntype ColorProps = {\n  iconColor: IconProps['color'];\n  textColor: BaseTextProps['color'];\n  backgroundColor: StyledBadgeProps['backgroundColor'];\n};\n\nconst getColorProps = ({\n  color,\n  emphasis,\n}: {\n  color: NonNullable<BadgeProps['color']>;\n  emphasis: NonNullable<BadgeProps['emphasis']>;\n}): ColorProps => {\n  const props: ColorProps = {\n    iconColor: 'feedback.icon.neutral.intense',\n    textColor: 'feedback.text.neutral.intense',\n    backgroundColor: 'feedback.background.neutral.subtle',\n  };\n\n  if (color === 'primary') {\n    // primary color badge\n    props.textColor =\n      emphasis === 'intense' ? `surface.text.staticWhite.normal` : `surface.text.primary.normal`;\n    props.iconColor =\n      emphasis === 'intense' ? `surface.icon.staticWhite.normal` : `surface.icon.primary.normal`;\n    props.backgroundColor = `surface.background.primary.${emphasis}`;\n  } else {\n    // feedback colors badge\n    props.textColor =\n      emphasis === 'intense' ? `surface.text.staticWhite.normal` : `feedback.text.${color}.intense`;\n    props.iconColor =\n      emphasis === 'intense' ? `surface.icon.staticWhite.normal` : `feedback.icon.${color}.intense`;\n    props.backgroundColor = `feedback.background.${color}.${emphasis}`;\n  }\n\n  return props;\n};\n\nconst _Badge = (\n  {\n    children,\n    emphasis = 'subtle',\n    icon: Icon,\n    size = 'medium',\n    color = 'neutral',\n    testID,\n    ...props\n  }: BadgeProps,\n  ref: React.Ref<BladeElementRef>,\n): ReactElement => {\n  const childrenString = getStringFromReactText(children);\n  if (__DEV__) {\n    if (!childrenString?.trim()) {\n      throwBladeError({\n        message: 'Text as children is required for Badge.',\n        moduleName: 'Badge',\n      });\n    }\n  }\n\n  const { backgroundColor, iconColor, textColor } = getColorProps({\n    color,\n    emphasis,\n  });\n\n  const badgeTextSizes = {\n    xsmall: {\n      variant: 'body',\n      size: 'xsmall',\n    },\n    small: {\n      variant: 'body',\n      size: 'xsmall',\n    },\n    medium: {\n      variant: 'body',\n      size: 'small',\n    },\n    large: {\n      variant: 'body',\n      size: 'small',\n    },\n  } as const;\n\n  return (\n    <BaseBox\n      ref={ref as never}\n      display={(isReactNative() ? 'flex' : 'inline-flex') as never}\n      {...metaAttribute({ name: MetaConstants.Badge, testID })}\n      {...getStyledProps(props)}\n      {...makeAnalyticsAttribute(props)}\n    >\n      <StyledBadge\n        height={makeSize(badgeHeight[size])}\n        backgroundColor={backgroundColor}\n        size={size}\n        textAlign={'left' as never}\n      >\n        <BaseBox\n          paddingX={horizontalPadding[size]}\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          overflow=\"hidden\"\n        >\n          {Icon ? (\n            <BaseBox paddingRight={Boolean(Icon) ? iconPadding[size] : 'spacing.0'} display=\"flex\">\n              <Icon color={iconColor} size={iconSize[size]} />\n            </BaseBox>\n          ) : null}\n          <Text {...badgeTextSizes[size]} weight=\"medium\" truncateAfterLines={1} color={textColor}>\n            {children}\n          </Text>\n        </BaseBox>\n      </StyledBadge>\n    </BaseBox>\n  );\n};\n\nconst Badge = assignWithoutSideEffects(React.forwardRef(_Badge), {\n  displayName: 'Badge',\n  componentId: 'Badge',\n});\n\nexport type { BadgeProps };\nexport { Badge };\n"],"names":["getColorProps","_ref","color","emphasis","props","iconColor","textColor","backgroundColor","concat","_Badge","_ref2","ref","children","_ref2$emphasis","Icon","icon","_ref2$size","size","_ref2$color","testID","_objectWithoutProperties","_excluded","childrenString","getStringFromReactText","trim","throwBladeError","message","moduleName","_getColorProps","badgeTextSizes","xsmall","variant","small","medium","large","_jsx","BaseBox","_objectSpread","display","isReactNative","metaAttribute","name","MetaConstants","Badge","getStyledProps","makeAnalyticsAttribute","StyledBadge","height","makeSize","badgeHeight","textAlign","_jsxs","paddingX","horizontalPadding","flexDirection","justifyContent","alignItems","overflow","paddingRight","Boolean","iconPadding","iconSize","Text","weight","truncateAfterLines","assignWithoutSideEffects","React","forwardRef","displayName","componentId"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,IAAMA,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAMD;AAAA,EAAA,IALhBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IACLC,QAAQ,GAAAF,IAAA,CAARE,QAAQ,CAAA;AAKR,EAAA,IAAMC,KAAiB,GAAG;AACxBC,IAAAA,SAAS,EAAE,+BAA+B;AAC1CC,IAAAA,SAAS,EAAE,+BAA+B;AAC1CC,IAAAA,eAAe,EAAE,oCAAA;GAClB,CAAA;EAED,IAAIL,KAAK,KAAK,SAAS,EAAE;AACvB;AACAE,IAAAA,KAAK,CAACE,SAAS,GACbH,QAAQ,KAAK,SAAS,GAAoE,iCAAA,GAAA,6BAAA,CAAA;AAC5FC,IAAAA,KAAK,CAACC,SAAS,GACbF,QAAQ,KAAK,SAAS,GAAoE,iCAAA,GAAA,6BAAA,CAAA;AAC5FC,IAAAA,KAAK,CAACG,eAAe,GAAA,6BAAA,CAAAC,MAAA,CAAiCL,QAAQ,CAAE,CAAA;AAClE,GAAC,MAAM;AACL;IACAC,KAAK,CAACE,SAAS,GACbH,QAAQ,KAAK,SAAS,GAAAK,iCAAAA,GAAAA,gBAAAA,CAAAA,MAAA,CAAwDN,KAAK,EAAU,UAAA,CAAA,CAAA;IAC/FE,KAAK,CAACC,SAAS,GACbF,QAAQ,KAAK,SAAS,GAAAK,iCAAAA,GAAAA,gBAAAA,CAAAA,MAAA,CAAwDN,KAAK,EAAU,UAAA,CAAA,CAAA;IAC/FE,KAAK,CAACG,eAAe,GAAA,sBAAA,CAAAC,MAAA,CAA0BN,KAAK,EAAAM,GAAAA,CAAAA,CAAAA,MAAA,CAAIL,QAAQ,CAAE,CAAA;AACpE,GAAA;AAEA,EAAA,OAAOC,KAAK,CAAA;AACd,CAAC,CAAA;AAED,IAAMK,MAAM,GAAG,SAATA,MAAMA,CAAAC,KAAA,EAUVC,GAA+B,EACd;AAAA,EAAA,IATfC,QAAQ,GAAAF,KAAA,CAARE,QAAQ;IAAAC,cAAA,GAAAH,KAAA,CACRP,QAAQ;AAARA,IAAAA,QAAQ,GAAAU,cAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,cAAA;IACbC,IAAI,GAAAJ,KAAA,CAAVK,IAAI;IAAAC,UAAA,GAAAN,KAAA,CACJO,IAAI;AAAJA,IAAAA,IAAI,GAAAD,UAAA,KAAG,KAAA,CAAA,GAAA,QAAQ,GAAAA,UAAA;IAAAE,WAAA,GAAAR,KAAA,CACfR,KAAK;AAALA,IAAAA,KAAK,GAAAgB,WAAA,KAAG,KAAA,CAAA,GAAA,SAAS,GAAAA,WAAA;IACjBC,MAAM,GAAAT,KAAA,CAANS,MAAM;AACHf,IAAAA,KAAK,GAAAgB,wBAAA,CAAAV,KAAA,EAAAW,SAAA,CAAA,CAAA;AAIV,EAAA,IAAMC,cAAc,GAAGC,sBAAsB,CAACX,QAAQ,CAAC,CAAA;AACvD,EAAA,IAAI,IAAO,EAAE;IACX,IAAI,EAACU,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,IAAdA,cAAc,CAAEE,IAAI,EAAE,CAAE,EAAA;AAC3BC,MAAAA,eAAe,CAAC;AACdC,QAAAA,OAAO,EAAE,yCAAyC;AAClDC,QAAAA,UAAU,EAAE,OAAA;AACd,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;EAEA,IAAAC,cAAA,GAAkD5B,aAAa,CAAC;AAC9DE,MAAAA,KAAK,EAALA,KAAK;AACLC,MAAAA,QAAQ,EAARA,QAAAA;AACF,KAAC,CAAC;IAHMI,eAAe,GAAAqB,cAAA,CAAfrB,eAAe;IAAEF,SAAS,GAAAuB,cAAA,CAATvB,SAAS;IAAEC,SAAS,GAAAsB,cAAA,CAATtB,SAAS,CAAA;AAK7C,EAAA,IAAMuB,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAE,MAAM;AACfd,MAAAA,IAAI,EAAE,QAAA;KACP;AACDe,IAAAA,KAAK,EAAE;AACLD,MAAAA,OAAO,EAAE,MAAM;AACfd,MAAAA,IAAI,EAAE,QAAA;KACP;AACDgB,IAAAA,MAAM,EAAE;AACNF,MAAAA,OAAO,EAAE,MAAM;AACfd,MAAAA,IAAI,EAAE,OAAA;KACP;AACDiB,IAAAA,KAAK,EAAE;AACLH,MAAAA,OAAO,EAAE,MAAM;AACfd,MAAAA,IAAI,EAAE,OAAA;AACR,KAAA;GACQ,CAAA;EAEV,oBACEkB,GAAA,CAACC,OAAO,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA;AACN1B,IAAAA,GAAG,EAAEA,GAAa;AAClB2B,IAAAA,OAAO,EAAGC,aAAa,EAAE,GAAG,MAAM,GAAG,aAAA;AAAwB,GAAA,EACzDC,aAAa,CAAC;IAAEC,IAAI,EAAEC,aAAa,CAACC,KAAK;AAAExB,IAAAA,MAAM,EAANA,MAAAA;GAAQ,CAAC,CACpDyB,EAAAA,cAAc,CAACxC,KAAK,CAAC,CACrByC,EAAAA,sBAAsB,CAACzC,KAAK,CAAC,CAAA,EAAA,EAAA,EAAA;IAAAQ,QAAA,eAEjCuB,GAAA,CAACW,WAAW,EAAA;AACVC,MAAAA,MAAM,EAAEC,QAAQ,CAACC,WAAW,CAAChC,IAAI,CAAC,CAAE;AACpCV,MAAAA,eAAe,EAAEA,eAAgB;AACjCU,MAAAA,IAAI,EAAEA,IAAK;AACXiC,MAAAA,SAAS,EAAE,MAAgB;MAAAtC,QAAA,eAE3BuC,IAAA,CAACf,OAAO,EAAA;AACNgB,QAAAA,QAAQ,EAAEC,iBAAiB,CAACpC,IAAI,CAAE;AAClCqB,QAAAA,OAAO,EAAC,MAAM;AACdgB,QAAAA,aAAa,EAAC,KAAK;AACnBC,QAAAA,cAAc,EAAC,QAAQ;AACvBC,QAAAA,UAAU,EAAC,QAAQ;AACnBC,QAAAA,QAAQ,EAAC,QAAQ;AAAA7C,QAAAA,QAAA,EAEhBE,CAAAA,IAAI,gBACHqB,GAAA,CAACC,OAAO,EAAA;UAACsB,YAAY,EAAEC,OAAO,CAAC7C,IAAI,CAAC,GAAG8C,WAAW,CAAC3C,IAAI,CAAC,GAAG,WAAY;AAACqB,UAAAA,OAAO,EAAC,MAAM;UAAA1B,QAAA,eACpFuB,GAAA,CAACrB,IAAI,EAAA;AAACZ,YAAAA,KAAK,EAAEG,SAAU;YAACY,IAAI,EAAE4C,QAAQ,CAAC5C,IAAI,CAAA;WAAI,CAAA;AAAC,SACzC,CAAC,GACR,IAAI,eACRkB,GAAA,CAAC2B,IAAI,EAAAzB,aAAA,CAAAA,aAAA,CAAA,EAAA,EAAKR,cAAc,CAACZ,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAAE8C,UAAAA,MAAM,EAAC,QAAQ;AAACC,UAAAA,kBAAkB,EAAE,CAAE;AAAC9D,UAAAA,KAAK,EAAEI,SAAU;AAAAM,UAAAA,QAAA,EACrFA,QAAAA;AAAQ,SAAA,CACL,CAAC,CAAA;OACA,CAAA;KACE,CAAA;AAAC,GAAA,CACP,CAAC,CAAA;AAEd,CAAC,CAAA;AAEK+B,IAAAA,KAAK,gBAAGsB,wBAAwB,cAACC,cAAK,CAACC,UAAU,CAAC1D,MAAM,CAAC,EAAE;AAC/D2D,EAAAA,WAAW,EAAE,OAAO;AACpBC,EAAAA,WAAW,EAAE,OAAA;AACf,CAAC;;;;"}