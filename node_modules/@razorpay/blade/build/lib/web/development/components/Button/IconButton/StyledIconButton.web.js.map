{"version":3,"file":"StyledIconButton.web.js","sources":["../../../../../../../src/components/Button/IconButton/StyledIconButton.web.tsx"],"sourcesContent":["/* eslint-disable react/display-name */\nimport styled from 'styled-components';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport type { StyledIconButtonProps } from './types';\nimport { highlightedButtonSizeMap, highlightedHoverColorMap } from './tokens';\nimport { castWebType, makeSize } from '~utils';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport type { SubtleOrIntense } from '~tokens/theme/theme';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { makeMotionTime } from '~utils/makeMotionTime';\nimport { getFocusRingStyles } from '~utils/getFocusRingStyles';\nimport { throwBladeError } from '~utils/logger';\nimport getIn from '~utils/lodashButBetter/get';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { useStyledProps } from '~components/Box/styledProps';\n\ntype StyledButtonProps = {\n  emphasis: SubtleOrIntense;\n  $isHighlighted: StyledIconButtonProps['isHighlighted'];\n  $size: StyledIconButtonProps['size'];\n};\n\nconst StyledButton = styled.button<StyledButtonProps>((props) => {\n  const { theme, emphasis } = props;\n  const motionToken = theme.motion;\n  const styledPropsCSSObject = useStyledProps(props);\n  const emphasisColor = emphasis === 'intense' ? 'gray' : 'staticWhite';\n\n  if (__DEV__) {\n    if (props.$size === 'large' && props.$isHighlighted) {\n      throwBladeError({\n        moduleName: 'IconButton',\n        message: 'size large is not allowed with isHighlighted true',\n      });\n      return null;\n    }\n  }\n\n  return {\n    border: 'none',\n    cursor: props.disabled ? 'not-allowed' : 'pointer',\n    padding: 0,\n    height: props.$isHighlighted\n      ? // We throw error for size large on top\n        makeSize(highlightedButtonSizeMap[props.$size as 'small' | 'medium'])\n      : undefined,\n    width: props.$isHighlighted\n      ? makeSize(highlightedButtonSizeMap[props.$size as 'small' | 'medium'])\n      : undefined,\n    borderRadius: props.$isHighlighted ? theme.border.radius.round : theme.border.radius.small,\n    background: 'transparent',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    color: props.disabled\n      ? theme.colors.interactive.icon[emphasisColor].disabled\n      : theme.colors.interactive.icon[emphasisColor].muted,\n    transitionProperty: 'color, box-shadow',\n    transitionDuration: castWebType(makeMotionTime(motionToken.duration.xquick)),\n    transitionTimingFunction: motionToken.easing.standard as string,\n\n    '&:hover:not([disabled])': {\n      color: theme.colors.interactive.icon[emphasisColor].subtle,\n      backgroundColor: props.$isHighlighted\n        ? getIn(theme.colors, highlightedHoverColorMap[emphasis])\n        : 'transparent',\n    },\n\n    '&:focus-visible': {\n      ...getFocusRingStyles({ theme }),\n      color: theme.colors.interactive.icon[emphasisColor].subtle,\n    },\n\n    '&:active': {\n      color: theme.colors.interactive.icon[emphasisColor].subtle,\n    },\n    ...styledPropsCSSObject,\n  };\n});\n\nconst StyledIconButton = React.forwardRef<HTMLButtonElement, StyledIconButtonProps>(\n  (\n    {\n      icon: Icon,\n      onClick,\n      size,\n      emphasis,\n      accessibilityLabel,\n      accessibilityProps,\n      isDisabled,\n      isHighlighted,\n      testID,\n      onBlur,\n      onFocus,\n      onMouseLeave,\n      onMouseMove,\n      onPointerDown,\n      onPointerEnter,\n      onTouchEnd,\n      onTouchStart,\n      onKeyDown,\n      tabIndex,\n      ...rest\n    },\n    ref,\n  ): ReactElement => (\n    <StyledButton\n      ref={ref}\n      onClick={castWebType(onClick)}\n      emphasis={emphasis}\n      type=\"button\"\n      onBlur={onBlur}\n      onFocus={onFocus}\n      onMouseLeave={onMouseLeave}\n      onMouseMove={onMouseMove}\n      onPointerDown={onPointerDown}\n      onPointerEnter={onPointerEnter}\n      onTouchEnd={onTouchEnd}\n      onTouchStart={onTouchStart}\n      onKeyDown={onKeyDown}\n      disabled={isDisabled}\n      $isHighlighted={isHighlighted}\n      $size={size}\n      tabIndex={tabIndex}\n      {...makeAccessible({\n        ...accessibilityProps,\n        label: accessibilityLabel ?? accessibilityProps?.label,\n      })}\n      {...metaAttribute({ name: MetaConstants.IconButton, testID })}\n      {...makeAnalyticsAttribute(rest)}\n      {...rest}\n    >\n      <Icon size={size} color={isDisabled ? 'interactive.icon.gray.disabled' : 'currentColor'} />\n    </StyledButton>\n  ),\n);\n\nexport default StyledIconButton;\n"],"names":["StyledButton","styled","button","withConfig","displayName","componentId","props","theme","emphasis","motionToken","motion","styledPropsCSSObject","useStyledProps","emphasisColor","$size","$isHighlighted","throwBladeError","moduleName","message","_objectSpread","border","cursor","disabled","padding","height","makeSize","highlightedButtonSizeMap","undefined","width","borderRadius","radius","round","small","background","display","alignItems","justifyContent","color","colors","interactive","icon","muted","transitionProperty","transitionDuration","castWebType","makeMotionTime","duration","xquick","transitionTimingFunction","easing","standard","subtle","backgroundColor","getIn","highlightedHoverColorMap","getFocusRingStyles","StyledIconButton","React","forwardRef","_ref","ref","Icon","onClick","size","accessibilityLabel","accessibilityProps","isDisabled","isHighlighted","testID","onBlur","onFocus","onMouseLeave","onMouseMove","onPointerDown","onPointerEnter","onTouchEnd","onTouchStart","onKeyDown","tabIndex","rest","_objectWithoutProperties","_excluded","_jsx","type","makeAccessible","label","metaAttribute","name","MetaConstants","IconButton","makeAnalyticsAttribute","children"],"mappings":"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"}