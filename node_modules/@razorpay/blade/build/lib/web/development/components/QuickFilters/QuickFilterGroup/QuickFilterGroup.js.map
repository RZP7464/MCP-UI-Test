{"version":3,"file":"QuickFilterGroup.js","sources":["../../../../../../../src/components/QuickFilters/QuickFilterGroup/QuickFilterGroup.tsx"],"sourcesContent":["import React from 'react';\nimport type { QuickFilterGroupProps, QuickFilterWrapperProps } from '../types';\nimport { QuickFilterGroupProvider, useQuickFilterGroupContext } from './QuickFilterContext';\nimport { RadioGroup } from '~components/Radio';\nimport BaseBox from '~components/Box/BaseBox';\nimport { CheckboxGroup } from '~components/Checkbox';\nimport { useControllableState } from '~utils/useControllable';\nimport { useId } from '~utils/useId';\n\nconst QuickFilterWrapper = ({\n  children,\n  onChange,\n  setSelectedQuickFilters,\n  ...rest\n}: QuickFilterWrapperProps): React.ReactElement => {\n  const { selectedQuickFilters, selectionType } = useQuickFilterGroupContext();\n\n  if (selectionType === 'single') {\n    return (\n      <RadioGroup\n        value={selectedQuickFilters[0] ?? ''}\n        onChange={({ value }) => {\n          setSelectedQuickFilters(() => [value]);\n        }}\n        size=\"small\"\n        {...rest}\n      >\n        {children}\n      </RadioGroup>\n    );\n  }\n  return (\n    <CheckboxGroup\n      value={selectedQuickFilters}\n      onChange={({ values }) => {\n        setSelectedQuickFilters(() => values);\n      }}\n      size=\"small\"\n      {...rest}\n    >\n      {children}\n    </CheckboxGroup>\n  );\n};\n\nconst QuickFilterGroup = ({\n  children,\n  testID,\n  value,\n  defaultValue,\n  onChange,\n  name,\n  selectionType,\n  ...rest\n}: QuickFilterGroupProps): React.ReactElement => {\n  const idBase = useId('quick-filter-group');\n  const [selectedQuickFilters, setSelectedQuickFilters] = useControllableState({\n    value: (value && selectionType === 'single' ? [value] : value) as string[] | undefined,\n    // If selectionType is single, we need to convert the value to an array\n    defaultValue: (defaultValue && selectionType === 'single'\n      ? [defaultValue]\n      : defaultValue ?? []) as string[] | undefined,\n    onChange: (values: string[]) => onChange?.({ values, name: name ?? idBase }),\n  });\n  return (\n    <QuickFilterGroupProvider value={{ selectionType, selectedQuickFilters }}>\n      <QuickFilterWrapper\n        onChange={onChange}\n        setSelectedQuickFilters={setSelectedQuickFilters}\n        {...rest}\n      >\n        <BaseBox display=\"flex\" flexDirection=\"row\" gap=\"spacing.3\">\n          {children}\n        </BaseBox>\n      </QuickFilterWrapper>\n    </QuickFilterGroupProvider>\n  );\n};\n\nexport { QuickFilterGroup };\n"],"names":["QuickFilterWrapper","_ref","children","onChange","setSelectedQuickFilters","rest","_objectWithoutProperties","_excluded","_useQuickFilterGroupC","useQuickFilterGroupContext","selectedQuickFilters","selectionType","_selectedQuickFilters","_jsx","RadioGroup","_objectSpread","value","_ref2","size","CheckboxGroup","_ref3","values","QuickFilterGroup","_ref4","testID","defaultValue","name","_excluded2","idBase","useId","_useControllableState","useControllableState","_useControllableState2","_slicedToArray","QuickFilterGroupProvider","BaseBox","display","flexDirection","gap"],"mappings":"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"}