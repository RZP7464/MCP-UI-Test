{"version":3,"file":"BottomSheetCommon.js","sources":["../../../../../../src/components/BottomSheet/BottomSheetCommon.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable react/display-name */\nimport React from 'react';\nimport type { ReactDOMAttributes } from '@use-gesture/react/dist/declarations/src/types';\nimport { useBottomSheetContext } from './BottomSheetContext';\nimport BaseBox from '~components/Box/BaseBox';\nimport { IconButton } from '~components/Button/IconButton';\nimport { CloseIcon } from '~components/Icons';\nimport type { BladeElementRef } from '~utils/types';\nimport { isReactNative } from '~utils';\nimport { size } from '~tokens/global';\nimport { makeSpace } from '~utils/makeSpace';\nimport { makeSize } from '~utils/makeSize';\n\ntype BottomSheetEmptyHeaderProps = Pick<\n  ReactDOMAttributes,\n  | 'onClickCapture'\n  | 'onKeyDown'\n  | 'onKeyUp'\n  | 'onLostPointerCapture'\n  | 'onPointerCancel'\n  | 'onPointerDown'\n  | 'onPointerMove'\n  | 'onPointerUp'\n>;\n\nconst BottomSheetEmptyHeader = React.forwardRef<BladeElementRef, BottomSheetEmptyHeaderProps>(\n  (\n    {\n      onClickCapture,\n      onKeyDown,\n      onKeyUp,\n      onLostPointerCapture,\n      onPointerCancel,\n      onPointerDown,\n      onPointerMove,\n      onPointerUp,\n    },\n    ref,\n  ) => {\n    const { close, isDismissible, isHeaderFloating } = useBottomSheetContext();\n    const webOnlyEventHandlers: Record<string, any> = isReactNative()\n      ? {}\n      : {\n          onClickCapture,\n          onKeyDown,\n          onKeyUp,\n          onLostPointerCapture,\n          onPointerCancel,\n          onPointerDown,\n          onPointerMove,\n          onPointerUp,\n        };\n\n    let topOffset: 'spacing.5' | 'spacing.0' | undefined = isHeaderFloating\n      ? 'spacing.5'\n      : undefined;\n    if (isReactNative()) {\n      topOffset = 'spacing.0';\n    }\n\n    return (\n      <BaseBox\n        position={isHeaderFloating ? 'absolute' : 'relative'}\n        // bottomsheet empty header suppose to be 28px in height\n        // the grab handle height is 20px & here we are adding 8px\n        // total = 28px\n        height={makeSize(size[8])}\n        touchAction=\"none\"\n        top={topOffset}\n        right=\"spacing.0\"\n        {...webOnlyEventHandlers}\n      >\n        {isDismissible && (\n          <BaseBox\n            display=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            position=\"absolute\"\n            // the bottomsheet handle has a height of 16px + 4px padding\n            // we need to make put the close button at 16px from top so adjusting the 4px\n            // cannot use position=fixed because RN won't support it\n            top={isHeaderFloating ? 'spacing.0' : makeSpace(-size[4])}\n            right=\"spacing.5\"\n            width={makeSize(size[28])}\n            height={makeSize(size[28])}\n            flexShrink={0}\n            backgroundColor=\"popup.background.subtle\"\n            borderRadius=\"max\"\n            zIndex={100}\n          >\n            <IconButton\n              ref={ref}\n              size=\"large\"\n              icon={CloseIcon}\n              accessibilityLabel=\"Close\"\n              onClick={() => close?.()}\n            />\n          </BaseBox>\n        )}\n      </BaseBox>\n    );\n  },\n);\n\nexport { BottomSheetEmptyHeader };\n"],"names":["BottomSheetEmptyHeader","React","forwardRef","_ref","ref","onClickCapture","onKeyDown","onKeyUp","onLostPointerCapture","onPointerCancel","onPointerDown","onPointerMove","onPointerUp","_useBottomSheetContex","useBottomSheetContext","close","isDismissible","isHeaderFloating","webOnlyEventHandlers","isReactNative","topOffset","undefined","_jsx","BaseBox","_objectSpread","position","height","makeSize","size","touchAction","top","right","children","display","alignItems","justifyContent","makeSpace","width","flexShrink","backgroundColor","borderRadius","zIndex","IconButton","icon","CloseIcon","accessibilityLabel","onClick"],"mappings":"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"}