{"version":3,"file":"utils.js","sources":["../../../../../../src/components/BottomSheet/utils.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\ntype SnapPoints = [number, number, number];\n\n// Taken from:\n// https://github.com/bottom-sheet/state-machine/blob/main/src/utils.ts\nfunction computeSnapPointBounds(\n  unsafeHeight: number,\n  snapPoints: SnapPoints,\n): [nearest: number, lower: number, upper: number] {\n  const height = Math.round(unsafeHeight);\n  if (!Number.isFinite(height) || height <= 0) {\n    return [0, 0, 0];\n  }\n\n  const [minSnap] = snapPoints;\n  const nearest = snapPoints.reduce(\n    (prev, curr) => (Math.abs(curr - height) < Math.abs(prev - height) ? curr : prev),\n    minSnap,\n  );\n  const nearestIndex = snapPoints.indexOf(nearest);\n  const lower = snapPoints[Math.max(nearestIndex - 1, 0)];\n  const upper = snapPoints[Math.min(nearestIndex + 1, snapPoints.length - 1)];\n\n  return [nearest, lower, upper];\n}\n\nfunction computeMinContent(\n  {\n    maxHeight,\n    headerHeight,\n    footerHeight,\n  }: { maxHeight: number; headerHeight: number; footerHeight: number },\n  minHeight = 50,\n) {\n  return Math.min(maxHeight, Math.max(headerHeight + footerHeight, minHeight));\n}\n\nfunction computeMaxContent(\n  {\n    maxHeight,\n    headerHeight,\n    contentHeight,\n    footerHeight,\n  }: { maxHeight: number; headerHeight: number; footerHeight: number; contentHeight: number },\n  minHeight?: number,\n) {\n  return Math.min(\n    maxHeight,\n    Math.max(\n      headerHeight + contentHeight + footerHeight,\n      computeMinContent({ maxHeight, headerHeight, footerHeight }, minHeight),\n    ),\n  );\n}\n\nexport type { SnapPoints };\nexport { computeMaxContent, computeMinContent, computeSnapPointBounds };\n"],"names":["computeSnapPointBounds","unsafeHeight","snapPoints","height","Math","round","Number","isFinite","_snapPoints","_slicedToArray","minSnap","nearest","reduce","prev","curr","abs","nearestIndex","indexOf","lower","max","upper","min","length","computeMinContent","_ref","maxHeight","headerHeight","footerHeight","minHeight","arguments","undefined","computeMaxContent","_ref2","contentHeight"],"mappings":";;AAAA;;AAIA;AACA;AACA,SAASA,sBAAsBA,CAC7BC,YAAoB,EACpBC,UAAsB,EAC2B;AACjD,EAAA,IAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAAC,CAAA;EACvC,IAAI,CAACK,MAAM,CAACC,QAAQ,CAACJ,MAAM,CAAC,IAAIA,MAAM,IAAI,CAAC,EAAE;AAC3C,IAAA,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;AAClB,GAAA;AAEA,EAAA,IAAAK,WAAA,GAAAC,cAAA,CAAkBP,UAAU,EAAA,CAAA,CAAA;AAArBQ,IAAAA,OAAO,GAAAF,WAAA,CAAA,CAAA,CAAA,CAAA;EACd,IAAMG,OAAO,GAAGT,UAAU,CAACU,MAAM,CAC/B,UAACC,IAAI,EAAEC,IAAI,EAAA;IAAA,OAAMV,IAAI,CAACW,GAAG,CAACD,IAAI,GAAGX,MAAM,CAAC,GAAGC,IAAI,CAACW,GAAG,CAACF,IAAI,GAAGV,MAAM,CAAC,GAAGW,IAAI,GAAGD,IAAI,CAAA;GAAC,EACjFH,OACF,CAAC,CAAA;AACD,EAAA,IAAMM,YAAY,GAAGd,UAAU,CAACe,OAAO,CAACN,OAAO,CAAC,CAAA;AAChD,EAAA,IAAMO,KAAK,GAAGhB,UAAU,CAACE,IAAI,CAACe,GAAG,CAACH,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;AACvD,EAAA,IAAMI,KAAK,GAAGlB,UAAU,CAACE,IAAI,CAACiB,GAAG,CAACL,YAAY,GAAG,CAAC,EAAEd,UAAU,CAACoB,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;AAE3E,EAAA,OAAO,CAACX,OAAO,EAAEO,KAAK,EAAEE,KAAK,CAAC,CAAA;AAChC,CAAA;AAEA,SAASG,iBAAiBA,CAAAC,IAAA,EAOxB;AAAA,EAAA,IALEC,SAAS,GAAAD,IAAA,CAATC,SAAS;IACTC,YAAY,GAAAF,IAAA,CAAZE,YAAY;IACZC,YAAY,GAAAH,IAAA,CAAZG,YAAY,CAAA;AAAA,EAAA,IAEdC,SAAS,GAAAC,SAAA,CAAAP,MAAA,GAAA,CAAA,IAAAO,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEd,EAAA,OAAOzB,IAAI,CAACiB,GAAG,CAACI,SAAS,EAAErB,IAAI,CAACe,GAAG,CAACO,YAAY,GAAGC,YAAY,EAAEC,SAAS,CAAC,CAAC,CAAA;AAC9E,CAAA;AAEA,SAASG,iBAAiBA,CAAAC,KAAA,EAOxBJ,SAAkB,EAClB;AAAA,EAAA,IANEH,SAAS,GAAAO,KAAA,CAATP,SAAS;IACTC,YAAY,GAAAM,KAAA,CAAZN,YAAY;IACZO,aAAa,GAAAD,KAAA,CAAbC,aAAa;IACbN,YAAY,GAAAK,KAAA,CAAZL,YAAY,CAAA;AAId,EAAA,OAAOvB,IAAI,CAACiB,GAAG,CACbI,SAAS,EACTrB,IAAI,CAACe,GAAG,CACNO,YAAY,GAAGO,aAAa,GAAGN,YAAY,EAC3CJ,iBAAiB,CAAC;AAAEE,IAAAA,SAAS,EAATA,SAAS;AAAEC,IAAAA,YAAY,EAAZA,YAAY;AAAEC,IAAAA,YAAY,EAAZA,YAAAA;AAAa,GAAC,EAAEC,SAAS,CACxE,CACF,CAAC,CAAA;AACH;;;;"}