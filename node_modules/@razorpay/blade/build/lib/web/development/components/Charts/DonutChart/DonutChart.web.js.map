{"version":3,"file":"DonutChart.web.js","sources":["../../../../../../../src/components/Charts/DonutChart/DonutChart.web.tsx"],"sourcesContent":["import React, { isValidElement, useMemo, useState, useRef, useEffect } from 'react';\nimport {\n  PieChart as RechartsPieChart,\n  Pie as RechartsPie,\n  Cell as RechartsCell,\n  ResponsiveContainer as RechartsResponsiveContainer,\n  Label,\n} from 'recharts';\nimport {\n  useChartsColorTheme,\n  getHighestColorInRange,\n  sanitizeString,\n  assignDataColorMapping,\n} from '../utils';\nimport { componentId as commonChartComponentId } from '../CommonChartComponents/tokens';\nimport { CommonChartComponentsContext } from '../CommonChartComponents';\nimport type { DataColorMapping } from '../CommonChartComponents/types';\nimport type {\n  ChartDonutWrapperProps,\n  ChartDonutCellProps,\n  ChartDonutProps,\n  ChartRadius,\n} from './types';\nimport {\n  RADIUS_MAPPING,\n  START_AND_END_ANGLES,\n  componentId,\n  LABEL_DISTANCE_FROM_CENTER,\n  LABEL_FONT_STYLES,\n} from './tokens';\nimport { useTheme } from '~components/BladeProvider';\nimport BaseBox from '~components/Box/BaseBox';\nimport { metaAttribute } from '~utils/metaAttribute';\nimport getIn from '~utils/lodashButBetter/get';\nimport type { DataAnalyticsAttribute, TestID } from '~utils/types';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { getComponentId } from '~utils/isValidAllowedChildren';\n\n// Cell component\nconst _Cell: React.FC<ChartDonutCellProps> = ({ ...rest }) => {\n  return <RechartsCell {...rest} />;\n};\n\nconst ChartDonutCell = assignWithoutSideEffects(_Cell, {\n  componentId: componentId.cell,\n});\n\nconst getTranslate = (\n  legendLayout: 'horizontal' | 'vertical',\n  legendAlignment: 'left' | 'right',\n  legendWidth: number,\n  legendHeight: number,\n): string => {\n  if (legendLayout === 'vertical') {\n    return `translate(calc(-50% + ${\n      legendAlignment === 'right' ? -legendWidth / 2 : legendWidth / 2\n    }px) ,  calc(-50%))`;\n  }\n  return `translate(-50%, calc(-50% - ${legendHeight / 2}px))`;\n};\n\nconst ChartDonutWrapper: React.FC<ChartDonutWrapperProps & TestID & DataAnalyticsAttribute> = ({\n  children,\n  content,\n  testID,\n  ...restProps\n}) => {\n  const { theme } = useTheme();\n  const colorTheme = useMemo(() => {\n    if (Array.isArray(children)) {\n      const donutChild = children.find((child) => getComponentId(child) === componentId.chartDonut);\n      if (!donutChild || !isValidElement(donutChild)) {\n        return 'categorical';\n      }\n      return donutChild?.props?.colorTheme || 'categorical';\n    }\n    return 'categorical';\n  }, [children]);\n\n  const themeColors = useChartsColorTheme({\n    colorTheme,\n    chartName: 'donut',\n  });\n  const [legendHeight, setLegendHeight] = useState(0);\n  const [legendWidth, setLegendWidth] = useState(0);\n  const chartRef = useRef<HTMLDivElement>(null);\n  const isValuePresentInContent = content && typeof content === 'object' && 'value' in content;\n  const isLabelPresentInContent = content && typeof content === 'object' && 'label' in content;\n\n  useEffect(() => {\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === 'childList') {\n          const legendWrapper = chartRef.current?.querySelector('.recharts-legend-wrapper');\n          if (legendWrapper) {\n            const height = legendWrapper.getBoundingClientRect().height;\n            const width = legendWrapper.getBoundingClientRect().width;\n            setLegendHeight(height);\n            setLegendWidth(width);\n          }\n        }\n      });\n    });\n\n    if (chartRef.current) {\n      observer.observe(chartRef.current, { childList: true, subtree: true });\n    }\n\n    return () => observer.disconnect();\n  }, []);\n\n  const pieChartRadius: ChartRadius = useMemo(() => {\n    if (Array.isArray(children)) {\n      const donutChild = children.find((child) => getComponentId(child) === componentId.chartDonut);\n      if (!donutChild || !isValidElement(donutChild)) {\n        return 'medium';\n      }\n      return donutChild?.props?.radius || 'medium';\n    }\n    return 'medium';\n  }, [children]);\n\n  const legendLayout = useMemo(() => {\n    if (Array.isArray(children)) {\n      const legendChild = children.find(\n        (child) => getComponentId(child) === commonChartComponentId.chartLegend,\n      );\n      if (!legendChild || !isValidElement(legendChild)) {\n        return 'horizontal';\n      }\n      return legendChild?.props?.layout || 'horizontal';\n    }\n    return 'horizontal';\n  }, [children]);\n\n  const legendAlignment = useMemo(() => {\n    if (Array.isArray(children)) {\n      const legendChild = children.find(\n        (child) => getComponentId(child) === commonChartComponentId.chartLegend,\n      );\n      if (!legendChild || !isValidElement(legendChild)) {\n        return 'right';\n      }\n      return legendChild?.props?.align || 'right';\n    }\n    return 'right';\n  }, [children]);\n  /**\n   * We need to  check child of ChartDonutWrapper. if they have any custom color we store that.\n   * We need these mapping because colors of tooltip & legend is determine based on this\n   *  recharts do provide a color but it is hex code and we need blade color token .\n   */\n\n  const dataColorMapping = useMemo(() => {\n    const dataColorMapping: DataColorMapping = {};\n    if (Array.isArray(children)) {\n      children.forEach((child) => {\n        if (getComponentId(child) === componentId.chartDonut) {\n          const data = (child as React.ReactElement<ChartDonutProps>).props.data;\n          // Donut Chart can also have <Cell/>  which will come under donutChildren.\n          const donutChildren = (child as React.ReactElement<ChartDonutProps>).props.children;\n          if (Array.isArray(donutChildren)) {\n            donutChildren.forEach((child, index) => {\n              if (getComponentId(child) === componentId.cell && data[index]?.name) {\n                //  assign  colors to the dataColorMapping, if no color is assigned  we assign color in `assignDataColorMapping`\n\n                dataColorMapping[sanitizeString(data[index].name as string)] = {\n                  colorToken: child.props?.color,\n                  isCustomColor: Boolean(child.props?.color),\n                };\n              }\n            });\n          } else {\n            // if we don't have cell as child component then we can we directly assign theme colors\n            data.forEach((item, index) => {\n              dataColorMapping[sanitizeString(item.name as string)] = {\n                colorToken: themeColors[index],\n                isCustomColor: false,\n              };\n            });\n          }\n        }\n      });\n    }\n    assignDataColorMapping(dataColorMapping, themeColors);\n\n    return dataColorMapping;\n  }, [children, themeColors]);\n\n  return (\n    <CommonChartComponentsContext.Provider value={{ chartName: 'donut', dataColorMapping }}>\n      <BaseBox\n        ref={chartRef}\n        {...metaAttribute({ name: 'donut-chart', testID })}\n        {...makeAnalyticsAttribute(restProps)}\n        width=\"100%\"\n        height=\"100%\"\n        {...restProps}\n        position={isValidElement(content) ? 'relative' : undefined}\n      >\n        <RechartsResponsiveContainer width=\"100%\" height=\"100%\">\n          <RechartsPieChart>\n            {children}\n            {isLabelPresentInContent && (\n              <Label\n                position=\"center\"\n                fill={theme.colors.surface.text.gray.muted}\n                fontSize={\n                  theme.typography.fonts.size[\n                    LABEL_FONT_STYLES[pieChartRadius].fontSize\n                      .label as keyof typeof theme.typography.fonts.size\n                  ]\n                }\n                fontFamily={theme.typography.fonts.family.text}\n                fontWeight={theme.typography.fonts.weight.medium}\n                letterSpacing={theme.typography.letterSpacings[100]}\n                dy={\n                  isValuePresentInContent\n                    ? LABEL_DISTANCE_FROM_CENTER[pieChartRadius].withText\n                    : LABEL_DISTANCE_FROM_CENTER[pieChartRadius].normal\n                }\n              >\n                {content?.label}\n              </Label>\n            )}\n            {isValuePresentInContent && (\n              <Label\n                position=\"center\"\n                fill={theme.colors.surface.text.gray.normal}\n                fontSize={\n                  theme.typography.fonts.size[\n                    LABEL_FONT_STYLES[pieChartRadius].fontSize\n                      .text as keyof typeof theme.typography.fonts.size\n                  ]\n                }\n                fontFamily={theme.typography.fonts.family.heading}\n                fontWeight={theme.typography.fonts.weight.bold}\n                letterSpacing={theme.typography.letterSpacings[100]}\n                dy={\n                  isLabelPresentInContent\n                    ? LABEL_DISTANCE_FROM_CENTER[pieChartRadius].withLabel\n                    : LABEL_DISTANCE_FROM_CENTER[pieChartRadius].normal\n                }\n              >\n                {content?.value}\n              </Label>\n            )}\n          </RechartsPieChart>\n        </RechartsResponsiveContainer>\n\n        {isValidElement(content) && (\n          <BaseBox\n            position=\"absolute\"\n            top=\"50%\"\n            left=\"50%\"\n            transform={getTranslate(legendLayout, legendAlignment, legendWidth, legendHeight)}\n            zIndex={10}\n            textAlign=\"center\"\n          >\n            {content}\n          </BaseBox>\n        )}\n      </BaseBox>\n    </CommonChartComponentsContext.Provider>\n  );\n};\n\nconst _ChartDonut: React.FC<ChartDonutProps> = ({\n  cx = '50%',\n  cy = '50%',\n  radius = 'medium',\n  dataKey,\n  nameKey,\n  children,\n  data,\n  colorTheme = 'categorical',\n  type = 'circle',\n  ...rest\n}) => {\n  const radiusConfig = RADIUS_MAPPING[radius];\n  const themeColors = useChartsColorTheme({\n    colorTheme,\n    chartName: 'donut',\n  });\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\n  const { theme } = useTheme();\n\n  const getCellOpacity = (hoveredIndex: number | null, currentIndex: number): number => {\n    if (hoveredIndex === null) return 1;\n    if (hoveredIndex === currentIndex) return 1;\n    return 0.2;\n  };\n\n  const modifiedChildren = useMemo(() => {\n    if (Array.isArray(children)) {\n      return children.map((child, index) => {\n        if (getComponentId(child) === componentId.cell) {\n          /* \n           Why we are not using React.cloneElement ?  just use ChartDonutCell no?\n           cell can never be  custom component in recharts. (as of v3.1.2)\n           (https://github.com/recharts/recharts/issues/2788)\n           https://github.com/recharts/recharts/discussions/5474\n\n           So we have placeholder component ChartDonutCell. which we replaced by RechartsCell internally so dev can see hover effects\n           working out of box. \n           */\n          const fill = getIn(theme.colors, child.props.color || themeColors[index]);\n          return (\n            <RechartsCell\n              {...child.props}\n              fill={fill}\n              key={index}\n              opacity={getCellOpacity(hoveredIndex, index)}\n              strokeWidth={0}\n            />\n          );\n        } else {\n          return child;\n        }\n      });\n    }\n    return data?.map((_, index) => (\n      <RechartsCell\n        fill={getIn(theme.colors, themeColors[index])}\n        key={index}\n        opacity={getCellOpacity(hoveredIndex, index)}\n        strokeWidth={0}\n      />\n    ));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [children, data, colorTheme, hoveredIndex, themeColors]);\n\n  const modifiedExternalDonutChildren = useMemo(() => {\n    if (Array.isArray(children)) {\n      return children.map((child, index) => {\n        if (getComponentId(child) === componentId.cell) {\n          /* \n           Why we are not using React.cloneElement ?  just use ChartDonutCell no?\n           cell can never be  custom component in recharts. (as of v3.1.2)\n           (https://github.com/recharts/recharts/issues/2788)\n           https://github.com/recharts/recharts/discussions/5474\n\n           So we have placeholder component ChartDonutCell. which we replaced by RechartsCell internally so dev can see hover effects\n           working out of box. \n           */\n\n          const fill = getIn(\n            theme.colors,\n            getHighestColorInRange({\n              colorToken: child.props.color || themeColors[index],\n              followIntensityMapping: Boolean(child.props.color),\n            }),\n          );\n          return (\n            <RechartsCell\n              {...child.props}\n              key={`stroke-${index}`}\n              fill=\"transparent\"\n              stroke={fill} // Different stroke color for each cell\n              strokeWidth={0.75}\n              strokeOpacity={getCellOpacity(hoveredIndex, index)}\n            />\n          );\n        } else {\n          return child;\n        }\n      });\n    }\n    return data?.map((_, index) => (\n      <RechartsCell\n        key={`stroke-${index}`}\n        fill=\"transparent\"\n        stroke={getIn(\n          theme.colors,\n          getHighestColorInRange({\n            colorToken: themeColors[index],\n          }),\n        )} // Different stroke color for each cell\n        strokeWidth={0.75}\n        strokeOpacity={getCellOpacity(hoveredIndex, index)}\n      />\n    ));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [children, data, colorTheme, hoveredIndex, themeColors]);\n\n  return (\n    <>\n      <RechartsPie\n        {...rest}\n        cx={cx}\n        cy={cy}\n        outerRadius={radiusConfig.outerRadius}\n        innerRadius={radiusConfig.innerRadius}\n        data={data}\n        startAngle={START_AND_END_ANGLES[type].startAngle}\n        endAngle={START_AND_END_ANGLES[type].endAngle}\n        onMouseEnter={(data, index) => {\n          setHoveredIndex(index);\n        }}\n        onMouseLeave={() => {\n          setHoveredIndex(null);\n        }}\n        paddingAngle={1.5}\n      >\n        {modifiedChildren}\n      </RechartsPie>\n      <RechartsPie\n        cx={cx}\n        cy={cy}\n        outerRadius={radiusConfig.outerRadius}\n        innerRadius={radiusConfig.outerRadius - 0.75} // 1.5px thick stroke\n        data={data}\n        startAngle={START_AND_END_ANGLES[type].startAngle}\n        endAngle={START_AND_END_ANGLES[type].endAngle}\n        fill=\"transparent\"\n        legendType=\"none\"\n        tooltipType=\"none\"\n        paddingAngle={1.5}\n      >\n        {modifiedExternalDonutChildren}\n      </RechartsPie>\n    </>\n  );\n};\n\nconst ChartDonut = assignWithoutSideEffects(_ChartDonut, {\n  componentId: componentId.chartDonut,\n});\n\nexport { ChartDonut, ChartDonutWrapper, ChartDonutCell };\n"],"names":["_Cell","_ref","rest","_extends","_objectDestructuringEmpty","_jsx","RechartsCell","_objectSpread","ChartDonutCell","assignWithoutSideEffects","componentId","cell","getTranslate","legendLayout","legendAlignment","legendWidth","legendHeight","concat","ChartDonutWrapper","_ref2","children","content","testID","restProps","_objectWithoutProperties","_excluded","_useTheme","useTheme","theme","colorTheme","useMemo","Array","isArray","_donutChild$props","donutChild","find","child","getComponentId","chartDonut","isValidElement","props","themeColors","useChartsColorTheme","chartName","_useState","useState","_useState2","_slicedToArray","setLegendHeight","_useState3","_useState4","setLegendWidth","chartRef","useRef","isValuePresentInContent","_typeof","isLabelPresentInContent","useEffect","observer","MutationObserver","mutations","forEach","mutation","type","_chartRef$current","legendWrapper","current","querySelector","height","getBoundingClientRect","width","observe","childList","subtree","disconnect","pieChartRadius","_donutChild$props2","radius","_legendChild$props","legendChild","commonChartComponentId","chartLegend","layout","_legendChild$props2","align","dataColorMapping","data","donutChildren","index","_data$index","name","_child$props","_child$props2","sanitizeString","colorToken","color","isCustomColor","Boolean","item","assignDataColorMapping","CommonChartComponentsContext","Provider","value","_jsxs","BaseBox","ref","metaAttribute","makeAnalyticsAttribute","position","undefined","RechartsResponsiveContainer","RechartsPieChart","Label","fill","colors","surface","text","gray","muted","fontSize","typography","fonts","size","LABEL_FONT_STYLES","label","fontFamily","family","fontWeight","weight","medium","letterSpacing","letterSpacings","dy","LABEL_DISTANCE_FROM_CENTER","withText","normal","heading","bold","withLabel","top","left","transform","zIndex","textAlign","_ChartDonut","_ref3","_ref3$cx","cx","_ref3$cy","cy","_ref3$radius","dataKey","nameKey","_ref3$colorTheme","_ref3$type","_excluded2","radiusConfig","RADIUS_MAPPING","_useState5","_useState6","hoveredIndex","setHoveredIndex","_useTheme2","getCellOpacity","currentIndex","modifiedChildren","map","getIn","_createElement","key","opacity","strokeWidth","_","modifiedExternalDonutChildren","getHighestColorInRange","followIntensityMapping","stroke","strokeOpacity","_Fragment","RechartsPie","outerRadius","innerRadius","startAngle","START_AND_END_ANGLES","endAngle","onMouseEnter","onMouseLeave","paddingAngle","legendType","tooltipType","ChartDonut"],"mappings":"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"}