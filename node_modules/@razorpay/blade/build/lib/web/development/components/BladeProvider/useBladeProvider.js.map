{"version":3,"file":"useBladeProvider.js","sources":["../../../../../../src/components/BladeProvider/useBladeProvider.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport type { Theme } from './index';\nimport { useColorScheme, useBreakpoint } from '~utils';\nimport type { ColorSchemeNames, ColorSchemeNamesInput, ThemeTokens } from '~tokens/theme';\nimport { colorSchemeNamesInput } from '~tokens/theme/theme';\nimport type { TypographyPlatforms } from '~tokens/global';\nimport type { ColorSchemeModes } from '~tokens/theme/theme';\nimport { toTitleCase } from '~utils/toTitleCase';\nimport { throwBladeError } from '~utils/logger';\n\ntype ThemeContextValue = {\n  theme: Theme;\n  colorScheme: ColorSchemeNames;\n  setColorScheme: (colorScheme: ColorSchemeNamesInput) => void;\n  platform: TypographyPlatforms;\n};\n\n/**\n * Reusable hook to be used in BladeProvider.native & BladeProvider.web file\n *\n * This hook processes incoming themeTokens & initialColorScheme\n * And validates & returns the theme values\n */\nconst useBladeProvider = ({\n  themeTokens,\n  initialColorScheme,\n}: {\n  themeTokens: ThemeTokens;\n  initialColorScheme?: ColorSchemeNamesInput;\n}): { theme: Theme; themeContextValue: ThemeContextValue } => {\n  if (__DEV__) {\n    if (!themeTokens) {\n      throwBladeError({\n        message: `Expected valid themeTokens of type ThemeTokens to be passed but found ${typeof themeTokens}`,\n        moduleName: 'BladeProvider',\n      });\n    }\n\n    if (initialColorScheme && !colorSchemeNamesInput.includes(initialColorScheme)) {\n      throwBladeError({\n        message: `Expected color scheme to be one of [${colorSchemeNamesInput.toString()}] but received ${initialColorScheme}`,\n        moduleName: 'BladeProvider',\n      });\n    }\n  }\n\n  const { colorScheme, setColorScheme } = useColorScheme(initialColorScheme);\n  const { matchedDeviceType } = useBreakpoint({\n    breakpoints: themeTokens.breakpoints,\n  });\n\n  const onColorMode = `on${toTitleCase(colorScheme)}` as ColorSchemeModes;\n  const onDeviceType = `on${toTitleCase(matchedDeviceType)}` as TypographyPlatforms;\n\n  const theme: Theme = {\n    ...themeTokens,\n    colors: themeTokens.colors[onColorMode],\n    elevation: themeTokens.elevation[onColorMode],\n    typography: themeTokens.typography[onDeviceType],\n  };\n\n  const themeContextValue = {\n    theme,\n    colorScheme,\n    setColorScheme,\n    platform: onDeviceType,\n  };\n\n  return { themeContextValue, theme };\n};\n\nexport { useBladeProvider };\n"],"names":["useBladeProvider","_ref","themeTokens","initialColorScheme","throwBladeError","message","concat","_typeof","moduleName","colorSchemeNamesInput","includes","toString","_useColorScheme","useColorScheme","colorScheme","setColorScheme","_useBreakpoint","useBreakpoint","breakpoints","matchedDeviceType","onColorMode","toTitleCase","onDeviceType","theme","_objectSpread","colors","elevation","typography","themeContextValue","platform"],"mappings":";;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAC,IAAA,EAMwC;AAAA,EAAA,IAL5DC,WAAW,GAAAD,IAAA,CAAXC,WAAW;IACXC,kBAAkB,GAAAF,IAAA,CAAlBE,kBAAkB,CAAA;AAKlB,EAAA,IAAI,IAAO,EAAE;IACX,IAAI,CAACD,WAAW,EAAE;AAChBE,MAAAA,eAAe,CAAC;AACdC,QAAAA,OAAO,2EAAAC,MAAA,CAAAC,OAAA,CAAkFL,WAAW,CAAE,CAAA;AACtGM,QAAAA,UAAU,EAAE,eAAA;AACd,OAAC,CAAC,CAAA;AACJ,KAAA;IAEA,IAAIL,kBAAkB,IAAI,CAACM,qBAAqB,CAACC,QAAQ,CAACP,kBAAkB,CAAC,EAAE;AAC7EC,MAAAA,eAAe,CAAC;AACdC,QAAAA,OAAO,EAAAC,sCAAAA,CAAAA,MAAA,CAAyCG,qBAAqB,CAACE,QAAQ,EAAE,EAAAL,iBAAAA,CAAAA,CAAAA,MAAA,CAAkBH,kBAAkB,CAAE;AACtHK,QAAAA,UAAU,EAAE,eAAA;AACd,OAAC,CAAC,CAAA;AACJ,KAAA;AACF,GAAA;AAEA,EAAA,IAAAI,eAAA,GAAwCC,cAAc,CAACV,kBAAkB,CAAC;IAAlEW,WAAW,GAAAF,eAAA,CAAXE,WAAW;IAAEC,cAAc,GAAAH,eAAA,CAAdG,cAAc,CAAA;EACnC,IAAAC,cAAA,GAA8BC,aAAa,CAAC;MAC1CC,WAAW,EAAEhB,WAAW,CAACgB,WAAAA;AAC3B,KAAC,CAAC;IAFMC,iBAAiB,GAAAH,cAAA,CAAjBG,iBAAiB,CAAA;EAIzB,IAAMC,WAAW,QAAAd,MAAA,CAAQe,WAAW,CAACP,WAAW,CAAC,CAAsB,CAAA;EACvE,IAAMQ,YAAY,QAAAhB,MAAA,CAAQe,WAAW,CAACF,iBAAiB,CAAC,CAAyB,CAAA;AAEjF,EAAA,IAAMI,KAAY,GAAAC,aAAA,CAAAA,aAAA,KACbtB,WAAW,CAAA,EAAA,EAAA,EAAA;AACduB,IAAAA,MAAM,EAAEvB,WAAW,CAACuB,MAAM,CAACL,WAAW,CAAC;AACvCM,IAAAA,SAAS,EAAExB,WAAW,CAACwB,SAAS,CAACN,WAAW,CAAC;AAC7CO,IAAAA,UAAU,EAAEzB,WAAW,CAACyB,UAAU,CAACL,YAAY,CAAA;GAChD,CAAA,CAAA;AAED,EAAA,IAAMM,iBAAiB,GAAG;AACxBL,IAAAA,KAAK,EAALA,KAAK;AACLT,IAAAA,WAAW,EAAXA,WAAW;AACXC,IAAAA,cAAc,EAAdA,cAAc;AACdc,IAAAA,QAAQ,EAAEP,YAAAA;GACX,CAAA;EAED,OAAO;AAAEM,IAAAA,iBAAiB,EAAjBA,iBAAiB;AAAEL,IAAAA,KAAK,EAALA,KAAAA;GAAO,CAAA;AACrC;;;;"}