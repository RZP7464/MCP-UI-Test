{"version":3,"file":"DropdownLink.js","sources":["../../../../../../src/components/Dropdown/DropdownLink.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n\nimport React from 'react';\nimport { getActionListContainerRole } from '../ActionList/getA11yRoles';\nimport { BaseLink } from '../Link/BaseLink';\nimport type { BaseLinkProps } from '../Link/BaseLink';\nimport type { LinkButtonVariantProps } from '../Link';\nimport { useDropdown } from './useDropdown';\nimport { dropdownComponentIds } from './dropdownComponentIds';\nimport { assignWithoutSideEffects } from '~src/utils/assignWithoutSideEffects';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype DropdownLinkProps = LinkButtonVariantProps & {\n  onBlur?: BaseLinkProps['onBlur'];\n  onKeyDown?: BaseLinkProps['onKeyDown'];\n};\n\nconst _DropdownLink = ({\n  children,\n  icon,\n  iconPosition = 'left',\n  onClick,\n  onBlur,\n  onKeyDown,\n  isDisabled,\n  href,\n  target,\n  rel,\n  accessibilityLabel,\n  size = 'medium',\n  testID,\n  hitSlop,\n  htmlTitle,\n  ...props\n}: DropdownLinkProps): React.ReactElement => {\n  const {\n    onTriggerClick,\n    onTriggerKeydown,\n    dropdownBaseId,\n    isOpen,\n    activeIndex,\n    hasFooterAction,\n    triggererRef,\n  } = useDropdown();\n\n  return (\n    // Using BaseButton here to avoid exporting onBlur and onKeyDown from Button\n    // If in future we decide to export onBlur and onKeyDown on Button, this can be replaced with Button\n    <BaseLink\n      variant=\"button\"\n      {...(icon ? { icon, children } : { children })}\n      iconPosition={iconPosition}\n      size={size}\n      testID={testID}\n      hitSlop={hitSlop}\n      htmlTitle={htmlTitle}\n      isDisabled={isDisabled}\n      {...props}\n      {...makeAnalyticsAttribute(props)}\n      ref={triggererRef as any}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        hasPopup: getActionListContainerRole(hasFooterAction, 'DropdownButton'),\n        expanded: isOpen,\n        controls: `${dropdownBaseId}-actionlist`,\n        activeDescendant: activeIndex >= 0 ? `${dropdownBaseId}-${activeIndex}` : undefined,\n      }}\n      onClick={(e) => {\n        onTriggerClick();\n        // Setting it for web fails it on native typecheck and vice versa\n        onClick?.(e as any);\n      }}\n      onBlur={(e) => {\n        // Setting it for web fails it on native typecheck and vice versa\n        onBlur?.(e as any);\n      }}\n      onKeyDown={(e) => {\n        onTriggerKeydown?.({ event: e as any });\n        // Setting it for web fails it on native typecheck and vice versa\n        onKeyDown?.(e as any);\n      }}\n    />\n  );\n};\n\nconst DropdownLink = assignWithoutSideEffects(_DropdownLink, {\n  componentId: dropdownComponentIds.triggers.DropdownLink,\n});\n\nexport { DropdownLink };\n"],"names":["_DropdownLink","_ref","children","icon","_ref$iconPosition","iconPosition","onClick","onBlur","onKeyDown","isDisabled","href","target","rel","accessibilityLabel","_ref$size","size","testID","hitSlop","htmlTitle","props","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","onTriggerClick","onTriggerKeydown","dropdownBaseId","isOpen","activeIndex","hasFooterAction","triggererRef","_jsx","BaseLink","_objectSpread","variant","makeAnalyticsAttribute","ref","accessibilityProps","label","hasPopup","getActionListContainerRole","expanded","controls","concat","activeDescendant","undefined","e","event","DropdownLink","assignWithoutSideEffects","componentId","dropdownComponentIds","triggers"],"mappings":"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"}