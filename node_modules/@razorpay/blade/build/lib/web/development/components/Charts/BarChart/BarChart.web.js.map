{"version":3,"file":"BarChart.web.js","sources":["../../../../../../../src/components/Charts/BarChart/BarChart.web.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  BarChart as RechartsBarChart,\n  Bar as RechartsBar,\n  ResponsiveContainer as RechartsResponsiveContainer,\n} from 'recharts';\nimport { useChartsColorTheme, getHighestColorInRange, assignDataColorMapping } from '../utils';\nimport { CommonChartComponentsContext } from '../CommonChartComponents';\nimport type { DataColorMapping } from '../CommonChartComponents';\nimport { BarChartContext, useBarChartContext } from './BarChartContext';\nimport type { ChartBarProps, ChartBarWrapperProps } from './types';\nimport {\n  DISTANCE_BETWEEN_STACKED_BARS,\n  componentIds,\n  BAR_SIZE,\n  DISTANCE_BETWEEN_BARS,\n  DISTANCE_BETWEEN_CATEGORY_BARS,\n} from './tokens';\nimport { useTheme } from '~components/BladeProvider';\nimport BaseBox from '~components/Box/BaseBox';\nimport { metaAttribute } from '~utils/metaAttribute';\nimport getIn from '~utils/lodashButBetter/get';\nimport isNumber from '~utils/lodashButBetter/isNumber';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { getComponentId } from '~utils/isValidAllowedChildren';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport type { DataAnalyticsAttribute, TestID } from '~utils/types';\n\nexport type RechartsShapeProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  fill: string;\n  index: number;\n};\n\n// Bar component - resolves Blade color tokens to actual colors\nconst _ChartBar: React.FC<ChartBarProps> = React.memo(\n  ({\n    color,\n    name,\n    dataKey,\n    activeBar = false,\n    label = false,\n    showLegend = true,\n    _index = 0,\n    ...rest\n  }) => {\n    const { theme } = useTheme();\n    const { layout, activeIndex, colorTheme: _colorTheme, totalBars } = useBarChartContext();\n    const defaultColorArray = useChartsColorTheme({\n      colorTheme: _colorTheme,\n      chartName: 'bar',\n      chartDataIndicators: totalBars,\n    });\n    const fill = getIn(theme.colors, color ?? defaultColorArray[_index]);\n    const strokeFill = getIn(\n      theme.colors,\n      getHighestColorInRange({\n        colorToken: color ?? defaultColorArray[_index],\n        followIntensityMapping: Boolean(color),\n      }),\n    );\n\n    const isStacked = rest.stackId !== undefined;\n    const animationBegin = isStacked\n      ? (theme.motion.duration.gentle / totalBars) * _index\n      : theme.motion.duration.gentle;\n    const animationDuration = isStacked\n      ? theme.motion.duration.gentle / totalBars\n      : theme.motion.duration.gentle;\n\n    return (\n      <RechartsBar\n        {...rest}\n        fill={fill}\n        legendType={showLegend ? 'rect' : 'none'}\n        activeBar={activeBar}\n        label={label}\n        animationBegin={animationBegin}\n        animationDuration={animationDuration}\n        animationEasing=\"linear\"\n        dataKey={dataKey}\n        name={name}\n        key={`${dataKey}-${_index}-${name}`}\n        shape={(props: unknown) => {\n          const { fill, x, y, width, height, index: barIndex } = props as RechartsShapeProps;\n          const fillOpacity = isNumber(activeIndex) ? (barIndex === activeIndex ? 1 : 0.2) : 1;\n          const gap = DISTANCE_BETWEEN_STACKED_BARS;\n          const isVertical = layout === 'vertical';\n\n          if (isVertical) {\n            return (\n              <>\n                <rect\n                  fill={fill}\n                  x={x + gap / 1.5}\n                  y={y}\n                  width={width - gap}\n                  height={height}\n                  fillOpacity={fillOpacity}\n                />\n                <rect\n                  fill={strokeFill}\n                  x={x + gap / 1.5 + (width - gap) - 1.5} // Position at the right end\n                  y={y}\n                  width={width > gap ? 1.5 : 0}\n                  height={height}\n                  fillOpacity={fillOpacity}\n                />\n              </>\n            );\n          }\n          return (\n            <>\n              <rect\n                fill={fill}\n                x={x}\n                y={y + gap / 1.5}\n                width={width}\n                height={height > gap ? height - gap : 0}\n                fillOpacity={fillOpacity}\n              />\n              <rect\n                fill={strokeFill}\n                x={x}\n                y={y + gap / 1.5}\n                width={width}\n                height={height > gap ? 1.5 : 0}\n                fillOpacity={fillOpacity}\n              />\n            </>\n          );\n        }}\n      />\n    );\n  },\n);\n\nconst ChartBar = assignWithoutSideEffects(_ChartBar, {\n  componentId: componentIds.chartBar,\n});\n\n// BarChart wrapper with default margin, auto-color assignment, and max bars guard\nconst ChartBarWrapper: React.FC<ChartBarWrapperProps & TestID & DataAnalyticsAttribute> = ({\n  children,\n  colorTheme = 'categorical',\n  layout = 'horizontal',\n  testID,\n  data = [],\n  ...restProps\n}) => {\n  const [activeIndex, setActiveIndex] = useState<number | undefined>(undefined);\n\n  const themeColors = useChartsColorTheme({\n    colorTheme,\n    chartName: 'bar',\n  });\n\n  const { barChartModifiedChildrens, totalBars, dataColorMapping } = React.useMemo(() => {\n    const childrenArray = React.Children.toArray(children);\n    const dataColorMapping: DataColorMapping = {};\n\n    // Count ChartBar components\n    const totalBars = childrenArray.filter(\n      (child): child is React.ReactElement =>\n        React.isValidElement(child) && getComponentId(child) === componentIds.chartBar,\n    ).length;\n\n    let BarChartIndex = 0;\n    /**\n     * We check to check child of ChartBarWrapper. if they have any custom color we store that.\n     * We need these mapping because colors of tooltip & legend is determine based on this\n     *  recharts do provide a color but it is hex code and we need blade color token .\n     */\n    const modifiedChildren = React.Children.map(children, (child) => {\n      if (React.isValidElement(child) && getComponentId(child) === componentIds.chartBar) {\n        const childColor = child?.props?.color;\n        const dataKey = (child?.props as ChartBarProps)?.dataKey as string;\n        if (dataKey) {\n          //  assign  colors to the dataColorMapping, if no color is assigned  we assign color in `assignDataColorMapping`\n          dataColorMapping[dataKey] = {\n            colorToken: childColor,\n            isCustomColor: Boolean(childColor),\n          };\n        }\n        return React.cloneElement(child, {\n          _index: BarChartIndex++,\n        } as Partial<ChartBarProps>);\n      }\n      return child;\n    });\n    assignDataColorMapping(dataColorMapping, themeColors);\n\n    return {\n      barChartModifiedChildrens: modifiedChildren,\n      totalBars,\n      dataColorMapping,\n    };\n  }, [children, themeColors]);\n\n  return (\n    <CommonChartComponentsContext.Provider value={{ chartName: 'bar', dataColorMapping }}>\n      <BaseBox\n        {...metaAttribute({ name: 'bar-chart', testID })}\n        {...makeAnalyticsAttribute(restProps)}\n        width=\"100%\"\n        height=\"100%\"\n        {...restProps}\n      >\n        <BarChartContext.Provider\n          value={{\n            layout,\n            activeIndex,\n            colorTheme,\n            totalBars,\n          }}\n        >\n          <RechartsResponsiveContainer width=\"100%\" height=\"100%\">\n            <RechartsBarChart\n              barSize={BAR_SIZE}\n              barGap={DISTANCE_BETWEEN_BARS}\n              barCategoryGap={DISTANCE_BETWEEN_CATEGORY_BARS}\n              onMouseMove={(state) => {\n                setActiveIndex(state?.activeIndex ? Number(state?.activeIndex) : undefined);\n              }}\n              onMouseLeave={() => {\n                setActiveIndex(undefined);\n              }}\n              layout={layout}\n              data={data}\n            >\n              {barChartModifiedChildrens}\n            </RechartsBarChart>\n          </RechartsResponsiveContainer>\n        </BarChartContext.Provider>\n      </BaseBox>\n    </CommonChartComponentsContext.Provider>\n  );\n};\n\nexport { ChartBarWrapper, ChartBar };\nexport type { ChartBarProps, ChartBarWrapperProps };\n"],"names":["_ChartBar","React","memo","_ref","color","name","dataKey","_ref$activeBar","activeBar","_ref$label","label","_ref$showLegend","showLegend","_ref$_index","_index","rest","_objectWithoutProperties","_excluded","_useTheme","useTheme","theme","_useBarChartContext","useBarChartContext","layout","activeIndex","_colorTheme","colorTheme","totalBars","defaultColorArray","useChartsColorTheme","chartName","chartDataIndicators","fill","getIn","colors","strokeFill","getHighestColorInRange","colorToken","followIntensityMapping","Boolean","isStacked","stackId","undefined","animationBegin","motion","duration","gentle","animationDuration","_createElement","RechartsBar","_objectSpread","legendType","animationEasing","key","concat","shape","props","_ref2","x","y","width","height","barIndex","index","fillOpacity","isNumber","gap","DISTANCE_BETWEEN_STACKED_BARS","isVertical","_jsxs","_Fragment","children","_jsx","ChartBar","assignWithoutSideEffects","componentId","componentIds","chartBar","ChartBarWrapper","_ref3","_ref3$colorTheme","_ref3$layout","testID","_ref3$data","data","restProps","_excluded2","_useState","useState","_useState2","_slicedToArray","setActiveIndex","themeColors","_React$useMemo","useMemo","childrenArray","Children","toArray","dataColorMapping","filter","child","isValidElement","getComponentId","length","BarChartIndex","modifiedChildren","map","_child$props","_child$props2","childColor","isCustomColor","cloneElement","assignDataColorMapping","barChartModifiedChildrens","CommonChartComponentsContext","Provider","value","BaseBox","metaAttribute","makeAnalyticsAttribute","BarChartContext","RechartsResponsiveContainer","RechartsBarChart","barSize","BAR_SIZE","barGap","DISTANCE_BETWEEN_BARS","barCategoryGap","DISTANCE_BETWEEN_CATEGORY_BARS","onMouseMove","state","Number","onMouseLeave"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA,IAAMA,SAAkC,gBAAGC,cAAK,CAACC,IAAI,CACnD,UAAAC,IAAA,EASM;AAAA,EAAA,IARJC,KAAK,GAAAD,IAAA,CAALC,KAAK;IACLC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IACJC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IAAAC,cAAA,GAAAJ,IAAA,CACPK,SAAS;AAATA,IAAAA,SAAS,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,cAAA;IAAAE,UAAA,GAAAN,IAAA,CACjBO,KAAK;AAALA,IAAAA,KAAK,GAAAD,UAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,UAAA;IAAAE,eAAA,GAAAR,IAAA,CACbS,UAAU;AAAVA,IAAAA,UAAU,GAAAD,eAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,eAAA;IAAAE,WAAA,GAAAV,IAAA,CACjBW,MAAM;AAANA,IAAAA,MAAM,GAAAD,WAAA,KAAG,KAAA,CAAA,GAAA,CAAC,GAAAA,WAAA;AACPE,IAAAA,IAAI,GAAAC,wBAAA,CAAAb,IAAA,EAAAc,SAAA,CAAA,CAAA;AAEP,EAAA,IAAAC,SAAA,GAAkBC,QAAQ,EAAE;IAApBC,KAAK,GAAAF,SAAA,CAALE,KAAK,CAAA;AACb,EAAA,IAAAC,mBAAA,GAAoEC,kBAAkB,EAAE;IAAhFC,MAAM,GAAAF,mBAAA,CAANE,MAAM;IAAEC,WAAW,GAAAH,mBAAA,CAAXG,WAAW;IAAcC,WAAW,GAAAJ,mBAAA,CAAvBK,UAAU;IAAeC,SAAS,GAAAN,mBAAA,CAATM,SAAS,CAAA;EAC/D,IAAMC,iBAAiB,GAAGC,mBAAmB,CAAC;AAC5CH,IAAAA,UAAU,EAAED,WAAW;AACvBK,IAAAA,SAAS,EAAE,KAAK;AAChBC,IAAAA,mBAAmB,EAAEJ,SAAAA;AACvB,GAAC,CAAC,CAAA;AACF,EAAA,IAAMK,IAAI,GAAGC,KAAK,CAACb,KAAK,CAACc,MAAM,EAAE9B,KAAK,KAALA,IAAAA,IAAAA,KAAK,cAALA,KAAK,GAAIwB,iBAAiB,CAACd,MAAM,CAAC,CAAC,CAAA;EACpE,IAAMqB,UAAU,GAAGF,KAAK,CACtBb,KAAK,CAACc,MAAM,EACZE,sBAAsB,CAAC;IACrBC,UAAU,EAAEjC,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAALA,KAAK,GAAIwB,iBAAiB,CAACd,MAAM,CAAC;IAC9CwB,sBAAsB,EAAEC,OAAO,CAACnC,KAAK,CAAA;AACvC,GAAC,CACH,CAAC,CAAA;AAED,EAAA,IAAMoC,SAAS,GAAGzB,IAAI,CAAC0B,OAAO,KAAKC,SAAS,CAAA;EAC5C,IAAMC,cAAc,GAAGH,SAAS,GAC3BpB,KAAK,CAACwB,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGnB,SAAS,GAAIb,MAAM,GACnDM,KAAK,CAACwB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAA;EAChC,IAAMC,iBAAiB,GAAGP,SAAS,GAC/BpB,KAAK,CAACwB,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGnB,SAAS,GACxCP,KAAK,CAACwB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAA;EAEhC,oBACEE,aAAA,CAACC,GAAW,EAAAC,aAAA,CAAAA,aAAA,KACNnC,IAAI,CAAA,EAAA,EAAA,EAAA;AACRiB,IAAAA,IAAI,EAAEA,IAAK;AACXmB,IAAAA,UAAU,EAAEvC,UAAU,GAAG,MAAM,GAAG,MAAO;AACzCJ,IAAAA,SAAS,EAAEA,SAAU;AACrBE,IAAAA,KAAK,EAAEA,KAAM;AACbiC,IAAAA,cAAc,EAAEA,cAAe;AAC/BI,IAAAA,iBAAiB,EAAEA,iBAAkB;AACrCK,IAAAA,eAAe,EAAC,QAAQ;AACxB9C,IAAAA,OAAO,EAAEA,OAAQ;AACjBD,IAAAA,IAAI,EAAEA,IAAK;AACXgD,IAAAA,GAAG,EAAAC,EAAAA,CAAAA,MAAA,CAAKhD,OAAO,EAAAgD,GAAAA,CAAAA,CAAAA,MAAA,CAAIxC,MAAM,EAAAwC,GAAAA,CAAAA,CAAAA,MAAA,CAAIjD,IAAI,CAAG;AACpCkD,IAAAA,KAAK,EAAE,SAAPA,KAAKA,CAAGC,KAAc,EAAK;MACzB,IAAAC,KAAA,GAAuDD,KAAK;QAApDxB,IAAI,GAAAyB,KAAA,CAAJzB,IAAI;QAAE0B,CAAC,GAAAD,KAAA,CAADC,CAAC;QAAEC,CAAC,GAAAF,KAAA,CAADE,CAAC;QAAEC,KAAK,GAAAH,KAAA,CAALG,KAAK;QAAEC,MAAM,GAAAJ,KAAA,CAANI,MAAM;QAASC,QAAQ,GAAAL,KAAA,CAAfM,KAAK,CAAA;AACxC,MAAA,IAAMC,WAAW,GAAGC,QAAQ,CAACzC,WAAW,CAAC,GAAIsC,QAAQ,KAAKtC,WAAW,GAAG,CAAC,GAAG,GAAG,GAAI,CAAC,CAAA;MACpF,IAAM0C,GAAG,GAAGC,6BAA6B,CAAA;AACzC,MAAA,IAAMC,UAAU,GAAG7C,MAAM,KAAK,UAAU,CAAA;AAExC,MAAA,IAAI6C,UAAU,EAAE;QACd,oBACEC,IAAA,CAAAC,QAAA,EAAA;AAAAC,UAAAA,QAAA,gBACEC,GAAA,CAAA,MAAA,EAAA;AACExC,YAAAA,IAAI,EAAEA,IAAK;AACX0B,YAAAA,CAAC,EAAEA,CAAC,GAAGQ,GAAG,GAAG,GAAI;AACjBP,YAAAA,CAAC,EAAEA,CAAE;YACLC,KAAK,EAAEA,KAAK,GAAGM,GAAI;AACnBL,YAAAA,MAAM,EAAEA,MAAO;AACfG,YAAAA,WAAW,EAAEA,WAAAA;WACd,CAAC,eACFQ,GAAA,CAAA,MAAA,EAAA;AACExC,YAAAA,IAAI,EAAEG,UAAW;AACjBuB,YAAAA,CAAC,EAAEA,CAAC,GAAGQ,GAAG,GAAG,GAAG,IAAIN,KAAK,GAAGM,GAAG,CAAC,GAAG,GAAI;AAAC;AACxCP,YAAAA,CAAC,EAAEA,CAAE;AACLC,YAAAA,KAAK,EAAEA,KAAK,GAAGM,GAAG,GAAG,GAAG,GAAG,CAAE;AAC7BL,YAAAA,MAAM,EAAEA,MAAO;AACfG,YAAAA,WAAW,EAAEA,WAAAA;AAAY,WAC1B,CAAC,CAAA;AAAA,SACF,CAAC,CAAA;AAEP,OAAA;MACA,oBACEK,IAAA,CAAAC,QAAA,EAAA;AAAAC,QAAAA,QAAA,gBACEC,GAAA,CAAA,MAAA,EAAA;AACExC,UAAAA,IAAI,EAAEA,IAAK;AACX0B,UAAAA,CAAC,EAAEA,CAAE;AACLC,UAAAA,CAAC,EAAEA,CAAC,GAAGO,GAAG,GAAG,GAAI;AACjBN,UAAAA,KAAK,EAAEA,KAAM;UACbC,MAAM,EAAEA,MAAM,GAAGK,GAAG,GAAGL,MAAM,GAAGK,GAAG,GAAG,CAAE;AACxCF,UAAAA,WAAW,EAAEA,WAAAA;SACd,CAAC,eACFQ,GAAA,CAAA,MAAA,EAAA;AACExC,UAAAA,IAAI,EAAEG,UAAW;AACjBuB,UAAAA,CAAC,EAAEA,CAAE;AACLC,UAAAA,CAAC,EAAEA,CAAC,GAAGO,GAAG,GAAG,GAAI;AACjBN,UAAAA,KAAK,EAAEA,KAAM;AACbC,UAAAA,MAAM,EAAEA,MAAM,GAAGK,GAAG,GAAG,GAAG,GAAG,CAAE;AAC/BF,UAAAA,WAAW,EAAEA,WAAAA;AAAY,SAC1B,CAAC,CAAA;AAAA,OACF,CAAC,CAAA;AAEP,KAAA;AAAE,GAAA,CACH,CAAC,CAAA;AAEN,CACF,CAAC,CAAA;AAED,IAAMS,QAAQ,gBAAGC,wBAAwB,CAAC1E,SAAS,EAAE;EACnD2E,WAAW,EAAEC,YAAY,CAACC,QAAAA;AAC5B,CAAC,EAAC;;AAEF;AACA,IAAMC,eAAiF,GAAG,SAApFA,eAAiFA,CAAAC,KAAA,EAOjF;AAAA,EAAA,IANJR,QAAQ,GAAAQ,KAAA,CAARR,QAAQ;IAAAS,gBAAA,GAAAD,KAAA,CACRrD,UAAU;AAAVA,IAAAA,UAAU,GAAAsD,gBAAA,KAAG,KAAA,CAAA,GAAA,aAAa,GAAAA,gBAAA;IAAAC,YAAA,GAAAF,KAAA,CAC1BxD,MAAM;AAANA,IAAAA,MAAM,GAAA0D,YAAA,KAAG,KAAA,CAAA,GAAA,YAAY,GAAAA,YAAA;IACrBC,MAAM,GAAAH,KAAA,CAANG,MAAM;IAAAC,UAAA,GAAAJ,KAAA,CACNK,IAAI;AAAJA,IAAAA,IAAI,GAAAD,UAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,UAAA;AACNE,IAAAA,SAAS,GAAArE,wBAAA,CAAA+D,KAAA,EAAAO,UAAA,CAAA,CAAA;AAEZ,EAAA,IAAAC,SAAA,GAAsCC,QAAQ,CAAqB9C,SAAS,CAAC;IAAA+C,UAAA,GAAAC,cAAA,CAAAH,SAAA,EAAA,CAAA,CAAA;AAAtE/D,IAAAA,WAAW,GAAAiE,UAAA,CAAA,CAAA,CAAA;AAAEE,IAAAA,cAAc,GAAAF,UAAA,CAAA,CAAA,CAAA,CAAA;EAElC,IAAMG,WAAW,GAAG/D,mBAAmB,CAAC;AACtCH,IAAAA,UAAU,EAAVA,UAAU;AACVI,IAAAA,SAAS,EAAE,KAAA;AACb,GAAC,CAAC,CAAA;AAEF,EAAA,IAAA+D,cAAA,GAAmE5F,cAAK,CAAC6F,OAAO,CAAC,YAAM;MACrF,IAAMC,aAAa,GAAG9F,cAAK,CAAC+F,QAAQ,CAACC,OAAO,CAAC1B,QAAQ,CAAC,CAAA;MACtD,IAAM2B,gBAAkC,GAAG,EAAE,CAAA;;AAE7C;AACA,MAAA,IAAMvE,SAAS,GAAGoE,aAAa,CAACI,MAAM,CACpC,UAACC,KAAK,EAAA;AAAA,QAAA,oBACJnG,cAAK,CAACoG,cAAc,CAACD,KAAK,CAAC,IAAIE,cAAc,CAACF,KAAK,CAAC,KAAKxB,YAAY,CAACC,QAAQ,CAAA;OAClF,CAAC,CAAC0B,MAAM,CAAA;MAER,IAAIC,aAAa,GAAG,CAAC,CAAA;AACrB;AACJ;AACA;AACA;AACA;AACI,MAAA,IAAMC,gBAAgB,GAAGxG,cAAK,CAAC+F,QAAQ,CAACU,GAAG,CAACnC,QAAQ,EAAE,UAAC6B,KAAK,EAAK;AAC/D,QAAA,iBAAInG,cAAK,CAACoG,cAAc,CAACD,KAAK,CAAC,IAAIE,cAAc,CAACF,KAAK,CAAC,KAAKxB,YAAY,CAACC,QAAQ,EAAE;UAAA,IAAA8B,YAAA,EAAAC,aAAA,CAAA;AAClF,UAAA,IAAMC,UAAU,GAAGT,KAAK,KAALA,IAAAA,IAAAA,KAAK,gBAAAO,YAAA,GAALP,KAAK,CAAE5C,KAAK,MAAAmD,IAAAA,IAAAA,YAAA,KAAZA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,YAAA,CAAcvG,KAAK,CAAA;AACtC,UAAA,IAAME,OAAO,GAAI8F,KAAK,KAALA,IAAAA,IAAAA,KAAK,gBAAAQ,aAAA,GAALR,KAAK,CAAE5C,KAAK,MAAAoD,IAAAA,IAAAA,aAAA,KAAbA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,aAAA,CAAiCtG,OAAiB,CAAA;AAClE,UAAA,IAAIA,OAAO,EAAE;AACX;YACA4F,gBAAgB,CAAC5F,OAAO,CAAC,GAAG;AAC1B+B,cAAAA,UAAU,EAAEwE,UAAU;cACtBC,aAAa,EAAEvE,OAAO,CAACsE,UAAU,CAAA;aAClC,CAAA;AACH,WAAA;AACA,UAAA,oBAAO5G,cAAK,CAAC8G,YAAY,CAACX,KAAK,EAAE;AAC/BtF,YAAAA,MAAM,EAAE0F,aAAa,EAAA;AACvB,WAA2B,CAAC,CAAA;AAC9B,SAAA;AACA,QAAA,OAAOJ,KAAK,CAAA;AACd,OAAC,CAAC,CAAA;AACFY,MAAAA,sBAAsB,CAACd,gBAAgB,EAAEN,WAAW,CAAC,CAAA;MAErD,OAAO;AACLqB,QAAAA,yBAAyB,EAAER,gBAAgB;AAC3C9E,QAAAA,SAAS,EAATA,SAAS;AACTuE,QAAAA,gBAAgB,EAAhBA,gBAAAA;OACD,CAAA;AACH,KAAC,EAAE,CAAC3B,QAAQ,EAAEqB,WAAW,CAAC,CAAC;IAxCnBqB,yBAAyB,GAAApB,cAAA,CAAzBoB,yBAAyB;IAAEtF,SAAS,GAAAkE,cAAA,CAATlE,SAAS;IAAEuE,gBAAgB,GAAAL,cAAA,CAAhBK,gBAAgB,CAAA;AA0C9D,EAAA,oBACE1B,GAAA,CAAC0C,4BAA4B,CAACC,QAAQ,EAAA;AAACC,IAAAA,KAAK,EAAE;AAAEtF,MAAAA,SAAS,EAAE,KAAK;AAAEoE,MAAAA,gBAAgB,EAAhBA,gBAAAA;KAAmB;AAAA3B,IAAAA,QAAA,eACnFC,GAAA,CAAC6C,OAAO,EAAAnE,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA,EAAA,EACFoE,aAAa,CAAC;AAAEjH,MAAAA,IAAI,EAAE,WAAW;AAAE6E,MAAAA,MAAM,EAANA,MAAAA;AAAO,KAAC,CAAC,CAAA,EAC5CqC,sBAAsB,CAAClC,SAAS,CAAC,CAAA,EAAA,EAAA,EAAA;AACrCzB,MAAAA,KAAK,EAAC,MAAM;AACZC,MAAAA,MAAM,EAAC,MAAA;AAAM,KAAA,EACTwB,SAAS,CAAA,EAAA,EAAA,EAAA;AAAAd,MAAAA,QAAA,eAEbC,GAAA,CAACgD,eAAe,CAACL,QAAQ,EAAA;AACvBC,QAAAA,KAAK,EAAE;AACL7F,UAAAA,MAAM,EAANA,MAAM;AACNC,UAAAA,WAAW,EAAXA,WAAW;AACXE,UAAAA,UAAU,EAAVA,UAAU;AACVC,UAAAA,SAAS,EAATA,SAAAA;SACA;QAAA4C,QAAA,eAEFC,GAAA,CAACiD,mBAA2B,EAAA;AAAC7D,UAAAA,KAAK,EAAC,MAAM;AAACC,UAAAA,MAAM,EAAC,MAAM;UAAAU,QAAA,eACrDC,GAAA,CAACkD,QAAgB,EAAA;AACfC,YAAAA,OAAO,EAAEC,QAAS;AAClBC,YAAAA,MAAM,EAAEC,qBAAsB;AAC9BC,YAAAA,cAAc,EAAEC,8BAA+B;AAC/CC,YAAAA,WAAW,EAAE,SAAbA,WAAWA,CAAGC,KAAK,EAAK;cACtBvC,cAAc,CAACuC,KAAK,KAALA,IAAAA,IAAAA,KAAK,eAALA,KAAK,CAAE1G,WAAW,GAAG2G,MAAM,CAACD,KAAK,KAAA,IAAA,IAALA,KAAK,KAALA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAK,CAAE1G,WAAW,CAAC,GAAGkB,SAAS,CAAC,CAAA;aAC3E;AACF0F,YAAAA,YAAY,EAAE,SAAdA,YAAYA,GAAQ;cAClBzC,cAAc,CAACjD,SAAS,CAAC,CAAA;aACzB;AACFnB,YAAAA,MAAM,EAAEA,MAAO;AACf6D,YAAAA,IAAI,EAAEA,IAAK;AAAAb,YAAAA,QAAA,EAEV0C,yBAAAA;WACe,CAAA;SACS,CAAA;OACL,CAAA;KACnB,CAAA,CAAA;AAAC,GAC2B,CAAC,CAAA;AAE5C;;;;"}