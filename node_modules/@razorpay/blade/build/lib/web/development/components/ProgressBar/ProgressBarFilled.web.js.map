{"version":3,"file":"ProgressBarFilled.web.js","sources":["../../../../../../src/components/ProgressBar/ProgressBarFilled.web.tsx"],"sourcesContent":["import type { FlattenSimpleInterpolation } from 'styled-components';\nimport styled, { css, keyframes } from 'styled-components';\nimport React from 'react';\nimport type { ProgressBarFilledProps } from './types';\nimport { indeterminateAnimation, pulseAnimation } from './progressBarTokens';\nimport getIn from '~utils/lodashButBetter/get';\nimport BaseBox from '~components/Box/BaseBox';\nimport { castWebType } from '~utils';\nimport { makeMotionTime } from '~utils/makeMotionTime';\n\nconst pulseKeyframes = keyframes`\n  0% {\n    opacity: ${pulseAnimation.opacityInitial};\n  }\n  50% {\n    opacity: ${pulseAnimation.opacityMid};\n  }\n  100% {\n    opacity: ${pulseAnimation.opacityFinal};\n  }\n`;\n\nconst slideAndScaleKeyframes = keyframes`\n  0% {\n    left: ${indeterminateAnimation.leftInitial};\n    transform: scaleX(${indeterminateAnimation.scaleXInitial});\n  }\n  50% {\n    left: ${indeterminateAnimation.leftMid};\n    transform: scaleX(${indeterminateAnimation.scaleXMid});\n  }\n  100% {\n    left: ${indeterminateAnimation.leftFinal};\n    transform:  scaleX(${indeterminateAnimation.scaleXFinal});\n  }\n`;\n\nconst oscillateKeyframes = keyframes`\n  0% {\n    left: ${indeterminateAnimation.leftInitial};\n    transform: scaleX(${indeterminateAnimation.scaleXInitial});\n  }\n  25% {\n    left: ${indeterminateAnimation.leftMid};\n    transform: scaleX(${indeterminateAnimation.scaleXMid});\n  }\n  50% {\n    left: ${indeterminateAnimation.leftFinal};\n    transform: scaleX(${indeterminateAnimation.scaleXInitial});\n  }\n  75% {\n    left: ${indeterminateAnimation.leftMid};\n    transform: scaleX(${indeterminateAnimation.scaleXMid});\n  }\n  100% {\n    left: ${indeterminateAnimation.leftInitial};\n    transform: scaleX(${indeterminateAnimation.scaleXInitial});\n  }\n`;\n\nconst getPulseAnimationStyles = ({\n  duration,\n  easing,\n  delay,\n}: {\n  duration: string;\n  easing: string;\n  delay: string;\n}): FlattenSimpleInterpolation => css`\n  height: 100%;\n  width: 100%;\n  opacity: ${pulseAnimation.opacityInitial};\n  background-color: ${pulseAnimation.backgroundColor};\n  animation: ${pulseKeyframes} ${duration} ${easing} infinite;\n  animation-delay: ${delay};\n`;\n\nconst BoxWithIndeterminateAnimation = styled(BaseBox)<\n  Pick<\n    ProgressBarFilledProps,\n    'fillMotionDuration' | 'indeterminateMotionDuration' | '_oscillation'\n  >\n>(({ theme, indeterminateMotionDuration, _oscillation = false }) => {\n  const duration = castWebType(makeMotionTime(getIn(theme.motion, indeterminateMotionDuration)));\n  const easing = 'linear'; // TODO: Add this in motion tokens\n  const keyframes = _oscillation ? oscillateKeyframes : slideAndScaleKeyframes;\n\n  return css`\n    ${_oscillation ? `border-radius: ${theme.border.radius.xsmall}px;` : ''};\n    animation: ${keyframes} ${duration} ${easing} infinite;\n    position: absolute;\n    width: ${indeterminateAnimation.fillWidth};\n    height: 100%;\n  `;\n});\n\nconst IndeterminateFilledContainer = styled(BoxWithIndeterminateAnimation)<\n  Pick<ProgressBarFilledProps, 'backgroundColor' | 'progress' | '_oscillation'>\n>(({ backgroundColor }) => ({\n  backgroundColor,\n}));\n\nconst IndeterminatePulseAnimation = styled(BoxWithIndeterminateAnimation)<\n  Pick<\n    ProgressBarFilledProps,\n    'pulseMotionDuration' | 'pulseMotionDelay' | 'motionEasing' | 'type' | '_oscillation'\n  >\n>(({ theme, pulseMotionDuration, pulseMotionDelay, motionEasing, type }) => {\n  const duration = castWebType(makeMotionTime(getIn(theme.motion, pulseMotionDuration)));\n  const easing = castWebType(getIn(theme.motion, motionEasing));\n  const delay = castWebType(makeMotionTime(getIn(theme.motion, pulseMotionDelay)));\n\n  return type === 'progress' ? getPulseAnimationStyles({ duration, easing, delay }) : '';\n});\n\nconst BoxWithProgressFillTransition = styled(BaseBox)<\n  Pick<ProgressBarFilledProps, 'fillMotionDuration' | 'motionEasing'>\n>(({ theme, fillMotionDuration, motionEasing }) => ({\n  transitionProperty: 'width',\n  transitionDuration: castWebType(makeMotionTime(getIn(theme.motion, fillMotionDuration))),\n  transitionTimingFunction: castWebType(getIn(theme.motion, motionEasing)),\n}));\n\nconst DeterminateFilledContainer = styled(BoxWithProgressFillTransition)<\n  Pick<\n    ProgressBarFilledProps,\n    'backgroundColor' | 'progress' | 'indeterminateMotionDuration' | '_oscillation'\n  >\n>(({ backgroundColor, progress }) => ({\n  backgroundColor,\n  height: '100%',\n  width: `${progress}%`,\n}));\n\nconst DeterminatePulseAnimation = styled(BoxWithProgressFillTransition)<\n  Pick<ProgressBarFilledProps, 'pulseMotionDuration' | 'pulseMotionDelay' | 'motionEasing' | 'type'>\n>(({ theme, pulseMotionDuration, pulseMotionDelay, motionEasing, type }) => {\n  const duration = castWebType(makeMotionTime(getIn(theme.motion, pulseMotionDuration)));\n  const easing = castWebType(getIn(theme.motion, motionEasing));\n  const delay = castWebType(makeMotionTime(getIn(theme.motion, pulseMotionDelay)));\n\n  return type === 'progress' ? getPulseAnimationStyles({ duration, easing, delay }) : '';\n});\n\nconst ProgressBarFilled = ({\n  backgroundColor,\n  fillMotionDuration,\n  motionEasing,\n  progress,\n  pulseMotionDelay,\n  pulseMotionDuration,\n  indeterminateMotionDuration,\n  type,\n  isIndeterminate,\n  _oscillation = false,\n}: ProgressBarFilledProps): React.ReactElement => {\n  const ProgressBarFilledContainer = isIndeterminate\n    ? IndeterminateFilledContainer\n    : DeterminateFilledContainer;\n  const ProgressBarPulseAnimation = isIndeterminate\n    ? IndeterminatePulseAnimation\n    : DeterminatePulseAnimation;\n\n  return (\n    <ProgressBarFilledContainer\n      backgroundColor={backgroundColor}\n      fillMotionDuration={fillMotionDuration}\n      progress={progress}\n      indeterminateMotionDuration={indeterminateMotionDuration}\n      _oscillation={_oscillation}\n    >\n      <ProgressBarPulseAnimation\n        fillMotionDuration={fillMotionDuration}\n        motionEasing={motionEasing}\n        type={type}\n        pulseMotionDelay={pulseMotionDelay}\n        pulseMotionDuration={pulseMotionDuration}\n      />\n    </ProgressBarFilledContainer>\n  );\n};\n\nexport { ProgressBarFilled };\n"],"names":["pulseKeyframes","keyframes","pulseAnimation","opacityInitial","opacityMid","opacityFinal","slideAndScaleKeyframes","indeterminateAnimation","leftInitial","scaleXInitial","leftMid","scaleXMid","leftFinal","scaleXFinal","oscillateKeyframes","getPulseAnimationStyles","_ref","duration","easing","delay","css","backgroundColor","BoxWithIndeterminateAnimation","styled","BaseBox","withConfig","displayName","componentId","_ref2","theme","indeterminateMotionDuration","_ref2$_oscillation","_oscillation","castWebType","makeMotionTime","getIn","motion","concat","border","radius","xsmall","fillWidth","IndeterminateFilledContainer","_ref3","IndeterminatePulseAnimation","_ref4","pulseMotionDuration","pulseMotionDelay","motionEasing","type","BoxWithProgressFillTransition","_ref5","fillMotionDuration","transitionProperty","transitionDuration","transitionTimingFunction","DeterminateFilledContainer","_ref6","progress","height","width","DeterminatePulseAnimation","_ref7","ProgressBarFilled","_ref8","isIndeterminate","_ref8$_oscillation","ProgressBarFilledContainer","ProgressBarPulseAnimation","_jsx","children"],"mappings":"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"}