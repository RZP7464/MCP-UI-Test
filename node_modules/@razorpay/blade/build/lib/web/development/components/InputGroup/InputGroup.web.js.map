{"version":3,"file":"InputGroup.web.js","sources":["../../../../../../src/components/InputGroup/InputGroup.web.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport type { InputGroupProps } from './types';\nimport { StyledInputGroup } from './StyledInputGroup';\nimport { InputGroupProvider } from './InputGroupContext';\nimport { formHintLeftLabelMarginLeft } from '~components/Input/BaseInput/baseInputTokens';\nimport type { BladeElementRef } from '~utils/types';\nimport BaseBox from '~components/Box/BaseBox';\nimport { useTheme } from '~components/BladeProvider';\nimport { useBreakpoint } from '~utils';\nimport { useFormId } from '~components/Form/useFormId';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { FormLabel } from '~components/Form/FormLabel';\nimport { FormHint } from '~components/Form/FormHint';\nimport { makeSize } from '~utils/makeSize';\nimport { useId } from '~utils/useId';\nimport { getHintType } from '~components/Input/BaseInput/BaseInput';\nimport { getOuterMotionRef } from '~utils/getMotionRefs';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\n\nconst _InputGroup: React.ForwardRefRenderFunction<BladeElementRef, InputGroupProps> = (\n  {\n    label,\n    labelPosition = 'top',\n    size = 'medium',\n    helpText,\n    errorText,\n    successText,\n    validationState = 'none',\n    isDisabled = false,\n    children,\n    testID,\n    _motionMeta,\n    ...rest\n  },\n  ref,\n) => {\n  const contextValue = useMemo(\n    () => ({\n      isInsideInputGroup: true,\n      size,\n      isDisabled,\n    }),\n    [size, isDisabled],\n  );\n\n  const { inputId, helpTextId, errorTextId, successTextId } = useFormId('input-group');\n  const idBase = useId('input-group');\n  const labelId = `${idBase}-label`;\n  const { theme } = useTheme();\n  const { matchedDeviceType } = useBreakpoint({ breakpoints: theme.breakpoints });\n  const isLabelLeftPositioned = labelPosition === 'left' && matchedDeviceType === 'desktop';\n\n  const willRenderHintText =\n    Boolean(helpText) ||\n    (validationState === 'success' && Boolean(successText)) ||\n    (validationState === 'error' && Boolean(errorText));\n\n  const totalInputRows = React.Children.count(children);\n\n  return (\n    <InputGroupProvider value={contextValue}>\n      <StyledInputGroup\n        ref={getOuterMotionRef({ _motionMeta, ref })}\n        {...metaAttribute({ name: MetaConstants.InputGroup, testID })}\n        {...getStyledProps(rest)}\n        {...makeAnalyticsAttribute(rest)}\n      >\n        <BaseBox\n          display=\"flex\"\n          flexDirection=\"column\"\n          width=\"100%\"\n          data-testid={testID}\n          role=\"group\"\n        >\n          <BaseBox\n            display=\"flex\"\n            flexDirection={isLabelLeftPositioned ? 'row' : 'column'}\n            alignItems={isLabelLeftPositioned && totalInputRows < 2 ? 'center' : undefined}\n          >\n            {label && (\n              <FormLabel\n                as=\"label\"\n                position={labelPosition}\n                id={labelId}\n                htmlFor={inputId}\n                size={size}\n              >\n                {label}\n              </FormLabel>\n            )}\n\n            <BaseBox display=\"flex\" flexDirection=\"column\">\n              {children}\n            </BaseBox>\n          </BaseBox>\n\n          {willRenderHintText && (\n            <BaseBox\n              marginLeft={makeSize(\n                label && isLabelLeftPositioned ? formHintLeftLabelMarginLeft[size] : 0,\n              )}\n            >\n              <BaseBox display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n                <FormHint\n                  type={getHintType({ validationState, hasHelpText: Boolean(helpText) })}\n                  helpText={helpText}\n                  errorText={errorText}\n                  successText={successText}\n                  helpTextId={helpTextId}\n                  errorTextId={errorTextId}\n                  successTextId={successTextId}\n                  size={size}\n                />\n              </BaseBox>\n            </BaseBox>\n          )}\n        </BaseBox>\n      </StyledInputGroup>\n    </InputGroupProvider>\n  );\n};\n\nconst InputGroup = assignWithoutSideEffects(React.forwardRef(_InputGroup), {\n  displayName: 'InputGroup',\n  componentId: 'InputGroup',\n});\nexport { InputGroup };\n"],"names":["_InputGroup","_ref","ref","label","_ref$labelPosition","labelPosition","_ref$size","size","helpText","errorText","successText","_ref$validationState","validationState","_ref$isDisabled","isDisabled","children","testID","_motionMeta","rest","_objectWithoutProperties","_excluded","contextValue","useMemo","isInsideInputGroup","_useFormId","useFormId","inputId","helpTextId","errorTextId","successTextId","idBase","useId","labelId","concat","_useTheme","useTheme","theme","_useBreakpoint","useBreakpoint","breakpoints","matchedDeviceType","isLabelLeftPositioned","willRenderHintText","Boolean","totalInputRows","React","Children","count","_jsx","InputGroupProvider","value","StyledInputGroup","_objectSpread","getOuterMotionRef","metaAttribute","name","MetaConstants","InputGroup","getStyledProps","makeAnalyticsAttribute","_jsxs","BaseBox","display","flexDirection","width","role","alignItems","undefined","FormLabel","as","position","id","htmlFor","marginLeft","makeSize","formHintLeftLabelMarginLeft","justifyContent","FormHint","type","getHintType","hasHelpText","assignWithoutSideEffects","forwardRef","displayName","componentId"],"mappings":"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"}