{"version":3,"file":"StackProvider.js","sources":["../../../../../../src/components/Drawer/StackProvider.tsx"],"sourcesContent":["import React from 'react';\n\ntype AddToStackType = ({\n  elementId,\n  onDismiss,\n}: {\n  elementId: string;\n  onDismiss: () => void;\n}) => void;\n\ntype RemoveFromStackType = ({ elementId }: { elementId: string }) => void;\n\ntype GlobalStackStateType = {\n  drawerStack: Record<string, () => void>;\n  addToDrawerStack: AddToStackType;\n  removeFromDrawerStack: RemoveFromStackType;\n};\n\nconst StackingContext = React.createContext<GlobalStackStateType>({\n  drawerStack: {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  addToDrawerStack: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  removeFromDrawerStack: () => {},\n});\n\nconst useStacking = (): [\n  GlobalStackStateType['drawerStack'],\n  AddToStackType,\n  RemoveFromStackType,\n] => {\n  const [stack, setStack] = React.useState<GlobalStackStateType['drawerStack']>({});\n\n  const addToStack: AddToStackType = ({ elementId, onDismiss }) => {\n    if (stack[elementId]) {\n      return;\n    }\n\n    setStack({ ...stack, [elementId]: onDismiss });\n  };\n\n  const removeFromStack: RemoveFromStackType = ({ elementId }) => {\n    const { [elementId]: _, ...newStack } = stack;\n    setStack(newStack);\n  };\n\n  return [stack, addToStack, removeFromStack];\n};\n\nconst DrawerStackProvider = ({ children }: { children: React.ReactNode }): React.ReactElement => {\n  const [drawerStack, addToDrawerStack, removeFromDrawerStack] = useStacking();\n\n  const contextValue = React.useMemo<GlobalStackStateType>(\n    () => ({\n      drawerStack,\n      addToDrawerStack,\n      removeFromDrawerStack,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [drawerStack],\n  );\n\n  return <StackingContext.Provider value={contextValue}>{children}</StackingContext.Provider>;\n};\n\nconst useDrawerStack = (): GlobalStackStateType => {\n  return React.useContext(StackingContext);\n};\n\nexport { DrawerStackProvider, useDrawerStack };\n"],"names":["StackingContext","React","createContext","drawerStack","addToDrawerStack","removeFromDrawerStack","useStacking","_React$useState","useState","_React$useState2","_slicedToArray","stack","setStack","addToStack","_ref","elementId","onDismiss","_objectSpread","_defineProperty","removeFromStack","_ref2","_","newStack","_objectWithoutProperties","map","_toPropertyKey","DrawerStackProvider","_ref3","children","_useStacking","_useStacking2","contextValue","useMemo","_jsx","Provider","value","useDrawerStack","useContext"],"mappings":";;;;;;;;;;;AAkBA,IAAMA,eAAe,gBAAGC,cAAK,CAACC,aAAa,CAAuB;EAChEC,WAAW,EAAE,EAAE;AACf;AACAC,EAAAA,gBAAgB,EAAE,SAAlBA,gBAAgBA,GAAQ,EAAE;AAC1B;AACAC,EAAAA,qBAAqB,EAAE,SAAvBA,qBAAqBA,GAAQ,EAAC;AAChC,CAAC,CAAC,CAAA;AAEF,IAAMC,WAAW,GAAG,SAAdA,WAAWA,GAIZ;EACH,IAAAC,eAAA,GAA0BN,cAAK,CAACO,QAAQ,CAAsC,EAAE,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA,EAAA,CAAA,CAAA;AAA1EI,IAAAA,KAAK,GAAAF,gBAAA,CAAA,CAAA,CAAA;AAAEG,IAAAA,QAAQ,GAAAH,gBAAA,CAAA,CAAA,CAAA,CAAA;AAEtB,EAAA,IAAMI,UAA0B,GAAG,SAA7BA,UAA0BA,CAAAC,IAAA,EAAiC;AAAA,IAAA,IAA3BC,SAAS,GAAAD,IAAA,CAATC,SAAS;MAAEC,SAAS,GAAAF,IAAA,CAATE,SAAS,CAAA;AACxD,IAAA,IAAIL,KAAK,CAACI,SAAS,CAAC,EAAE;AACpB,MAAA,OAAA;AACF,KAAA;AAEAH,IAAAA,QAAQ,CAAAK,aAAA,CAAAA,aAAA,CAAMN,EAAAA,EAAAA,KAAK,CAAAO,EAAAA,EAAAA,EAAAA,eAAA,CAAGH,EAAAA,EAAAA,SAAS,EAAGC,SAAS,EAAE,CAAC,CAAA;GAC/C,CAAA;AAED,EAAA,IAAMG,eAAoC,GAAG,SAAvCA,eAAoCA,CAAAC,KAAA,EAAsB;AAAA,IAAA,IAAhBL,SAAS,GAAAK,KAAA,CAATL,SAAS,CAAA;AACvD,IAAA,IAAqBM,CAAC,GAAkBV,KAAK,CAApCI,SAAS,CAAA;MAASO,QAAQ,GAAAC,wBAAA,CAAKZ,KAAK,GAApCI,SAAS,CAAA,CAAAS,GAAA,CAAAC,cAAA,CAAA,CAAA,CAAA;IAClBb,QAAQ,CAACU,QAAQ,CAAC,CAAA;GACnB,CAAA;AAED,EAAA,OAAO,CAACX,KAAK,EAAEE,UAAU,EAAEM,eAAe,CAAC,CAAA;AAC7C,CAAC,CAAA;AAED,IAAMO,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAAC,KAAA,EAAwE;AAAA,EAAA,IAAlEC,QAAQ,GAAAD,KAAA,CAARC,QAAQ,CAAA;AACrC,EAAA,IAAAC,YAAA,GAA+DvB,WAAW,EAAE;IAAAwB,aAAA,GAAApB,cAAA,CAAAmB,YAAA,EAAA,CAAA,CAAA;AAArE1B,IAAAA,WAAW,GAAA2B,aAAA,CAAA,CAAA,CAAA;AAAE1B,IAAAA,gBAAgB,GAAA0B,aAAA,CAAA,CAAA,CAAA;AAAEzB,IAAAA,qBAAqB,GAAAyB,aAAA,CAAA,CAAA,CAAA,CAAA;AAE3D,EAAA,IAAMC,YAAY,GAAG9B,cAAK,CAAC+B,OAAO,CAChC,YAAA;IAAA,OAAO;AACL7B,MAAAA,WAAW,EAAXA,WAAW;AACXC,MAAAA,gBAAgB,EAAhBA,gBAAgB;AAChBC,MAAAA,qBAAqB,EAArBA,qBAAAA;KACD,CAAA;GAAC;AACF;EACA,CAACF,WAAW,CACd,CAAC,CAAA;AAED,EAAA,oBAAO8B,GAAA,CAACjC,eAAe,CAACkC,QAAQ,EAAA;AAACC,IAAAA,KAAK,EAAEJ,YAAa;AAAAH,IAAAA,QAAA,EAAEA,QAAAA;AAAQ,GAA2B,CAAC,CAAA;AAC7F,EAAC;AAED,IAAMQ,cAAc,GAAG,SAAjBA,cAAcA,GAA+B;AACjD,EAAA,OAAOnC,cAAK,CAACoC,UAAU,CAACrC,eAAe,CAAC,CAAA;AAC1C;;;;"}