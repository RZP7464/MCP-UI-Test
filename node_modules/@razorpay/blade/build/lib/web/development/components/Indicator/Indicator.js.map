{"version":3,"file":"Indicator.js","sources":["../../../../../../src/components/Indicator/Indicator.tsx"],"sourcesContent":["import React from 'react';\nimport type { ReactElement, Ref } from 'react';\nimport { indicatorDotSizes, textSizeMapping } from './indicatorTokens';\nimport { useTheme } from '~components/BladeProvider';\nimport BaseBox from '~components/Box/BaseBox';\nimport Svg from '~components/Icons/_Svg';\nimport Circle from '~components/Icons/_Svg/Circle';\nimport { Text } from '~components/Typography';\nimport { getStringFromReactText } from '~src/utils/getStringChildren';\nimport type {\n  DataAnalyticsAttribute,\n  BladeElementRef,\n  StringChildrenType,\n  TestID,\n} from '~utils/types';\nimport type { FeedbackColors } from '~tokens/theme/theme';\nimport { isReactNative } from '~utils';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype IndicatorProps = {\n  /**\n   * Sets the color tone\n   *\n   * @default neutral\n   */\n  color?: FeedbackColors | 'primary';\n\n  /**\n   * Sets the emphasis of the indicator\n   *\n   * If set to intense it will show a background circle\n   *\n   * @default subtle\n   */\n  emphasis?: 'subtle' | 'intense';\n\n  /**\n   * Size of the indicator\n   *\n   * @default medium\n   */\n  size?: 'small' | 'medium' | 'large';\n  /**\n   * A text label to show alongside the indicator dot\n   */\n  children?: StringChildrenType;\n  /**\n   * a11y label for screen readers\n   */\n  accessibilityLabel?: string;\n} & TestID &\n  DataAnalyticsAttribute &\n  StyledPropsBlade;\n\nconst _Indicator = (\n  {\n    accessibilityLabel,\n    children,\n    size = 'medium',\n    color = 'neutral',\n    emphasis = 'subtle',\n    testID,\n    ...rest\n  }: IndicatorProps,\n  ref: Ref<BladeElementRef>,\n): ReactElement => {\n  const { theme } = useTheme();\n  const childrenString = getStringFromReactText(children);\n  const isIntense = emphasis === 'intense';\n  const isPrimary = color === 'primary';\n\n  const fillColorOuter = isPrimary\n    ? theme.colors.surface.background.primary.subtle\n    : theme.colors.feedback.background[color].subtle;\n  const fillColorInner = isPrimary\n    ? theme.colors.surface.icon.primary.normal\n    : theme.colors.feedback.icon[color].intense;\n\n  const isWeb = !isReactNative();\n  const a11yProps = makeAccessible({\n    label: accessibilityLabel ?? childrenString,\n    ...(isWeb && { role: 'status' }),\n  });\n\n  const svgSize = isIntense\n    ? indicatorDotSizes[emphasis][size].outer\n    : indicatorDotSizes[emphasis][size].inner;\n\n  return (\n    <BaseBox\n      ref={ref as never}\n      display={(isWeb ? 'inline-flex' : 'flex') as never}\n      {...a11yProps}\n      {...metaAttribute({ name: MetaConstants.Indicator, testID })}\n      {...getStyledProps(rest)}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <BaseBox display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n        <Svg width={String(svgSize)} height={String(svgSize)} viewBox=\"0 0 10 10\" fill=\"none\">\n          {isIntense ? (\n            <>\n              <Circle cx=\"5\" cy=\"5\" r=\"5\" fill={fillColorOuter} />\n              <Circle cx=\"5\" cy=\"5\" r=\"2.5\" fill={fillColorInner} />\n            </>\n          ) : (\n            <Circle cx=\"5\" cy=\"5\" r=\"5\" fill={fillColorInner} />\n          )}\n        </Svg>\n        <BaseBox marginLeft={childrenString ? 'spacing.2' : 'spacing.0'}>\n          <Text\n            weight=\"medium\"\n            color=\"surface.text.gray.subtle\"\n            textAlign=\"left\"\n            size={textSizeMapping[size]}\n          >\n            {children}\n          </Text>\n        </BaseBox>\n      </BaseBox>\n    </BaseBox>\n  );\n};\n\nconst Indicator = assignWithoutSideEffects(React.forwardRef(_Indicator), {\n  componentId: 'Indicator',\n});\n\nexport type { IndicatorProps };\nexport { Indicator };\n"],"names":["_Indicator","_ref","ref","accessibilityLabel","children","_ref$size","size","_ref$color","color","_ref$emphasis","emphasis","testID","rest","_objectWithoutProperties","_excluded","_useTheme","useTheme","theme","childrenString","getStringFromReactText","isIntense","isPrimary","fillColorOuter","colors","surface","background","primary","subtle","feedback","fillColorInner","icon","normal","intense","isWeb","isReactNative","a11yProps","makeAccessible","_objectSpread","label","role","svgSize","indicatorDotSizes","outer","inner","_jsx","BaseBox","display","metaAttribute","name","MetaConstants","Indicator","getStyledProps","makeAnalyticsAttribute","_jsxs","flexDirection","alignItems","Svg","width","String","height","viewBox","fill","_Fragment","Circle","cx","cy","r","marginLeft","Text","weight","textAlign","textSizeMapping","assignWithoutSideEffects","React","forwardRef","componentId"],"mappings":"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"}