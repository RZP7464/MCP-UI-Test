{"version":3,"file":"AccordionItemBody.js","sources":["../../../../../../src/components/Accordion/AccordionItemBody.tsx"],"sourcesContent":["import { useAccordion } from './AccordionContext';\nimport { componentIds } from './componentIds';\nimport BaseBox from '~components/Box/BaseBox';\nimport { Text } from '~components/Typography';\nimport { isReactNative } from '~utils';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport type { DataAnalyticsAttribute, StringChildrenType } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { MetaConstants, metaAttribute } from '~utils/metaAttribute';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst BLANK_SPACE = ' ';\n\n/**\n * On React Native if the `AccordionItem` has a lengthy description which renders a `Text` spanning multiple lines,\n * it sometimes messes up the layout calculation (it thinks of multiline as a single line before flowing in the UI).\n * And during the expanding / collapsing animation, text reflows causing words to jump around across lines.\n *\n * Rendering a blank `Text` at the end seems to fix all this ðŸ¤¯\n */\nconst reactNativeMultilineTextOverflowFix = (\n  // make this hidden from screen readers\n  <BaseBox {...makeAccessible({ hidden: true })}>\n    <Text>{BLANK_SPACE}</Text>\n  </BaseBox>\n);\n\nconst descriptionSizeToken = {\n  large: 'medium',\n  medium: 'small',\n} as const;\n\nconst _AccordionItemBody = ({\n  children,\n  _description,\n  ...rest\n}: {\n  children?: React.ReactNode | StringChildrenType;\n  _description?: string;\n} & DataAnalyticsAttribute): React.ReactElement => {\n  const { size } = useAccordion();\n\n  const childrenElement =\n    typeof children === 'string' || typeof children === 'number' ? (\n      <Text size={descriptionSizeToken[size]} color=\"surface.text.gray.subtle\">\n        {children}\n      </Text>\n    ) : (\n      children\n    );\n\n  const descriptionElement = _description && (\n    <Text size={descriptionSizeToken[size]} color=\"surface.text.gray.subtle\">\n      {_description}\n    </Text>\n  );\n\n  const collapsibleBodyContent = isReactNative() ? (\n    <BaseBox marginX=\"spacing.5\">\n      {descriptionElement}\n      <BaseBox marginTop={_description && children ? 'spacing.5' : 'spacing.0'}>\n        {childrenElement}\n      </BaseBox>\n      {reactNativeMultilineTextOverflowFix}\n    </BaseBox>\n  ) : (\n    <BaseBox\n      display=\"flex\"\n      flexDirection=\"column\"\n      gap=\"spacing.5\"\n      marginBottom=\"spacing.5\"\n      marginX=\"spacing.5\"\n    >\n      {descriptionElement}\n      {childrenElement}\n    </BaseBox>\n  );\n\n  return (\n    <BaseBox\n      {...metaAttribute({ name: MetaConstants.AccordionItemBody })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {collapsibleBodyContent}\n    </BaseBox>\n  );\n};\n\nconst AccordionItemBody = assignWithoutSideEffects(_AccordionItemBody, {\n  componentId: componentIds.AccordionItemBody,\n});\n\nexport { AccordionItemBody };\n"],"names":["BLANK_SPACE","reactNativeMultilineTextOverflowFix","_jsx","BaseBox","_objectSpread","makeAccessible","hidden","children","Text","descriptionSizeToken","large","medium","_AccordionItemBody","_ref","_description","rest","_objectWithoutProperties","_excluded","_useAccordion","useAccordion","size","childrenElement","color","descriptionElement","collapsibleBodyContent","isReactNative","_jsxs","marginX","marginTop","display","flexDirection","gap","marginBottom","metaAttribute","name","MetaConstants","AccordionItemBody","makeAnalyticsAttribute","assignWithoutSideEffects","componentId","componentIds"],"mappings":"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"}