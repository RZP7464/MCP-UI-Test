{"version":3,"file":"CardRoot.web.js","sources":["../../../../../../src/components/Card/CardRoot.web.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport React from 'react';\nimport type { CardRootProps } from './types';\nimport { CARD_LINK_OVERLAY_ID, CARD_SCALE_DOWN_VALUE, CARD_SCALE_UP_VALUE } from './constants';\nimport BaseBox from '~components/Box/BaseBox';\nimport { castWebType, makeMotionTime } from '~utils';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { useIsMobile } from '~utils/useIsMobile';\nimport type { BladeElementRef } from '~utils/types';\n\nconst StyledCardRoot = styled(BaseBox)<CardRootProps & { isPressed: boolean; isMobile: boolean }>(\n  ({\n    as,\n    theme,\n    isSelected,\n    isFocused,\n    shouldScaleOnHover,\n    isPressed,\n    isMobile,\n    validationState,\n    cursor,\n  }) => {\n    const getCardBorderColor = (): string => {\n      if (validationState === 'error') return theme.colors.interactive.border.negative.default;\n      if (validationState === 'success') return theme.colors.interactive.border.positive.default;\n      if (isSelected) return theme.colors.surface.border.primary.normal;\n      return 'transparent';\n    };\n\n    const selectedColor = getCardBorderColor();\n    const selectedBorder = `0px 0px 0px ${theme.border.width.thicker}px ${selectedColor}`;\n    //  focused state\n    const focusRing = isFocused\n      ? `, 0px 0px 0px 4px ${theme.colors.surface.border.primary.muted}`\n      : '';\n\n    return {\n      // Selected state\n      boxShadow: `${selectedBorder}${focusRing}`,\n      cursor: cursor ? cursor : as === 'label' ? 'pointer' : 'initial',\n\n      // pressed state for mobile only\n      ...(isMobile &&\n        isPressed && {\n          transform: `scale(${CARD_SCALE_DOWN_VALUE})`,\n        }),\n\n      // Hover state for desktop only\n      ...(!isMobile &&\n        shouldScaleOnHover && {\n          transitionDuration: castWebType(makeMotionTime(theme.motion.duration.xquick)),\n          transitionTimingFunction: castWebType(theme.motion.easing.standard),\n          transitionProperty: 'transform, box-shadow',\n\n          '&:hover': {\n            transform: `scale(${CARD_SCALE_UP_VALUE})`,\n          },\n        }),\n\n      // uplift all the nested links so they receive clicks and events (except the LinkOverlay)\n      // https://www.sarasoueidan.com/blog/nested-links\n      [`& a[href]:not(a[data-blade-component=\"${CARD_LINK_OVERLAY_ID}\"])`]: {\n        zIndex: 2,\n        position: 'relative',\n      },\n      [`& button:not(button[data-blade-component=\"${CARD_LINK_OVERLAY_ID}\"])`]: {\n        zIndex: 2,\n        position: 'relative',\n      },\n      [`& label:not(a[data-blade-component=\"${CARD_LINK_OVERLAY_ID}\"])`]: {\n        zIndex: 2,\n        position: 'relative',\n      },\n      [`& label:not(button[data-blade-component=\"${CARD_LINK_OVERLAY_ID}\"])`]: {\n        zIndex: 2,\n        position: 'relative',\n      },\n    };\n  },\n);\n\nconst _CardRoot: React.ForwardRefRenderFunction<BladeElementRef, CardRootProps> = (\n  { as, accessibilityLabel, children, ...props },\n  ref,\n): React.ReactElement => {\n  const isMobile = useIsMobile();\n  const [isPressed, setIsPressed] = React.useState(false);\n\n  return (\n    <StyledCardRoot\n      ref={ref as never}\n      as={as}\n      {...props}\n      isMobile={isMobile}\n      isPressed={props.shouldScaleOnHover ? isPressed : false}\n      onTouchStart={() => setIsPressed(true)}\n      onTouchEnd={() => setIsPressed(false)}\n      onMouseDown={() => setIsPressed(true)}\n      onMouseUp={() => setIsPressed(false)}\n      {...makeAccessible({\n        label: as === 'label' ? accessibilityLabel : undefined,\n      })}\n    >\n      {children}\n    </StyledCardRoot>\n  );\n};\n\nconst CardRoot = React.forwardRef(_CardRoot);\n\nexport { CardRoot };\n"],"names":["StyledCardRoot","styled","BaseBox","withConfig","displayName","componentId","_ref","as","theme","isSelected","isFocused","shouldScaleOnHover","isPressed","isMobile","validationState","cursor","getCardBorderColor","colors","interactive","border","negative","positive","surface","primary","normal","selectedColor","selectedBorder","concat","width","thicker","focusRing","muted","_objectSpread","boxShadow","transform","CARD_SCALE_DOWN_VALUE","transitionDuration","castWebType","makeMotionTime","motion","duration","xquick","transitionTimingFunction","easing","standard","transitionProperty","CARD_SCALE_UP_VALUE","_defineProperty","CARD_LINK_OVERLAY_ID","zIndex","position","_CardRoot","_ref2","ref","accessibilityLabel","children","props","_objectWithoutProperties","_excluded","useIsMobile","_React$useState","React","useState","_React$useState2","_slicedToArray","setIsPressed","_jsx","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","makeAccessible","label","undefined","CardRoot","forwardRef"],"mappings":"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"}