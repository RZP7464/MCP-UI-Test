{"version":3,"file":"AvatarGroup.web.js","sources":["../../../../../../src/components/Avatar/AvatarGroup.web.tsx"],"sourcesContent":["import React from 'react';\nimport type { AvatarGroupProps, AvatarGroupContextType } from './types';\nimport { StyledAvatarGroup } from './StyledAvatarGroup';\nimport { StyledAvatar } from './StyledAvatar';\nimport { AvatarGroupProvider } from './AvatarGroupContext';\nimport { AvatarButton } from './AvatarButton';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { throwBladeError } from '~utils/logger';\nimport { isValidAllowedChildren } from '~utils/isValidAllowedChildren';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst _AvatarGroup = ({\n  children,\n  size = 'medium',\n  maxCount,\n  testID,\n  ...rest\n}: AvatarGroupProps): React.ReactElement => {\n  const contextValue: AvatarGroupContextType = {\n    size,\n  };\n  const childrenCount = React.Children.count(children);\n\n  return (\n    <AvatarGroupProvider value={contextValue}>\n      <StyledAvatarGroup\n        {...metaAttribute({ name: MetaConstants.AvatarGroup, testID })}\n        {...getStyledProps(rest)}\n        {...makeAnalyticsAttribute(rest)}\n        role=\"group\"\n        size={size}\n      >\n        {React.Children.map(children, (child, index) => {\n          if (__DEV__) {\n            // throw error if child is not an Avatar\n            if (!isValidAllowedChildren(child, 'Avatar')) {\n              throwBladeError({\n                moduleName: 'AvatarGroup',\n                message: `Only \"Avatar\" component is allowed as a children.`,\n              });\n            }\n          }\n\n          if (maxCount && maxCount <= childrenCount) {\n            if (index === maxCount) {\n              return (\n                <StyledAvatar\n                  {...metaAttribute({ name: MetaConstants.Avatar, testID })}\n                  backgroundColor=\"surface.background.gray.intense\"\n                  size={size}\n                  variant=\"circle\"\n                >\n                  <AvatarButton variant=\"circle\" color=\"neutral\" size={size}>\n                    {`+${String(childrenCount - maxCount)}`}\n                  </AvatarButton>\n                </StyledAvatar>\n              );\n            }\n\n            if (index > maxCount) {\n              return null;\n            }\n          }\n\n          return child;\n        })}\n      </StyledAvatarGroup>\n    </AvatarGroupProvider>\n  );\n};\n\n/**\n * ### AvatarGroup Component\n * \n * The AvatarGroup component is used to group Avatars together.\n * \n * ---\n * \n * #### Usage\n * \n * ```jsx\n  const App = () => {\n    return (\n      <AvatarGroup>\n        <Avatar name=\"Kamlesh Chandnani\" />\n        <Avatar name=\"Rama Krushna Behera\" />\n        <Avatar name=\"Chaitanya Vikas Deorukhkar\" />\n        <Avatar name=\"Anurag Hazra\" />\n        <Avatar name=\"Nitin Kumar\" />\n      </AvatarGroup>\n    );\n  }\n * ```\n *\n *  ---\n *\n * Checkout {@link https://blade.razorpay.com/?path=/docs/components-avatar-avatargroup AvatarGroup Documentation}\n * \n */\nconst AvatarGroup = assignWithoutSideEffects(_AvatarGroup, {\n  displayName: 'AvatarGroup',\n  componentId: 'AvatarGroup',\n});\n\nexport { AvatarGroup };\nexport type { AvatarGroupProps };\n"],"names":["_AvatarGroup","_ref","children","_ref$size","size","maxCount","testID","rest","_objectWithoutProperties","_excluded","contextValue","childrenCount","React","Children","count","_jsx","AvatarGroupProvider","value","StyledAvatarGroup","_objectSpread","metaAttribute","name","MetaConstants","AvatarGroup","getStyledProps","makeAnalyticsAttribute","role","map","child","index","isValidAllowedChildren","throwBladeError","moduleName","message","StyledAvatar","Avatar","backgroundColor","variant","AvatarButton","color","concat","String","assignWithoutSideEffects","displayName","componentId"],"mappings":"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"}