{"version":3,"file":"AccordionItemHeader.js","sources":["../../../../../../src/components/Accordion/AccordionItemHeader.tsx"],"sourcesContent":["import React from 'react';\nimport { useAccordion, useAccordionItemIndex } from './AccordionContext';\nimport { componentIds } from './componentIds';\nimport type { BaseHeaderProps } from '~components/BaseHeaderFooter/BaseHeader';\nimport { BaseHeader } from '~components/BaseHeaderFooter/BaseHeader';\nimport { Text } from '~components/Typography';\nimport BaseBox from '~components/Box/BaseBox';\nimport { CollapsibleChevronIcon } from '~components/Collapsible/CollapsibleChevronIcon';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport type { DataAnalyticsAttribute } from '~utils/types';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { isIconComponent } from '~utils/isIconComponent';\nimport type { BoxProps } from '~components/Box';\nimport { makeSize } from '~utils/makeSize';\nimport { size as sizeToken } from '~tokens/global';\n\nconst getLeadingElementMaxHeightAndWidth = (\n  size: BaseHeaderProps['size'],\n): BoxProps['maxHeight'] => {\n  if (size === 'large') return makeSize(sizeToken['32']);\n  return makeSize(sizeToken['24']);\n};\n\nconst _AccordionItemHeader = ({\n  title,\n  subtitle,\n  leading,\n  children,\n  trailing,\n  titleSuffix,\n  ...rest\n}: Pick<\n  BaseHeaderProps,\n  'title' | 'subtitle' | 'leading' | 'children' | 'trailing' | 'titleSuffix'\n> &\n  DataAnalyticsAttribute): React.ReactElement => {\n  const { size, showNumberPrefix, expandedIndex } = useAccordion();\n  const { index, isDisabled } = useAccordionItemIndex();\n\n  const isLeadingIcon =\n    React.isValidElement(leading) &&\n    typeof leading.type === 'function' &&\n    leading.type.name?.endsWith('Icon');\n\n  const isLeadingNumberOrIcon = React.useMemo(() => {\n    // Check if leading is a number\n    if (showNumberPrefix && typeof index === 'number') return true;\n\n    // Check if leading is an Icon component (name ends with \"Icon\")\n    if (leading && React.isValidElement(leading) && isIconComponent(leading)) return true;\n    if (isLeadingIcon) return true;\n\n    return false;\n  }, [showNumberPrefix, index, leading, isLeadingIcon]);\n\n  const shouldAlignHeaderItemsInCenter = Boolean(\n    children || (Boolean(leading) && !isLeadingNumberOrIcon),\n  );\n\n  const leadingElement = React.useMemo(() => {\n    if (showNumberPrefix && typeof index === 'number') {\n      return (\n        <Text size={size} weight=\"semibold\" marginTop=\"-2px\" as=\"span\">\n          {index + 1}.\n        </Text>\n      );\n    }\n    if (leading) {\n      return (\n        <BaseBox\n          marginRight={isLeadingIcon ? 'spacing.0' : 'spacing.3'}\n          marginTop=\"spacing.1\"\n          // So in design, we have set max height and width for the leading element, doing same here\n          maxHeight={getLeadingElementMaxHeightAndWidth(size)}\n          maxWidth={getLeadingElementMaxHeightAndWidth(size)}\n          overflow=\"hidden\"\n        >\n          {leading}\n        </BaseBox>\n      );\n    }\n    return null;\n  }, [showNumberPrefix, index, leading, size, isLeadingIcon]);\n\n  return (\n    <BaseBox {...metaAttribute({ name: MetaConstants.AccordionItemHeader })} flex=\"1\">\n      <BaseHeader\n        leading={leadingElement}\n        title={title}\n        subtitle={subtitle}\n        trailing={trailing}\n        titleSuffix={titleSuffix}\n        isDisabled={isDisabled}\n        showBackButton={false}\n        showCloseButton={false}\n        showDivider={expandedIndex === index}\n        paddingX=\"spacing.5\"\n        marginY=\"spacing.5\"\n        size={size}\n        alignItems={!subtitle && !isLeadingNumberOrIcon ? 'center' : 'flex-start'}\n        dividerProps={{\n          thickness: 'thinner',\n          marginX: 'spacing.5',\n        }}\n        trailingInteractionElement={\n          <CollapsibleChevronIcon\n            color={isDisabled ? 'interactive.icon.gray.disabled' : 'interactive.icon.gray.muted'}\n            size=\"large\"\n          />\n        }\n        shouldAlignLeadingAndTrailingElementsToCenter={shouldAlignHeaderItemsInCenter}\n        {...makeAnalyticsAttribute(rest)}\n      >\n        {children}\n      </BaseHeader>\n    </BaseBox>\n  );\n};\n\nconst AccordionItemHeader = assignWithoutSideEffects(_AccordionItemHeader, {\n  componentId: componentIds.AccordionItemHeader,\n});\n\nexport { AccordionItemHeader };\n"],"names":["getLeadingElementMaxHeightAndWidth","size","makeSize","sizeToken","_AccordionItemHeader","_ref","_leading$type$name","title","subtitle","leading","children","trailing","titleSuffix","rest","_objectWithoutProperties","_excluded","_useAccordion","useAccordion","showNumberPrefix","expandedIndex","_useAccordionItemInde","useAccordionItemIndex","index","isDisabled","isLeadingIcon","React","isValidElement","type","name","endsWith","isLeadingNumberOrIcon","useMemo","isIconComponent","shouldAlignHeaderItemsInCenter","Boolean","leadingElement","_jsxs","Text","weight","marginTop","as","_jsx","BaseBox","marginRight","maxHeight","maxWidth","overflow","_objectSpread","metaAttribute","MetaConstants","AccordionItemHeader","flex","BaseHeader","showBackButton","showCloseButton","showDivider","paddingX","marginY","alignItems","dividerProps","thickness","marginX","trailingInteractionElement","CollapsibleChevronIcon","color","shouldAlignLeadingAndTrailingElementsToCenter","makeAnalyticsAttribute","assignWithoutSideEffects","componentId","componentIds"],"mappings":"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"}