{"version":3,"file":"TableToolbar.web.js","sources":["../../../../../../src/components/Table/TableToolbar.web.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { ComponentIds } from './componentIds';\nimport { tableToolbar } from './tokens';\nimport { useTableContext } from './TableContext';\nimport type { TableToolbarProps, TableToolbarActionsProps } from './types';\nimport BaseBox from '~components/Box/BaseBox';\nimport { Text } from '~components/Typography';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { Divider } from '~components/Divider';\nimport { Link } from '~components/Link';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport { makeMotionTime, makeSize } from '~utils';\nimport { useTheme } from '~components/BladeProvider';\nimport getIn from '~utils/lodashButBetter/get';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\n/**\n * TableToolbarActions is a component that is used to render actions in the TableToolbar.\n * It is a flex container that will render its children in a row on desktop and a column on mobile.\n * @param children - any react element\n * @param styledProps - accepts all of the styled props from Box\n */\nconst _TableToolbarActions = ({\n  children,\n  ...rest\n}: TableToolbarActionsProps): React.ReactElement => {\n  const { platform } = useTheme();\n  const onMobile = platform === 'onMobile';\n  return (\n    <BaseBox\n      display=\"flex\"\n      flex={onMobile ? 1 : 0}\n      justifyContent={onMobile ? 'flex-start' : 'flex-end'}\n      {...getStyledProps(rest)}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {children}\n    </BaseBox>\n  );\n};\n\nconst TableToolbarActions = assignWithoutSideEffects(_TableToolbarActions, {\n  componentId: ComponentIds.TableToolbarActions,\n});\n\nconst ToolbarWrapper = styled(BaseBox)(({ theme }) => ({\n  transition: `background-color ${makeMotionTime(\n    getIn(theme.motion, tableToolbar.backgroundColorMotionDuration),\n  )} ${getIn(theme.motion, tableToolbar.backgroundColorMotionEasing)}`,\n}));\n\nconst _TableToolbar = ({\n  children,\n  title,\n  selectedTitle: controlledSelectedTitle,\n}: TableToolbarProps): React.ReactElement => {\n  const {\n    selectedRows,\n    deselectAllRows,\n    currentPaginationState,\n    totalItems,\n    backgroundColor,\n    tableToolbarPlacement,\n  } = useTableContext();\n  const { platform } = useTheme();\n  const isSelected = selectedRows && selectedRows.length > 0;\n\n  const defaultTitle = currentPaginationState\n    ? `Showing ${currentPaginationState.page * currentPaginationState.size + 1}-${\n        currentPaginationState.page * currentPaginationState.size + currentPaginationState.size\n      } Items`\n    : `Showing 1-${totalItems} Items`;\n  const selectedItemsCount = selectedRows ? selectedRows.length : 0;\n  const selectedTitle = isSelected\n    ? controlledSelectedTitle ??\n      `${selectedRows.length} ${selectedItemsCount === 1 ? 'Item' : 'Items'} Selected`\n    : null;\n\n  const onMobile = platform === 'onMobile';\n\n  const deselectButton = (\n    <Link size=\"small\" marginLeft=\"spacing.3\" variant=\"button\" onClick={() => deselectAllRows()}>\n      Deselect\n    </Link>\n  );\n\n  return (\n    <BaseBox backgroundColor={backgroundColor}>\n      <ToolbarWrapper\n        display=\"flex\"\n        backgroundColor={tableToolbar.backgroundColor}\n        padding={tableToolbar.padding}\n        flexWrap=\"wrap\"\n        flexDirection={onMobile && tableToolbarPlacement === 'inline' ? 'column' : 'row'}\n        gap=\"spacing.5\"\n        borderWidth=\"thin\"\n        borderColor=\"surface.border.gray.muted\"\n        borderBottomWidth=\"none\"\n        minHeight={makeSize(tableToolbar.minHeight)}\n      >\n        <BaseBox display=\"flex\" alignItems=\"center\" flex={1}>\n          <BaseBox>\n            <Text\n              size=\"small\"\n              weight=\"medium\"\n              color={isSelected ? 'surface.text.gray.normal' : 'surface.text.gray.subtle'}\n            >\n              {selectedTitle ?? title ?? defaultTitle}\n            </Text>\n          </BaseBox>\n\n          <BaseBox display=\"flex\" marginLeft=\"spacing.3\" height=\"100%\">\n            <Divider orientation=\"vertical\" thickness=\"thick\" />\n            {deselectButton}\n          </BaseBox>\n        </BaseBox>\n        {children}\n      </ToolbarWrapper>\n    </BaseBox>\n  );\n};\n\nconst TableToolbar = assignWithoutSideEffects(_TableToolbar, {\n  componentId: ComponentIds.TableToolbar,\n});\n\nexport { TableToolbar, TableToolbarActions };\n"],"names":["_TableToolbarActions","_ref","children","rest","_objectWithoutProperties","_excluded","_useTheme","useTheme","platform","onMobile","_jsx","BaseBox","_objectSpread","display","flex","justifyContent","getStyledProps","makeAnalyticsAttribute","TableToolbarActions","assignWithoutSideEffects","componentId","ComponentIds","ToolbarWrapper","styled","withConfig","displayName","_ref2","theme","transition","concat","makeMotionTime","getIn","motion","tableToolbar","backgroundColorMotionDuration","backgroundColorMotionEasing","_TableToolbar","_ref3","_ref4","title","controlledSelectedTitle","selectedTitle","_useTableContext","useTableContext","selectedRows","deselectAllRows","currentPaginationState","totalItems","backgroundColor","tableToolbarPlacement","_useTheme2","isSelected","length","defaultTitle","page","size","selectedItemsCount","deselectButton","Link","marginLeft","variant","onClick","_jsxs","padding","flexWrap","flexDirection","gap","borderWidth","borderColor","borderBottomWidth","minHeight","makeSize","alignItems","Text","weight","color","height","Divider","orientation","thickness","TableToolbar"],"mappings":"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"}