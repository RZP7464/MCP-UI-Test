{"version":3,"file":"DropdownButton.js","sources":["../../../../../../src/components/Dropdown/DropdownButton.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n\nimport React from 'react';\nimport { useDropdown } from './useDropdown';\nimport { dropdownComponentIds } from './dropdownComponentIds';\nimport BaseButton from '~components/Button/BaseButton';\nimport type { ButtonProps } from '~components/Button';\nimport { getActionListContainerRole } from '~components/ActionList/getA11yRoles';\nimport type { BaseButtonProps } from '~components/Button/BaseButton/BaseButton';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\n\ntype DropdownButtonProps = ButtonProps & {\n  onBlur?: BaseButtonProps['onBlur'];\n  onKeyDown?: BaseButtonProps['onKeyDown'];\n};\n\nconst _DropdownButton = ({\n  children,\n  icon,\n  iconPosition = 'left',\n  isDisabled = false,\n  isFullWidth = false,\n  isLoading = false,\n  onClick,\n  onBlur,\n  onKeyDown,\n  size = 'medium',\n  type = 'button',\n  variant = 'primary',\n  color = 'primary',\n  accessibilityLabel,\n  testID,\n  ...rest\n}: DropdownButtonProps): React.ReactElement => {\n  const {\n    onTriggerClick,\n    onTriggerKeydown,\n    dropdownBaseId,\n    isOpen,\n    activeIndex,\n    hasFooterAction,\n    triggererRef,\n  } = useDropdown();\n\n  return (\n    // Using BaseButton here to avoid exporting onBlur and onKeyDown from Button\n    // If in future we decide to export onBlur and onKeyDown on Button, this can be replaced with Button\n    <BaseButton\n      {...rest}\n      {...(icon ? { icon, children } : { children })}\n      iconPosition={iconPosition}\n      isDisabled={isDisabled}\n      isFullWidth={isFullWidth}\n      isLoading={isLoading}\n      size={size}\n      type={type}\n      variant={variant}\n      testID={testID}\n      ref={triggererRef as any}\n      color={color}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        hasPopup: getActionListContainerRole(hasFooterAction, 'DropdownButton'),\n        expanded: isOpen,\n        controls: `${dropdownBaseId}-actionlist`,\n        activeDescendant: activeIndex >= 0 ? `${dropdownBaseId}-${activeIndex}` : undefined,\n      }}\n      onClick={(e) => {\n        onTriggerClick();\n        // Setting it for web fails it on native typecheck and vice versa\n        onClick?.(e as any);\n      }}\n      onBlur={(e) => {\n        // With button trigger, there is no \"value\" as such. It's just clickable items\n        // Setting it for web fails it on native typecheck and vice versa\n        onBlur?.(e as any);\n      }}\n      onKeyDown={(e) => {\n        onTriggerKeydown?.({ event: e as any });\n        // Setting it for web fails it on native typecheck and vice versa\n        onKeyDown?.(e as any);\n      }}\n    />\n  );\n};\n\nconst DropdownButton = assignWithoutSideEffects(_DropdownButton, {\n  componentId: dropdownComponentIds.triggers.DropdownButton,\n});\n\nexport { DropdownButton };\n"],"names":["_DropdownButton","_ref","children","icon","_ref$iconPosition","iconPosition","_ref$isDisabled","isDisabled","_ref$isFullWidth","isFullWidth","_ref$isLoading","isLoading","onClick","onBlur","onKeyDown","_ref$size","size","_ref$type","type","_ref$variant","variant","_ref$color","color","accessibilityLabel","testID","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","onTriggerClick","onTriggerKeydown","dropdownBaseId","isOpen","activeIndex","hasFooterAction","triggererRef","_jsx","BaseButton","_objectSpread","ref","accessibilityProps","label","hasPopup","getActionListContainerRole","expanded","controls","concat","activeDescendant","undefined","e","event","DropdownButton","assignWithoutSideEffects","componentId","dropdownComponentIds","triggers"],"mappings":"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"}