{"version":3,"file":"DropdownHeaderFooter.js","sources":["../../../../../../src/components/Dropdown/DropdownHeaderFooter.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\nimport React from 'react';\nimport { useDropdown } from './useDropdown';\nimport { BaseFooter } from '~components/BaseHeaderFooter/BaseFooter';\nimport { BaseHeader } from '~components/BaseHeaderFooter/BaseHeader';\nimport type { BaseHeaderProps } from '~components/BaseHeaderFooter/BaseHeader';\nimport type { BaseFooterProps } from '~components/BaseHeaderFooter/BaseFooter';\nimport BaseBox from '~components/Box/BaseBox';\nimport { isReactNative } from '~utils';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { MetaConstants } from '~utils/metaAttribute/metaConstants';\nimport type { DataAnalyticsAttribute } from '~utils/types';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype DropdownHeaderProps = Pick<\n  BaseHeaderProps,\n  | 'title'\n  | 'subtitle'\n  | 'leading'\n  | 'trailing'\n  | 'titleSuffix'\n  | 'testID'\n  | 'children'\n  | keyof DataAnalyticsAttribute\n>;\n\nconst _DropdownHeader = ({\n  title,\n  subtitle,\n  leading,\n  titleSuffix,\n  trailing,\n  testID,\n  children,\n  ...rest\n}: DropdownHeaderProps): React.ReactElement => {\n  const { hasAutoCompleteInHeader, setShouldIgnoreBlurAnimation } = useDropdown();\n\n  return (\n    <BaseBox\n      flexShrink={0}\n      {...(isReactNative()\n        ? {}\n        : {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onMouseDown: (e: any) => {\n              // we don't want focus to ever move on header because its static element except when autocomplete is present\n              if (!hasAutoCompleteInHeader) {\n                e.preventDefault();\n              } else {\n                setShouldIgnoreBlurAnimation(false);\n              }\n            },\n          })}\n    >\n      <BaseHeader\n        title={title}\n        subtitle={subtitle}\n        leading={leading}\n        trailing={trailing}\n        titleSuffix={titleSuffix}\n        metaComponentName={MetaConstants.DropdownHeader}\n        testID={testID}\n        // back button\n        showBackButton={false}\n        // close button\n        showCloseButton={false}\n        {...makeAnalyticsAttribute(rest)}\n      >\n        {children}\n      </BaseHeader>\n    </BaseBox>\n  );\n};\n\nconst DropdownHeader = assignWithoutSideEffects(_DropdownHeader, {\n  componentId: 'DropdownHeader',\n});\n\ntype DropdownFooter = Pick<BaseFooterProps, 'children' | 'testID'>;\n\nconst _DropdownFooter = ({ children, testID }: DropdownFooter): React.ReactElement => {\n  const { setHasFooterAction, isOpen } = useDropdown();\n  const footerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    setHasFooterAction(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <BaseBox\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ref={footerRef as any}\n      {...makeAccessible({\n        role: isReactNative() ? undefined : 'group',\n      })}\n    >\n      <BaseFooter metaComponentName={MetaConstants.DropdownFooter} testID={testID}>\n        {/* We don't want any of the interactive children to get focussed on TAB when dropdown is closed so we remove them from DOM itself */}\n        {isOpen ? children : null}\n      </BaseFooter>\n    </BaseBox>\n  );\n};\n\nconst DropdownFooter = assignWithoutSideEffects(_DropdownFooter, {\n  componentId: 'DropdownFooter',\n});\n\nexport { DropdownHeader, DropdownFooter };\n"],"names":["_DropdownHeader","_ref","title","subtitle","leading","titleSuffix","trailing","testID","children","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","hasAutoCompleteInHeader","setShouldIgnoreBlurAnimation","_jsx","BaseBox","_objectSpread","flexShrink","isReactNative","onMouseDown","e","preventDefault","BaseHeader","metaComponentName","MetaConstants","DropdownHeader","showBackButton","showCloseButton","makeAnalyticsAttribute","assignWithoutSideEffects","componentId","_DropdownFooter","_ref2","_useDropdown2","setHasFooterAction","isOpen","footerRef","React","useRef","useEffect","ref","makeAccessible","role","undefined","BaseFooter","DropdownFooter"],"mappings":"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"}