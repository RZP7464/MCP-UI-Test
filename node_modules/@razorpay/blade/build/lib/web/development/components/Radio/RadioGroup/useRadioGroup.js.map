{"version":3,"file":"useRadioGroup.js","sources":["../../../../../../../src/components/Radio/RadioGroup/useRadioGroup.ts"],"sourcesContent":["import React from 'react';\nimport type { RadioGroupProps } from './RadioGroup';\nimport type { RadioGroupContextType } from './RadioContext';\nimport isUndefined from '~utils/lodashButBetter/isUndefined';\nimport { useControllableState } from '~utils/useControllable';\nimport { useTheme } from '~components/BladeProvider';\nimport { useId } from '~utils/useId';\n\ntype UseRadioGroupProps = Pick<\n  RadioGroupProps,\n  | 'isDisabled'\n  | 'isRequired'\n  | 'labelPosition'\n  | 'validationState'\n  | 'name'\n  | 'value'\n  | 'defaultValue'\n  | 'onChange'\n  | 'necessityIndicator'\n  | 'size'\n>;\n\nexport type State = {\n  value: string;\n  setValue(value: string, event: React.ChangeEvent<Element>): void;\n  removeValue(): void;\n  isChecked(value: string): boolean;\n};\n\ntype UseRadioGroupReturn = {\n  state: State;\n  contextValue: RadioGroupContextType;\n  ids: { labelId: string };\n};\n\nconst useRadioGroup = ({\n  value,\n  defaultValue,\n  isDisabled,\n  isRequired,\n  labelPosition,\n  onChange,\n  validationState,\n  necessityIndicator,\n  name,\n  size,\n}: UseRadioGroupProps): UseRadioGroupReturn => {\n  const { platform } = useTheme();\n  const idBase = useId('radio-group');\n  const labelId = `${idBase}-label`;\n  const fallbackName = name ?? idBase;\n  const [checkedValue, setValue] = useControllableState({\n    value,\n    defaultValue,\n    onChange: (v, event) => {\n      onChange?.({ value: v, name: fallbackName, event });\n    },\n  });\n\n  const state = React.useMemo<State>(() => {\n    return {\n      value: checkedValue,\n      setValue(v, event): void {\n        if (isDisabled) {\n          return;\n        }\n\n        setValue(() => v, false, event);\n      },\n      removeValue(): void {\n        if (isDisabled) {\n          return;\n        }\n\n        setValue(undefined!);\n      },\n      isChecked(v: string): boolean {\n        if (isUndefined(v) || isUndefined(checkedValue)) return false;\n        return checkedValue === v;\n      },\n    };\n  }, [checkedValue, isDisabled, setValue]);\n\n  const contextValue = React.useMemo<RadioGroupContextType>(() => {\n    return {\n      necessityIndicator,\n      validationState,\n      isDisabled,\n      isRequired,\n      labelPosition: platform === 'onMobile' ? 'top' : labelPosition,\n      name: fallbackName,\n      state,\n      size,\n    };\n  }, [\n    validationState,\n    isDisabled,\n    isRequired,\n    platform,\n    labelPosition,\n    state,\n    fallbackName,\n    necessityIndicator,\n    size,\n  ]);\n\n  return { state, contextValue, ids: { labelId } };\n};\n\nexport { useRadioGroup };\n"],"names":["useRadioGroup","_ref","value","defaultValue","isDisabled","isRequired","labelPosition","onChange","validationState","necessityIndicator","name","size","_useTheme","useTheme","platform","idBase","useId","labelId","concat","fallbackName","_useControllableState","useControllableState","v","event","_useControllableState2","_slicedToArray","checkedValue","setValue","state","React","useMemo","_setValue","_x","_x2","apply","arguments","toString","removeValue","undefined","isChecked","isUndefined","contextValue","ids"],"mappings":"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"}