{"version":3,"file":"ListViewFilters.web.js","sources":["../../../../../../src/components/ListView/ListViewFilters.web.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport type { ListViewFilterProps, ListViewSelectedFiltersType } from './types';\nimport { ListViewFiltersProvider } from './ListViewFiltersContext.web';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport BaseBox from '~components/Box/BaseBox';\nimport { MetaConstants, metaAttribute } from '~utils/metaAttribute';\nimport { Box } from '~components/Box';\nimport { SearchInput } from '~components/Input/SearchInput';\nimport { useId } from '~utils/useId';\nimport { useIsMobile } from '~utils/useIsMobile';\nimport { getComponentId } from '~utils/isValidAllowedChildren';\n\nconst StyledQuickFilterContainer = styled(BaseBox)({\n  /* For Webkit (Chrome, Safari) */\n  '::-webkit-scrollbar': {\n    display: 'none',\n  },\n  /* For Firefox */\n  scrollbarWidth: 'none',\n  /* For Edge */\n  msOverflowStyle: 'none',\n});\n\nconst ListViewFilters = ({\n  testID,\n  children,\n  quickFilters,\n  onSearchChange,\n  searchValue,\n  searchValuePlaceholder,\n  searchName,\n  showQuickFilters,\n  onShowQuickFiltersChange,\n  showFilters: showFiltersProp,\n  onShowFiltersChange,\n  onSearchClear,\n  selectedFiltersCount = 0,\n  searchTrailing,\n  actions,\n  ...rest\n}: ListViewFilterProps): React.ReactElement => {\n  const [\n    listViewSelectedFilters,\n    setListViewSelectedFilters,\n  ] = useState<ListViewSelectedFiltersType>({});\n  const searchId = useId('search-input');\n  const searchNameValue = searchName || searchId;\n  const isMobile = useIsMobile();\n\n  const showSearchInput = onSearchChange || onSearchClear || searchValuePlaceholder || searchName;\n  const isSearchTrailingDropDown =\n    React.isValidElement(searchTrailing) && getComponentId(searchTrailing) === 'Dropdown';\n\n  return (\n    <ListViewFiltersProvider\n      value={{\n        listViewSelectedFilters,\n        setListViewSelectedFilters,\n        selectedFiltersCount,\n      }}\n    >\n      {isMobile && showSearchInput && (\n        <SearchInput\n          label=\"\"\n          value={searchValue}\n          placeholder={searchValuePlaceholder}\n          name={searchNameValue || searchId}\n          onChange={({ name, value }) => onSearchChange?.({ name, value })}\n          onClearButtonClick={onSearchClear}\n          trailing={searchTrailing}\n        />\n      )}\n      <BaseBox>\n        <BaseBox\n          {...metaAttribute({ name: MetaConstants.ListViewFilter, testID })}\n          {...makeAnalyticsAttribute(rest)}\n          display=\"flex\"\n          justifyContent=\"space-between\"\n        >\n          <Box\n            position=\"relative\"\n            display=\"flex\"\n            flexDirection=\"column\"\n            marginRight=\"spacing.3\"\n            flex=\"1\"\n            minWidth=\"0px\"\n          >\n            <StyledQuickFilterContainer\n              overflow=\"scroll\"\n              width=\"100%\"\n              paddingTop={isMobile ? 'spacing.4' : 'spacing.1'}\n              paddingBottom=\"spacing.1\"\n              paddingLeft=\"spacing.1\"\n            >\n              {quickFilters}\n            </StyledQuickFilterContainer>\n          </Box>\n\n          <BaseBox display=\"flex\" alignItems=\"center\" flexShrink=\"0\">\n            {!isMobile && showSearchInput && (\n              <Box width={isSearchTrailingDropDown ? '280px' : '208px'}>\n                <SearchInput\n                  label=\"\"\n                  value={searchValue}\n                  placeholder={searchValuePlaceholder}\n                  name={searchNameValue || searchId}\n                  onChange={({ name, value }) => onSearchChange?.({ name, value })}\n                  onClearButtonClick={onSearchClear}\n                  size=\"medium\"\n                  trailing={searchTrailing}\n                />\n              </Box>\n            )}\n            {actions}\n          </BaseBox>\n        </BaseBox>\n        <BaseBox display=\"flex\">{children}</BaseBox>\n      </BaseBox>\n    </ListViewFiltersProvider>\n  );\n};\n\nexport { ListViewFilters };\n"],"names":["StyledQuickFilterContainer","styled","BaseBox","withConfig","displayName","componentId","display","scrollbarWidth","msOverflowStyle","ListViewFilters","_ref","testID","children","quickFilters","onSearchChange","searchValue","searchValuePlaceholder","searchName","showQuickFilters","onShowQuickFiltersChange","showFiltersProp","showFilters","onShowFiltersChange","onSearchClear","_ref$selectedFiltersC","selectedFiltersCount","searchTrailing","actions","rest","_objectWithoutProperties","_excluded","_useState","useState","_useState2","_slicedToArray","listViewSelectedFilters","setListViewSelectedFilters","searchId","useId","searchNameValue","isMobile","useIsMobile","showSearchInput","isSearchTrailingDropDown","React","isValidElement","getComponentId","_jsxs","ListViewFiltersProvider","value","_jsx","SearchInput","label","placeholder","name","onChange","_ref2","onClearButtonClick","trailing","_objectSpread","metaAttribute","MetaConstants","ListViewFilter","makeAnalyticsAttribute","justifyContent","Box","position","flexDirection","marginRight","flex","minWidth","overflow","width","paddingTop","paddingBottom","paddingLeft","alignItems","flexShrink","_ref3","size"],"mappings":"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"}