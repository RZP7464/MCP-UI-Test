{"version":3,"file":"SideNavSection.web.js","sources":["../../../../../../src/components/SideNav/SideNavSection.web.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport type { SideNavSectionProps } from './types';\nimport { classes } from './tokens';\nimport { Box } from '~components/Box';\nimport { Text } from '~components/Typography';\nimport { Collapsible, CollapsibleBody } from '~components/Collapsible';\nimport BaseBox from '~components/Box/BaseBox';\nimport { useCollapsible } from '~components/Collapsible/CollapsibleContext';\nimport { ChevronDownIcon, ChevronUpIcon } from '~components/Icons';\nimport { makeBorderSize } from '~utils';\nimport { BaseLink } from '~components/Link/BaseLink';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst SideNavTitleDivider = styled(BaseBox)(({ theme }) => {\n  return {\n    height: makeBorderSize(theme.border.width.thicker),\n    width: '100%',\n    background: `linear-gradient(90deg, ${theme.colors.transparent} 0%, ${theme.colors.surface.border.gray.muted} 50%, ${theme.colors.transparent} 100%)`,\n  };\n});\n\nconst FullWidthLink = styled(BaseLink)(() => {\n  return {\n    width: '100%',\n  };\n});\n\nconst ShowMoreLink = ({\n  collapsedItemsCount,\n}: {\n  collapsedItemsCount: number;\n}): React.ReactElement => {\n  const { isExpanded, onExpandChange } = useCollapsible();\n  const toggleCollapse = (): void => onExpandChange(!isExpanded);\n  const linkProps = {\n    size: 'small',\n    color: 'neutral',\n    variant: 'button',\n    onClick: toggleCollapse,\n    marginY: 'spacing.2',\n  } as const;\n\n  return (\n    <>\n      <BaseBox className={classes.SHOW_WHEN_COLLAPSED} width=\"100%\" justifyContent=\"center\">\n        <FullWidthLink\n          {...linkProps}\n          marginX=\"spacing.4\"\n          icon={isExpanded ? ChevronUpIcon : undefined}\n          iconPosition=\"right\"\n        >\n          {isExpanded ? `` : `+${collapsedItemsCount}`}\n        </FullWidthLink>\n      </BaseBox>\n      <BaseBox className={classes.HIDE_WHEN_COLLAPSED} width=\"100%\">\n        <FullWidthLink\n          {...linkProps}\n          marginX=\"spacing.4\"\n          icon={isExpanded ? ChevronUpIcon : ChevronDownIcon}\n          iconPosition=\"right\"\n        >\n          {isExpanded ? 'Show Less' : `+${collapsedItemsCount} More`}\n        </FullWidthLink>\n      </BaseBox>\n    </>\n  );\n};\n\nconst StyledSectionTitleContainer = styled(BaseBox)((_props) => {\n  return {\n    [`.${classes.COLLAPSED}:not(.${classes.TRANSITIONING}) & p`]: {\n      // We only make it opacity 0 to maintain the height of the title in collapsed state\n      opacity: 0,\n    },\n  };\n});\n\nconst SideNavSection = ({\n  children,\n  title,\n  defaultIsExpanded,\n  maxVisibleItems,\n  onExpandChange,\n  ...rest\n}: SideNavSectionProps): React.ReactElement => {\n  const totalItemsCount = React.Children.count(children);\n  const collapsedItemsCount = maxVisibleItems ? totalItemsCount - maxVisibleItems : undefined;\n\n  return (\n    <Box paddingY=\"spacing.3\" {...makeAnalyticsAttribute(rest)}>\n      {title ? (\n        <StyledSectionTitleContainer position=\"relative\" padding={['spacing.2', 'spacing.4']}>\n          <Text\n            size=\"xsmall\"\n            weight=\"medium\"\n            truncateAfterLines={1}\n            color=\"surface.text.gray.muted\"\n          >\n            {title?.toUpperCase()}\n          </Text>\n          <BaseBox\n            className={classes.SHOW_WHEN_COLLAPSED}\n            position=\"absolute\"\n            top=\"50%\"\n            margin=\"auto\"\n            left=\"spacing.0\"\n            right=\"spacing.0\"\n            transform=\"translateY(-50%)\"\n          >\n            <SideNavTitleDivider />\n          </BaseBox>\n        </StyledSectionTitleContainer>\n      ) : null}\n\n      <Box>{maxVisibleItems ? children.slice(0, maxVisibleItems) : children}</Box>\n      {maxVisibleItems ? (\n        <Collapsible\n          direction=\"top\"\n          _dangerouslyDisableValidations={true}\n          _shouldApplyWidthRestrictions={false}\n          onExpandChange={onExpandChange}\n          defaultIsExpanded={defaultIsExpanded}\n        >\n          <ShowMoreLink collapsedItemsCount={collapsedItemsCount!} />\n          <CollapsibleBody width=\"100%\" _hasMargin={false}>\n            {children.slice(maxVisibleItems)}\n          </CollapsibleBody>\n        </Collapsible>\n      ) : null}\n    </Box>\n  );\n};\n\nexport { SideNavSection };\n"],"names":["SideNavTitleDivider","styled","BaseBox","withConfig","displayName","componentId","_ref","theme","height","makeBorderSize","border","width","thicker","background","concat","colors","transparent","surface","gray","muted","FullWidthLink","BaseLink","ShowMoreLink","_ref2","collapsedItemsCount","_useCollapsible","useCollapsible","isExpanded","onExpandChange","toggleCollapse","linkProps","size","color","variant","onClick","marginY","_jsxs","_Fragment","children","_jsx","className","classes","SHOW_WHEN_COLLAPSED","justifyContent","_objectSpread","marginX","icon","ChevronUpIcon","undefined","iconPosition","HIDE_WHEN_COLLAPSED","ChevronDownIcon","StyledSectionTitleContainer","_props","_defineProperty","COLLAPSED","TRANSITIONING","opacity","SideNavSection","_ref4","title","defaultIsExpanded","maxVisibleItems","rest","_objectWithoutProperties","_excluded","totalItemsCount","React","Children","count","Box","paddingY","makeAnalyticsAttribute","position","padding","Text","weight","truncateAfterLines","toUpperCase","top","margin","left","right","transform","slice","Collapsible","direction","_dangerouslyDisableValidations","_shouldApplyWidthRestrictions","CollapsibleBody","_hasMargin"],"mappings":"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"}