{"version":3,"file":"FileUploadItem.js","sources":["../../../../../../src/components/FileUpload/FileUploadItem.tsx"],"sourcesContent":["import { memo } from 'react';\nimport { StyledFileUploadItemWrapper } from './StyledFileUploadItemWrapper';\nimport type { FileUploadItemProps } from './types';\nimport { FileUploadItemIcon } from './FileUploadItemIcon';\nimport { TrashIcon, EyeIcon, CloseIcon, CheckCircleIcon, RefreshIcon } from '~components/Icons';\nimport { BaseBox } from '~components/Box/BaseBox';\nimport { Text } from '~components/Typography';\nimport { Divider } from '~components/Divider';\nimport { IconButton } from '~components/Button/IconButton';\nimport { ProgressBar } from '~components/ProgressBar';\nimport isUndefined from '~utils/lodashButBetter/isUndefined';\nimport { BaseLink } from '~components/Link/BaseLink';\nimport { MAKE_ANALYTICS_CONSTANTS } from '~utils/makeAnalyticsAttribute';\n\nconst FileUploadItem = memo(\n  ({\n    file,\n    onPreview,\n    onRemove,\n    onReupload,\n    onDismiss,\n    size: containerSize,\n  }: FileUploadItemProps): React.ReactElement => {\n    const { name, size, uploadPercent, errorText, status } = file;\n    const isUploading = status === 'uploading';\n    const sizeInKB = size / 1024;\n    const sizeInMB = sizeInKB / 1024;\n    const showSizeInKB = sizeInKB < 1024;\n\n    return (\n      <StyledFileUploadItemWrapper\n        size={containerSize ?? 'medium'}\n        status={status ?? 'success'}\n        borderRadius=\"medium\"\n        borderWidth=\"thin\"\n      >\n        <BaseBox width=\"100%\" display=\"flex\" flexDirection=\"column\">\n          <BaseBox\n            display=\"flex\"\n            flexDirection=\"row\"\n            margin={containerSize === 'large' ? 'spacing.4' : 'spacing.3'}\n          >\n            <BaseBox marginRight=\"spacing.3\">\n              <FileUploadItemIcon fileName={name} uploadStatus={status} />\n            </BaseBox>\n            <BaseBox flexGrow={1}>\n              <BaseBox alignItems=\"center\" display=\"flex\">\n                <BaseBox alignItems=\"center\" maxWidth=\"70%\" display=\"flex\" marginRight=\"spacing.3\">\n                  <Text\n                    size=\"medium\"\n                    weight=\"medium\"\n                    color=\"surface.text.gray.subtle\"\n                    truncateAfterLines={1}\n                  >\n                    {name}\n                  </Text>\n                </BaseBox>\n                {status === 'success' && (\n                  <CheckCircleIcon\n                    size=\"medium\"\n                    marginRight=\"spacing.2\"\n                    color=\"interactive.icon.positive.normal\"\n                  />\n                )}\n              </BaseBox>\n              <Text\n                size=\"small\"\n                weight=\"regular\"\n                color={\n                  status === 'error' ? 'feedback.text.negative.intense' : 'surface.text.gray.muted'\n                }\n              >\n                {errorText ??\n                  `${(showSizeInKB ? sizeInKB : sizeInMB).toFixed(2)} ${\n                    showSizeInKB ? 'KB' : 'MB'\n                  } ${isUploading && uploadPercent ? `(${uploadPercent}%)` : ''}`}\n              </Text>\n            </BaseBox>\n            {status === 'uploading' ? (\n              <BaseBox display=\"flex\" alignItems=\"center\">\n                <IconButton\n                  accessibilityLabel=\"Remove File\"\n                  icon={CloseIcon}\n                  onClick={() => onDismiss?.({ file })}\n                />\n              </BaseBox>\n            ) : status === 'error' ? (\n              <BaseBox display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n                <BaseLink\n                  marginX=\"spacing.1\"\n                  variant=\"button\"\n                  icon={RefreshIcon}\n                  color=\"negative\"\n                  size=\"small\"\n                  onClick={() => {\n                    onReupload?.({ file });\n                  }}\n                  data-analytics-name={MAKE_ANALYTICS_CONSTANTS.FILE_UPLOAD.REUPLOAD_BUTTON}\n                >\n                  Re-upload\n                </BaseLink>\n              </BaseBox>\n            ) : (\n              <BaseBox display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n                {onPreview ? (\n                  <BaseBox\n                    display=\"flex\"\n                    flexDirection=\"row\"\n                    alignItems=\"center\"\n                    padding=\"spacing.0\"\n                    gap=\"spacing.3\"\n                  >\n                    <IconButton\n                      accessibilityLabel=\"Preview File\"\n                      icon={EyeIcon}\n                      onClick={() => onPreview?.({ file })}\n                    />\n                    <Divider orientation=\"vertical\" thickness=\"thinner\" variant=\"normal\" />\n                    <IconButton\n                      accessibilityLabel=\"Remove File\"\n                      icon={TrashIcon}\n                      onClick={() => onRemove?.({ file })}\n                    />\n                  </BaseBox>\n                ) : (\n                  <IconButton\n                    accessibilityLabel=\"Remove File\"\n                    icon={TrashIcon}\n                    onClick={() => onRemove?.({ file })}\n                  />\n                )}\n              </BaseBox>\n            )}\n          </BaseBox>\n          {isUploading && (\n            <BaseBox width=\"100%\" position=\"absolute\" bottom=\"spacing.0\">\n              <ProgressBar\n                left=\"spacing.0\"\n                showPercentage={false}\n                value={uploadPercent ?? 0}\n                isIndeterminate={isUndefined(uploadPercent)}\n              />\n            </BaseBox>\n          )}\n        </BaseBox>\n      </StyledFileUploadItemWrapper>\n    );\n  },\n);\n\nexport { FileUploadItem };\n"],"names":["FileUploadItem","memo","_ref","file","onPreview","onRemove","onReupload","onDismiss","containerSize","size","name","uploadPercent","errorText","status","isUploading","sizeInKB","sizeInMB","showSizeInKB","_jsx","StyledFileUploadItemWrapper","borderRadius","borderWidth","children","_jsxs","BaseBox","width","display","flexDirection","margin","marginRight","FileUploadItemIcon","fileName","uploadStatus","flexGrow","alignItems","maxWidth","Text","weight","color","truncateAfterLines","CheckCircleIcon","concat","toFixed","IconButton","accessibilityLabel","icon","CloseIcon","onClick","BaseLink","marginX","variant","RefreshIcon","MAKE_ANALYTICS_CONSTANTS","FILE_UPLOAD","REUPLOAD_BUTTON","padding","gap","EyeIcon","Divider","orientation","thickness","TrashIcon","position","bottom","ProgressBar","left","showPercentage","value","isIndeterminate","isUndefined"],"mappings":"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"}