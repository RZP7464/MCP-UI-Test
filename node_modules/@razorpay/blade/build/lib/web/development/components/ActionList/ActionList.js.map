{"version":3,"file":"ActionList.js","sources":["../../../../../../src/components/ActionList/ActionList.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport { getActionListContainerRole, getActionListItemWrapperRole } from './getA11yRoles';\nimport { getActionListProperties } from './actionListUtils';\nimport { ActionListBox as ActionListNormalBox, ActionListVirtualizedBox } from './ActionListBox';\nimport { componentIds } from './componentIds';\nimport { ActionListNoResults } from './ActionListNoResults';\nimport { useDropdown } from '~components/Dropdown/useDropdown';\nimport { useBottomSheetContext } from '~components/BottomSheet/BottomSheetContext';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport type { DataAnalyticsAttribute, TestID } from '~utils/types';\nimport BaseBox from '~components/Box/BaseBox';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { dropdownComponentIds } from '~components/Dropdown/dropdownComponentIds';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype ActionListProps = {\n  children: React.ReactNode[];\n  isVirtualized?: boolean;\n} & TestID &\n  DataAnalyticsAttribute;\n\nconst _ActionList = ({\n  children,\n  testID,\n  isVirtualized,\n  ...rest\n}: ActionListProps): React.ReactElement => {\n  const {\n    setOptions,\n    actionListItemRef,\n    selectionType,\n    dropdownBaseId,\n    dropdownTriggerer,\n    hasFooterAction,\n    filteredValues,\n  } = useDropdown();\n\n  const ActionListBox = isVirtualized ? ActionListVirtualizedBox : ActionListNormalBox;\n\n  const { isInBottomSheet } = useBottomSheetContext();\n\n  const { sectionData, childrenWithId, actionListOptions } = React.useMemo(\n    () => getActionListProperties(children),\n    [children],\n  );\n\n  React.useEffect(() => {\n    setOptions(actionListOptions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [actionListOptions]);\n\n  if (\n    filteredValues.length <= 0 &&\n    dropdownTriggerer === dropdownComponentIds.triggers.AutoComplete\n  ) {\n    return <ActionListNoResults />;\n  }\n\n  const actionListContainerRole = getActionListContainerRole(hasFooterAction, dropdownTriggerer);\n  const actionListItemWrapperRole = getActionListItemWrapperRole(\n    hasFooterAction,\n    dropdownTriggerer,\n  );\n  const isMultiSelectable = selectionType === 'multiple';\n\n  // If we are inside BottomSheet, we don't render The StyledActionList wrapper\n  // This is to ensure:\n  // 1. We don't render the box wrapper styles which includes shadows, padding, border etc\n  // 2. to ensure GorhomBottomSheetSectionList works as expected, if we add extra wrappers GorhomBottomSheet won't render the content inside\n  // NOTE: That this also means inside BottomSheet, ActionList won't render any ActionListHeader or Footer.\n  return isInBottomSheet ? (\n    <ActionListBox\n      isInBottomSheet={isInBottomSheet}\n      actionListItemWrapperRole={actionListItemWrapperRole}\n      childrenWithId={childrenWithId}\n      sectionData={sectionData}\n      isMultiSelectable={isMultiSelectable}\n      ref={actionListItemRef as any}\n      {...makeAnalyticsAttribute(rest)}\n    />\n  ) : (\n    <BaseBox\n      id={`${dropdownBaseId}-actionlist`}\n      {...makeAccessible({\n        role: actionListContainerRole,\n        multiSelectable: actionListContainerRole === 'listbox' ? isMultiSelectable : undefined,\n        labelledBy: `${dropdownBaseId}-label`,\n      })}\n      {...metaAttribute({ name: MetaConstants.ActionList, testID })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <ActionListBox\n        isInBottomSheet={isInBottomSheet}\n        actionListItemWrapperRole={actionListItemWrapperRole}\n        childrenWithId={childrenWithId}\n        sectionData={sectionData}\n        isMultiSelectable={isMultiSelectable}\n        ref={actionListItemRef as any}\n      />\n    </BaseBox>\n  );\n};\n\n/**\n * ### ActionList\n *\n * List of multiple actionable items. Can be used as menu items inside `Dropdown`,\n * `BottomSheet` and as selectable items when combined with `SelectInput`\n *\n * #### Usage\n *\n * ```jsx\n * <Dropdown>\n *  <SelectInput label=\"Select Action\" />\n *  <DropdownOverlay>\n *    <DropdownHeader title=\"Header Title\" />\n *    <ActionList>\n *      <ActionListItem\n *        title=\"Home\"\n *        value=\"home\"\n *        leading={<ActionListItemIcon icon={HomeIcon} />}\n *      />\n *      <ActionListItem\n *        title=\"Pricing\"\n *        value=\"pricing\"\n *        leading={<ActionListItemAsset src=\"https://flagcdn.com/w20/in.png\" alt=\"India Flag\" />}\n *      />\n *    </ActionList>\n *    <DropdownFooter><Button>Apply</Button></DropdownFooter>\n *  </DropdownOverlay>\n * </Dropdown>\n * ```\n *\n */\nconst ActionList = assignWithoutSideEffects(React.memo(_ActionList), {\n  displayName: componentIds.ActionList,\n  componentId: componentIds.ActionList,\n});\n\nexport type { ActionListProps };\nexport { ActionList };\n"],"names":["_ActionList","_ref","children","testID","isVirtualized","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","setOptions","actionListItemRef","selectionType","dropdownBaseId","dropdownTriggerer","hasFooterAction","filteredValues","ActionListBox","ActionListVirtualizedBox","ActionListNormalBox","_useBottomSheetContex","useBottomSheetContext","isInBottomSheet","_React$useMemo","React","useMemo","getActionListProperties","sectionData","childrenWithId","actionListOptions","useEffect","length","dropdownComponentIds","triggers","AutoComplete","_jsx","ActionListNoResults","actionListContainerRole","getActionListContainerRole","actionListItemWrapperRole","getActionListItemWrapperRole","isMultiSelectable","_objectSpread","ref","makeAnalyticsAttribute","BaseBox","id","concat","makeAccessible","role","multiSelectable","undefined","labelledBy","metaAttribute","name","MetaConstants","ActionList","assignWithoutSideEffects","memo","displayName","componentIds","componentId"],"mappings":"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"}