{"version":3,"file":"TabList.web.js","sources":["../../../../../../src/components/Tabs/TabList.web.tsx"],"sourcesContent":["import React from 'react';\nimport { Composite } from '@floating-ui/react';\nimport styled from 'styled-components';\nimport { useTabsContext } from './TabsContext';\nimport { TabIndicator } from './TabIndicator';\nimport { trackColor } from './tabTokens';\nimport BaseBox from '~components/Box/BaseBox';\nimport { useIsomorphicLayoutEffect } from '~utils/useIsomorphicLayoutEffect';\nimport { Box } from '~components/Box';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport type { DataAnalyticsAttribute } from '~utils/types';\n\nconst ScrollableArea = styled(BaseBox)(() => {\n  return {\n    '&::-webkit-scrollbar': { display: 'none' },\n  };\n});\n\nconst TabList = ({\n  children,\n  ...rest\n}: { children: React.ReactNode } & StyledPropsBlade &\n  DataAnalyticsAttribute): React.ReactElement => {\n  const { setSelectedValue, selectedValue, variant, isVertical } = useTabsContext();\n  const tabListContainerRef = React.useRef<HTMLDivElement>(null);\n  const isBordered = variant === 'bordered';\n  const isFilled = variant === 'filled';\n\n  // Set the first child as the selected value\n  useIsomorphicLayoutEffect(() => {\n    if (selectedValue) return;\n    const first = React.Children.toArray(children)[0];\n    if (React.isValidElement(first)) {\n      // We need to skip calling onChange on the first render when we set the initial value\n      setSelectedValue?.(() => first.props.value, true);\n    }\n  }, [children, selectedValue, setSelectedValue]);\n\n  return (\n    <Box\n      {...getStyledProps(rest)}\n      {...metaAttribute({ name: MetaConstants.TabList })}\n      {...makeAnalyticsAttribute(rest)}\n      display={isVertical ? 'flex' : 'block'}\n      flexShrink={0}\n      overflow=\"hidden\"\n    >\n      <ScrollableArea\n        position=\"relative\"\n        whiteSpace=\"nowrap\"\n        flex=\"1 1 auto\"\n        width=\"100%\"\n        overflow=\"auto hidden\"\n      >\n        <Composite\n          render={(htmlProps) => {\n            return (\n              <BaseBox flexDirection=\"row\" display=\"flex\">\n                {isVertical && isBordered ? (\n                  <BaseBox\n                    width=\"0px\"\n                    height=\"auto\"\n                    flexGrow={1}\n                    flexShrink={0}\n                    borderColor={trackColor}\n                    borderWidth=\"thin\"\n                    style={{ transform: 'translateX(1.5px)' }}\n                  />\n                ) : null}\n                {/* @ts-expect-error spreading composite props */}\n                <BaseBox\n                  {...htmlProps}\n                  flexGrow={1}\n                  ref={tabListContainerRef}\n                  role=\"tablist\"\n                  width=\"100%\"\n                  display=\"flex\"\n                  flexDirection={isVertical ? 'column' : 'row'}\n                  alignItems={isVertical ? 'start' : 'center'}\n                  overflow={isVertical ? 'hidden' : undefined}\n                  {...(isFilled\n                    ? {\n                        borderRadius: 'medium',\n                        borderWidth: 'thin',\n                        borderColor: 'interactive.border.gray.default',\n                        padding: 'spacing.2',\n                        gap: isVertical ? 'spacing.0' : 'spacing.1',\n                        backgroundColor: 'surface.background.gray.intense',\n                      }\n                    : {\n                        padding: 'spacing.0',\n                        gap: isVertical ? 'spacing.0' : { base: 'spacing.7', m: 'spacing.8' },\n                      })}\n                >\n                  {children}\n                </BaseBox>\n              </BaseBox>\n            );\n          }}\n        />\n        {!isVertical ? <TabIndicator tabListContainerRef={tabListContainerRef} /> : null}\n      </ScrollableArea>\n      {/*\n        Adding border bottom with an div element, we can't put it on the outer Box of tablist because \n        it's not possible to offset or translate a border \n      */}\n      {!isVertical && isBordered ? (\n        <BaseBox\n          style={{ transform: 'translateY(-1px)' }}\n          borderBottomColor={trackColor}\n          borderBottomWidth=\"thin\"\n        />\n      ) : null}\n    </Box>\n  );\n};\n\nexport { TabList };\n"],"names":["ScrollableArea","styled","BaseBox","withConfig","displayName","componentId","display","TabList","_ref","children","rest","_objectWithoutProperties","_excluded","_useTabsContext","useTabsContext","setSelectedValue","selectedValue","variant","isVertical","tabListContainerRef","React","useRef","isBordered","isFilled","useIsomorphicLayoutEffect","first","Children","toArray","isValidElement","props","value","_jsxs","Box","_objectSpread","getStyledProps","metaAttribute","name","MetaConstants","makeAnalyticsAttribute","flexShrink","overflow","position","whiteSpace","flex","width","_jsx","Composite","render","htmlProps","flexDirection","height","flexGrow","borderColor","trackColor","borderWidth","style","transform","ref","role","alignItems","undefined","borderRadius","padding","gap","backgroundColor","base","m","TabIndicator","borderBottomColor","borderBottomWidth"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAeA,IAAMA,cAAc,gBAAGC,MAAM,CAACC,OAAO,CAAC,CAAAC,UAAA,CAAA;EAAAC,WAAA,EAAA,4BAAA;EAAAC,WAAA,EAAA,cAAA;AAAA,CAAA,CAAA,CAAC,YAAM;EAC3C,OAAO;AACL,IAAA,sBAAsB,EAAE;AAAEC,MAAAA,OAAO,EAAE,MAAA;AAAO,KAAA;GAC3C,CAAA;AACH,CAAC,CAAC,CAAA;AAEF,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAAC,IAAA,EAIoC;AAAA,EAAA,IAH/CC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;AACLC,IAAAA,IAAI,GAAAC,wBAAA,CAAAH,IAAA,EAAAI,SAAA,CAAA,CAAA;AAGP,EAAA,IAAAC,eAAA,GAAiEC,cAAc,EAAE;IAAzEC,gBAAgB,GAAAF,eAAA,CAAhBE,gBAAgB;IAAEC,aAAa,GAAAH,eAAA,CAAbG,aAAa;IAAEC,OAAO,GAAAJ,eAAA,CAAPI,OAAO;IAAEC,UAAU,GAAAL,eAAA,CAAVK,UAAU,CAAA;AAC5D,EAAA,IAAMC,mBAAmB,GAAGC,cAAK,CAACC,MAAM,CAAiB,IAAI,CAAC,CAAA;AAC9D,EAAA,IAAMC,UAAU,GAAGL,OAAO,KAAK,UAAU,CAAA;AACzC,EAAA,IAAMM,QAAQ,GAAGN,OAAO,KAAK,QAAQ,CAAA;;AAErC;AACAO,EAAAA,yBAAyB,CAAC,YAAM;AAC9B,IAAA,IAAIR,aAAa,EAAE,OAAA;AACnB,IAAA,IAAMS,KAAK,GAAGL,cAAK,CAACM,QAAQ,CAACC,OAAO,CAAClB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;AACjD,IAAA,iBAAIW,cAAK,CAACQ,cAAc,CAACH,KAAK,CAAC,EAAE;AAC/B;AACAV,MAAAA,gBAAgB,KAAhBA,IAAAA,IAAAA,gBAAgB,KAAhBA,KAAAA,CAAAA,IAAAA,gBAAgB,CAAG,YAAA;AAAA,QAAA,OAAMU,KAAK,CAACI,KAAK,CAACC,KAAK,CAAA;AAAA,OAAA,EAAE,IAAI,CAAC,CAAA;AACnD,KAAA;GACD,EAAE,CAACrB,QAAQ,EAAEO,aAAa,EAAED,gBAAgB,CAAC,CAAC,CAAA;AAE/C,EAAA,oBACEgB,IAAA,CAACC,GAAG,EAAAC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACEC,cAAc,CAACxB,IAAI,CAAC,CAAA,EACpByB,aAAa,CAAC;IAAEC,IAAI,EAAEC,aAAa,CAAC9B,OAAAA;AAAQ,GAAC,CAAC,CAAA,EAC9C+B,sBAAsB,CAAC5B,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAChCJ,IAAAA,OAAO,EAAEY,UAAU,GAAG,MAAM,GAAG,OAAQ;AACvCqB,IAAAA,UAAU,EAAE,CAAE;AACdC,IAAAA,QAAQ,EAAC,QAAQ;IAAA/B,QAAA,EAAA,cAEjBsB,IAAA,CAAC/B,cAAc,EAAA;AACbyC,MAAAA,QAAQ,EAAC,UAAU;AACnBC,MAAAA,UAAU,EAAC,QAAQ;AACnBC,MAAAA,IAAI,EAAC,UAAU;AACfC,MAAAA,KAAK,EAAC,MAAM;AACZJ,MAAAA,QAAQ,EAAC,aAAa;MAAA/B,QAAA,EAAA,cAEtBoC,GAAA,CAACC,SAAS,EAAA;AACRC,QAAAA,MAAM,EAAE,SAARA,MAAMA,CAAGC,SAAS,EAAK;UACrB,oBACEjB,IAAA,CAAC7B,OAAO,EAAA;AAAC+C,YAAAA,aAAa,EAAC,KAAK;AAAC3C,YAAAA,OAAO,EAAC,MAAM;AAAAG,YAAAA,QAAA,GACxCS,UAAU,IAAII,UAAU,gBACvBuB,GAAA,CAAC3C,OAAO,EAAA;AACN0C,cAAAA,KAAK,EAAC,KAAK;AACXM,cAAAA,MAAM,EAAC,MAAM;AACbC,cAAAA,QAAQ,EAAE,CAAE;AACZZ,cAAAA,UAAU,EAAE,CAAE;AACda,cAAAA,WAAW,EAAEC,UAAW;AACxBC,cAAAA,WAAW,EAAC,MAAM;AAClBC,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,SAAS,EAAE,mBAAA;AAAoB,eAAA;AAAE,aAC3C,CAAC,GACA,IAAI,eAERX,GAAA,CAAC3C,OAAO,EAAA+B,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACFe,SAAS,CAAA,EAAA,EAAA,EAAA;AACbG,cAAAA,QAAQ,EAAE,CAAE;AACZM,cAAAA,GAAG,EAAEtC,mBAAoB;AACzBuC,cAAAA,IAAI,EAAC,SAAS;AACdd,cAAAA,KAAK,EAAC,MAAM;AACZtC,cAAAA,OAAO,EAAC,MAAM;AACd2C,cAAAA,aAAa,EAAE/B,UAAU,GAAG,QAAQ,GAAG,KAAM;AAC7CyC,cAAAA,UAAU,EAAEzC,UAAU,GAAG,OAAO,GAAG,QAAS;AAC5CsB,cAAAA,QAAQ,EAAEtB,UAAU,GAAG,QAAQ,GAAG0C,SAAAA;AAAU,aAAA,EACvCrC,QAAQ,GACT;AACEsC,cAAAA,YAAY,EAAE,QAAQ;AACtBP,cAAAA,WAAW,EAAE,MAAM;AACnBF,cAAAA,WAAW,EAAE,iCAAiC;AAC9CU,cAAAA,OAAO,EAAE,WAAW;AACpBC,cAAAA,GAAG,EAAE7C,UAAU,GAAG,WAAW,GAAG,WAAW;AAC3C8C,cAAAA,eAAe,EAAE,iCAAA;AACnB,aAAC,GACD;AACEF,cAAAA,OAAO,EAAE,WAAW;AACpBC,cAAAA,GAAG,EAAE7C,UAAU,GAAG,WAAW,GAAG;AAAE+C,gBAAAA,IAAI,EAAE,WAAW;AAAEC,gBAAAA,CAAC,EAAE,WAAA;AAAY,eAAA;aACrE,CAAA,EAAA,EAAA,EAAA;AAAAzD,cAAAA,QAAA,EAEJA,QAAAA;AAAQ,aAAA,CACF,CAAC,CAAA;AAAA,WACH,CAAC,CAAA;AAEd,SAAA;AAAE,OACH,CAAC,EACD,CAACS,UAAU,gBAAG2B,GAAA,CAACsB,YAAY,EAAA;AAAChD,QAAAA,mBAAmB,EAAEA,mBAAAA;OAAsB,CAAC,GAAG,IAAI,CAAA;KAClE,CAAC,EAKhB,CAACD,UAAU,IAAII,UAAU,gBACxBuB,GAAA,CAAC3C,OAAO,EAAA;AACNqD,MAAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,kBAAA;OAAqB;AACzCY,MAAAA,iBAAiB,EAAEf,UAAW;AAC9BgB,MAAAA,iBAAiB,EAAC,MAAA;KACnB,CAAC,GACA,IAAI,CAAA;AAAA,GAAA,CACL,CAAC,CAAA;AAEV;;;;"}