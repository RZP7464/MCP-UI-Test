{"version":3,"file":"useDidUpdate.js","sources":["../../../../../src/utils/useDidUpdate.ts"],"sourcesContent":["import type { DependencyList, EffectCallback } from 'react';\nimport { useEffect, useRef } from 'react';\n\n/**\n * Hook to run an effect on dependencies change after the component has *mounted*.\n * Core difference from `useEffect` is this will trigger effects after the very first render.\n *\n * @param effectCallback `useEffect` callback\n * @param dependencies `useEffect` dependencies\n */\nexport const useDidUpdate = (\n  effectCallback: EffectCallback,\n  dependencies: DependencyList,\n): void => {\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      // run normally after the very first render / mount\n      return effectCallback();\n    }\n\n    isMounted.current = true;\n    return undefined;\n\n    // we don't want to rerun every time effectCallback changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n};\n"],"names":["useDidUpdate","effectCallback","dependencies","isMounted","useRef","useEffect","current","undefined"],"mappings":";;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMA,YAAY,GAAG,SAAfA,YAAYA,CACvBC,cAA8B,EAC9BC,YAA4B,EACnB;AACT,EAAA,IAAMC,SAAS,GAAGC,MAAM,CAAC,KAAK,CAAC,CAAA;AAE/BC,EAAAA,SAAS,CAAC,YAAM;IACd,IAAIF,SAAS,CAACG,OAAO,EAAE;AACrB;MACA,OAAOL,cAAc,EAAE,CAAA;AACzB,KAAA;IAEAE,SAAS,CAACG,OAAO,GAAG,IAAI,CAAA;AACxB,IAAA,OAAOC,SAAS,CAAA;;AAEhB;AACA;GACD,EAAEL,YAAY,CAAC,CAAA;AAClB;;;;"}