{"version":3,"file":"useCheckboxGroup.js","sources":["../../../../../../../src/components/Checkbox/CheckboxGroup/useCheckboxGroup.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\nimport React from 'react';\nimport type { CheckboxGroupProps } from './CheckboxGroup';\nimport type { CheckboxGroupContextType } from './CheckboxGroupContext';\nimport { useControllableState } from '~utils/useControllable';\nimport { useTheme } from '~components/BladeProvider';\nimport { useFormId } from '~components/Form/useFormId';\n\ntype UseCheckboxGroupProps = Pick<\n  CheckboxGroupProps,\n  | 'isDisabled'\n  | 'isRequired'\n  | 'labelPosition'\n  | 'validationState'\n  | 'name'\n  | 'necessityIndicator'\n  | 'value'\n  | 'defaultValue'\n  | 'onChange'\n  | 'size'\n>;\n\nexport type State = {\n  value: string[];\n  setValue(value: string[]): void;\n  isChecked(value: string): boolean;\n  addValue(value: string): void;\n  removeValue(value: string): void;\n};\n\nconst useCheckboxGroup = ({\n  value,\n  defaultValue,\n  isDisabled,\n  isRequired,\n  labelPosition,\n  onChange,\n  validationState,\n  name,\n  necessityIndicator,\n  size,\n}: UseCheckboxGroupProps) => {\n  const { platform } = useTheme();\n  const { labelId } = useFormId('checkbox-group');\n  const [checkedValues, setValue] = useControllableState({\n    value,\n    defaultValue: defaultValue || [],\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    onChange: (values: string[]) => onChange?.({ values, name: name! }),\n  });\n\n  const state = React.useMemo<State>(() => {\n    return {\n      value: checkedValues,\n      setValue(value: string[]) {\n        if (isDisabled) {\n          return;\n        }\n\n        setValue(() => value);\n      },\n      isChecked(value: string) {\n        return checkedValues.includes(value);\n      },\n      addValue(value: string) {\n        if (isDisabled) {\n          return;\n        }\n        if (!checkedValues.includes(value)) {\n          setValue(() => checkedValues.concat(value));\n        }\n      },\n      removeValue(value: string) {\n        if (isDisabled) {\n          return;\n        }\n        if (checkedValues.includes(value)) {\n          setValue(() => checkedValues.filter((existingValue) => existingValue !== value));\n        }\n      },\n    };\n  }, [checkedValues, isDisabled, setValue]);\n\n  const contextValue = React.useMemo<CheckboxGroupContextType>(() => {\n    return {\n      validationState,\n      isDisabled,\n      isRequired,\n      labelPosition: platform === 'onMobile' ? 'top' : labelPosition,\n      name,\n      necessityIndicator,\n      state,\n      size,\n    };\n  }, [\n    validationState,\n    isDisabled,\n    isRequired,\n    platform,\n    labelPosition,\n    name,\n    necessityIndicator,\n    state,\n    size,\n  ]);\n\n  return { state, contextValue, ids: { labelId } };\n};\n\nexport { useCheckboxGroup };\n"],"names":["useCheckboxGroup","_ref","value","defaultValue","isDisabled","isRequired","labelPosition","onChange","validationState","name","necessityIndicator","size","_useTheme","useTheme","platform","_useFormId","useFormId","labelId","_useControllableState","useControllableState","values","_useControllableState2","_slicedToArray","checkedValues","setValue","state","React","useMemo","_setValue","_x","apply","arguments","toString","isChecked","includes","addValue","concat","removeValue","filter","existingValue","contextValue","ids"],"mappings":"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"}