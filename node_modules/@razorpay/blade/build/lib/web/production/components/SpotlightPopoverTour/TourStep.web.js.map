{"version":3,"file":"TourStep.web.js","sources":["../../../../../../src/components/SpotlightPopoverTour/TourStep.web.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable consistent-return */\nimport React from 'react';\nimport { useTourContext } from './TourContext';\nimport type { SpotlightPopoverTourStepProps } from './types';\nimport { mergeRefs } from '~utils/useMergeRefs';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\n\nconst _SpotlightPopoverTourStep = ({\n  name,\n  children,\n}: SpotlightPopoverTourStepProps): React.ReactElement => {\n  const ref = React.useRef<HTMLElement>(null);\n  const { attachStep, removeStep } = useTourContext();\n\n  React.useLayoutEffect(() => {\n    if (!ref) return;\n    attachStep(name, ref);\n\n    return () => {\n      removeStep(name);\n    };\n  }, [ref, attachStep, name, removeStep]);\n\n  const child = children as React.ReactElement;\n  return React.cloneElement(child, {\n    ...child.props,\n    ref: mergeRefs(ref, (child as any)?.ref),\n  });\n};\n\nconst SpotlightPopoverTourStep = assignWithoutSideEffects(React.memo(_SpotlightPopoverTourStep), {\n  displayName: 'TourStep',\n});\n\nexport { SpotlightPopoverTourStep };\n"],"names":["_SpotlightPopoverTourStep","_ref","name","children","ref","React","useRef","_useTourContext","useTourContext","attachStep","removeStep","useLayoutEffect","child","cloneElement","_objectSpread","props","mergeRefs","SpotlightPopoverTourStep","assignWithoutSideEffects","memo","displayName"],"mappings":";;;;;;;;;AAQA,IAAMA,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAAC,IAAA,EAG0B;AAAA,EAAA,IAFvDC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IACJC,QAAQ,GAAAF,IAAA,CAARE,QAAQ,CAAA;AAER,EAAA,IAAMC,GAAG,GAAGC,cAAK,CAACC,MAAM,CAAc,IAAI,CAAC,CAAA;AAC3C,EAAA,IAAAC,eAAA,GAAmCC,cAAc,EAAE;IAA3CC,UAAU,GAAAF,eAAA,CAAVE,UAAU;IAAEC,UAAU,GAAAH,eAAA,CAAVG,UAAU,CAAA;EAE9BL,cAAK,CAACM,eAAe,CAAC,YAAM;IAC1B,IAAI,CAACP,GAAG,EAAE,OAAA;AACVK,IAAAA,UAAU,CAACP,IAAI,EAAEE,GAAG,CAAC,CAAA;AAErB,IAAA,OAAO,YAAM;MACXM,UAAU,CAACR,IAAI,CAAC,CAAA;KACjB,CAAA;GACF,EAAE,CAACE,GAAG,EAAEK,UAAU,EAAEP,IAAI,EAAEQ,UAAU,CAAC,CAAC,CAAA;EAEvC,IAAME,KAAK,GAAGT,QAA8B,CAAA;AAC5C,EAAA,oBAAOE,cAAK,CAACQ,YAAY,CAACD,KAAK,EAAAE,aAAA,CAAAA,aAAA,CAAA,EAAA,EAC1BF,KAAK,CAACG,KAAK,CAAA,EAAA,EAAA,EAAA;IACdX,GAAG,EAAEY,SAAS,CAACZ,GAAG,EAAGQ,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAUR,GAAG,CAAA;AAAC,GAAA,CACzC,CAAC,CAAA;AACJ,CAAC,CAAA;AAEKa,IAAAA,wBAAwB,gBAAGC,wBAAwB,cAACb,cAAK,CAACc,IAAI,CAACnB,yBAAyB,CAAC,EAAE;AAC/FoB,EAAAA,WAAW,EAAE,UAAA;AACf,CAAC;;;;"}