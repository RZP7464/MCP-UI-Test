{"version":3,"file":"getA11yRoles.js","sources":["../../../../../../src/components/ActionList/getA11yRoles.ts"],"sourcesContent":["import type { DropdownProps } from '~components/Dropdown';\nimport { dropdownComponentIds } from '~components/Dropdown/dropdownComponentIds';\nimport type { DropdownContextType } from '~components/Dropdown/useDropdown';\nimport { isReactNative } from '~utils';\n\n/**\n * is the role supposed to be `menu`\n */\nexport const isRoleMenu = (\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n): boolean => {\n  return (\n    isReactNative() ||\n    (dropdownTriggerer !== dropdownComponentIds.triggers.SelectInput &&\n      dropdownTriggerer !== dropdownComponentIds.triggers.AutoComplete)\n  );\n};\n\n/**\n * We switch between accessibility of `dialog` with `listbox` and buttons as a child and just `listbox` when there are action items on footer\n *\n * Not announcing `dialog` helps not throw users off for simple dropdowns.\n *\n * and having `dialog` is neccessary when there are buttons on footer\n *\n * `menu` role is required for react native.\n */\nexport const getActionListContainerRole = (\n  hasFooterAction: boolean,\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n): 'dialog' | 'listbox' | 'menu' => {\n  if (isReactNative()) {\n    return 'menu';\n  }\n\n  if (hasFooterAction) {\n    return 'dialog';\n  }\n\n  if (isRoleMenu(dropdownTriggerer)) {\n    return 'menu';\n  }\n\n  return 'listbox';\n};\n\nexport const getActionListSectionRole = (): 'group' | undefined => {\n  if (isReactNative()) {\n    return undefined;\n  }\n\n  return 'group';\n};\n\nexport const getActionListItemWrapperRole = (\n  hasFooterAction: boolean,\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n): 'listbox' | undefined => {\n  if (isRoleMenu(dropdownTriggerer)) {\n    return undefined;\n  }\n\n  if (hasFooterAction) {\n    return 'listbox';\n  }\n\n  return undefined;\n};\n\nexport const getActionListItemRole = (\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n  href?: string,\n  selectionType?: DropdownProps['selectionType'],\n): 'menuitem' | 'menuitemcheckbox' | 'option' | 'link' => {\n  if (href) {\n    return 'link';\n  }\n\n  if (isRoleMenu(dropdownTriggerer)) {\n    if (selectionType === 'multiple') {\n      return 'menuitemcheckbox';\n    }\n\n    return 'menuitem';\n  }\n\n  return 'option';\n};\n"],"names":["isRoleMenu","dropdownTriggerer","isReactNative","dropdownComponentIds","triggers","SelectInput","AutoComplete","getActionListContainerRole","hasFooterAction","getActionListSectionRole","undefined","getActionListItemWrapperRole","getActionListItemRole","href","selectionType"],"mappings":";;;;AAKA;AACA;AACA;IACaA,UAAU,GAAG,SAAbA,UAAUA,CACrBC,iBAA2D,EAC/C;AACZ,EAAA,OACEC,aAAa,EAAE,IACdD,iBAAiB,KAAKE,oBAAoB,CAACC,QAAQ,CAACC,WAAW,IAC9DJ,iBAAiB,KAAKE,oBAAoB,CAACC,QAAQ,CAACE,YAAa,CAAA;AAEvE,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA0BA,CACrCC,eAAwB,EACxBP,iBAA2D,EACzB;EAClC,IAAIC,aAAa,EAAE,EAAE;AACnB,IAAA,OAAO,MAAM,CAAA;AACf,GAAA;AAEA,EAAA,IAAIM,eAAe,EAAE;AACnB,IAAA,OAAO,QAAQ,CAAA;AACjB,GAAA;AAEA,EAAA,IAAIR,UAAU,CAACC,iBAAiB,CAAC,EAAE;AACjC,IAAA,OAAO,MAAM,CAAA;AACf,GAAA;AAEA,EAAA,OAAO,SAAS,CAAA;AAClB,EAAC;IAEYQ,wBAAwB,GAAG,SAA3BA,wBAAwBA,GAA8B;EACjE,IAAIP,aAAa,EAAE,EAAE;AACnB,IAAA,OAAOQ,SAAS,CAAA;AAClB,GAAA;AAEA,EAAA,OAAO,OAAO,CAAA;AAChB,EAAC;AAEM,IAAMC,4BAA4B,GAAG,SAA/BA,4BAA4BA,CACvCH,eAAwB,EACxBP,iBAA2D,EACjC;AAC1B,EAAA,IAAID,UAAU,CAACC,iBAAiB,CAAC,EAAE;AACjC,IAAA,OAAOS,SAAS,CAAA;AAClB,GAAA;AAEA,EAAA,IAAIF,eAAe,EAAE;AACnB,IAAA,OAAO,SAAS,CAAA;AAClB,GAAA;AAEA,EAAA,OAAOE,SAAS,CAAA;AAClB,EAAC;AAEM,IAAME,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAChCX,iBAA2D,EAC3DY,IAAa,EACbC,aAA8C,EACU;AACxD,EAAA,IAAID,IAAI,EAAE;AACR,IAAA,OAAO,MAAM,CAAA;AACf,GAAA;AAEA,EAAA,IAAIb,UAAU,CAACC,iBAAiB,CAAC,EAAE;IACjC,IAAIa,aAAa,KAAK,UAAU,EAAE;AAChC,MAAA,OAAO,kBAAkB,CAAA;AAC3B,KAAA;AAEA,IAAA,OAAO,UAAU,CAAA;AACnB,GAAA;AAEA,EAAA,OAAO,QAAQ,CAAA;AACjB;;;;"}