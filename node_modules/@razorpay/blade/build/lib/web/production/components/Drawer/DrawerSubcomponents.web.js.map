{"version":3,"file":"DrawerSubcomponents.web.js","sources":["../../../../../../src/components/Drawer/DrawerSubcomponents.web.tsx"],"sourcesContent":["import React from 'react';\nimport { drawerComponentIds } from './drawerComponentIds';\nimport { DrawerContext } from './DrawerContext';\nimport type { DrawerHeaderProps, DrawerFooterProps } from './types';\nimport { useDrawerStack } from './StackProvider';\nimport { BaseHeader } from '~components/BaseHeaderFooter/BaseHeader';\nimport { BaseFooter } from '~components/BaseHeaderFooter/BaseFooter';\nimport { Box } from '~components/Box';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { useTheme } from '~utils';\n\nconst _DrawerHeader = ({\n  title,\n  subtitle,\n  leading,\n  trailing,\n  titleSuffix,\n  children,\n  color = 'information',\n  showDivider = true,\n  ...rest\n}: DrawerHeaderProps): React.ReactElement => {\n  const { close, closeButtonRef, stackingLevel, isExiting } = React.useContext(DrawerContext);\n  const { drawerStack } = useDrawerStack();\n  const { theme } = useTheme();\n\n  const closeAllDrawers = (): void => {\n    for (const onDismiss of Object.values(drawerStack)) {\n      onDismiss();\n    }\n  };\n\n  const isStackedDrawer = stackingLevel && stackingLevel > 1;\n\n  const isAtleastOneDrawerOpen = Object.keys(drawerStack).length > 0;\n\n  const backgroundGradient = `radial-gradient(150% 100% at 50% 100%, ${theme.colors.transparent} 0%, ${theme.colors.feedback.background[color].subtle} 100%)` as const;\n  // This condition is to avoid back button disappear while stacked drawer is in the exiting transition\n  const isDrawerExiting = isAtleastOneDrawerOpen && isExiting && stackingLevel !== 1;\n\n  return (\n    <BaseHeader\n      // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n      showBackButton={isStackedDrawer || isDrawerExiting}\n      showCloseButton={true}\n      closeButtonRef={closeButtonRef}\n      onCloseButtonClick={() => closeAllDrawers()}\n      onBackButtonClick={() => close()}\n      title={title}\n      size=\"xlarge\"\n      titleSuffix={titleSuffix}\n      subtitle={subtitle}\n      leading={leading}\n      trailing={trailing}\n      backgroundImage={backgroundGradient}\n      showDivider={showDivider}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {children}\n    </BaseHeader>\n  );\n};\n\n/**\n * #### Usage\n *\n * ```jsx\n * <DrawerHeader\n *  title=\"Announcements\"\n *  subtitle=\"Checkout what's new in Razorpay\"\n *  titleSuffix={<DrawerHeaderBadge>New</DrawerHeaderBadge>}\n *  leading={<DrawerHeaderIcon icon={AnnouncementIcon} />}\n *  trailing={<Button icon={DownloadIcon} />}\n * />\n * ```\n *\n */\nconst DrawerHeader = assignWithoutSideEffects(_DrawerHeader, {\n  componentId: drawerComponentIds.DrawerHeader,\n});\n\nconst drawerPadding = 'spacing.6';\n\nconst _DrawerBody = ({ children }: { children: React.ReactNode }): React.ReactElement => {\n  return (\n    <Box padding={drawerPadding} overflow=\"auto\" flex=\"1\">\n      {children}\n    </Box>\n  );\n};\nconst DrawerBody = assignWithoutSideEffects(_DrawerBody, {\n  componentId: drawerComponentIds.DrawerBody,\n});\n\nconst _DrawerFooter = ({\n  children,\n  showDivider = true,\n  ...rest\n}: DrawerFooterProps): React.ReactElement => {\n  return (\n    <Box position=\"sticky\" {...makeAnalyticsAttribute(rest)}>\n      <BaseFooter showDivider={showDivider}>{children}</BaseFooter>\n    </Box>\n  );\n};\n\n/**\n * #### Usage\n *\n * ```jsx\n * <DrawerFooter>\n *   <Button variant=\"primary\" isFullWidth>\n *     Continue\n *   </Button>\n * </DrawerFooter>\n * ```\n *\n */\nconst DrawerFooter = assignWithoutSideEffects(_DrawerFooter, {\n  componentId: drawerComponentIds.DrawerFooter,\n});\n\nexport { DrawerHeader, DrawerBody, DrawerFooter, drawerPadding };\n"],"names":["_DrawerHeader","_ref","title","subtitle","leading","trailing","titleSuffix","children","_ref$color","color","_ref$showDivider","showDivider","rest","_objectWithoutProperties","_excluded","_React$useContext","React","useContext","DrawerContext","close","closeButtonRef","stackingLevel","isExiting","_useDrawerStack","useDrawerStack","drawerStack","_useTheme","useTheme","theme","closeAllDrawers","_i","_Object$values","Object","values","length","onDismiss","isStackedDrawer","isAtleastOneDrawerOpen","keys","backgroundGradient","concat","colors","transparent","feedback","background","subtle","isDrawerExiting","_jsx","BaseHeader","_objectSpread","showBackButton","showCloseButton","onCloseButtonClick","onBackButtonClick","size","backgroundImage","makeAnalyticsAttribute","DrawerHeader","assignWithoutSideEffects","componentId","drawerComponentIds","drawerPadding","_DrawerBody","_ref2","Box","padding","overflow","flex","DrawerBody","_DrawerFooter","_ref3","_ref3$showDivider","_excluded2","position","BaseFooter","DrawerFooter"],"mappings":"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"}