{"version":3,"file":"ButtonGroup.web.js","sources":["../../../../../../src/components/ButtonGroup/ButtonGroup.web.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport type { ButtonGroupProps } from './types';\nimport { StyledButtonGroup } from './StyledButtonGroup';\nimport { ButtonGroupProvider } from './ButtonGroupContext';\nimport BaseBox from '~components/Box/BaseBox';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeBorderSize } from '~utils';\nimport type { DotNotationToken } from '~utils/lodashButBetter/get';\nimport getIn from '~utils/lodashButBetter/get';\nimport { getBackgroundColorToken } from '~components/Button/BaseButton/BaseButton';\nimport type { Theme } from '~components/BladeProvider';\nimport type { BladeElementRef } from '~utils/types';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { useVerifyAllowedChildren } from '~utils/useVerifyAllowedChildren';\n\nconst getDividerColorToken = ({\n  color,\n  variant,\n  isDisabled,\n}: Pick<ButtonGroupProps, 'color' | 'isDisabled' | 'variant'>): DotNotationToken<\n  Theme['colors']\n> => {\n  if (variant === 'primary') {\n    return 'surface.border.gray.subtle';\n  }\n\n  if (variant === 'secondary') {\n    return getBackgroundColorToken({\n      property: 'border',\n      variant,\n      color,\n      state: isDisabled ? 'disabled' : 'default',\n    });\n  }\n\n  return 'surface.border.gray.muted';\n};\n\nconst StyledDivider = styled(BaseBox)<Pick<ButtonGroupProps, 'color' | 'isDisabled' | 'variant'>>(\n  ({ theme, color, variant, isDisabled }) => {\n    return {\n      borderWidth: 0,\n      borderLeftStyle: 'solid',\n      borderLeftWidth: makeBorderSize(theme.border.width.thin),\n      alignSelf: 'stretch',\n      color: getIn(theme.colors, getDividerColorToken({ color, variant, isDisabled })),\n    };\n  },\n);\n\nconst _ButtonGroup = (\n  {\n    children,\n    isDisabled = false,\n    size = 'medium',\n    color = 'primary',\n    variant = 'primary',\n    isFullWidth = false,\n    testID,\n    ...rest\n  }: ButtonGroupProps,\n  ref: React.Ref<BladeElementRef>,\n): React.ReactElement => {\n  const contextValue = {\n    isDisabled,\n    size,\n    color,\n    variant,\n    isFullWidth,\n  };\n\n  useVerifyAllowedChildren({\n    allowedComponents: ['Button', 'Dropdown', 'Tooltip', 'Popover'],\n    componentName: 'ButtonGroup',\n    children,\n  });\n\n  return (\n    <ButtonGroupProvider value={contextValue}>\n      <StyledButtonGroup\n        ref={ref as never}\n        color={color}\n        variant={variant}\n        isDisabled={isDisabled}\n        isFullWidth={isFullWidth}\n        {...metaAttribute({ name: MetaConstants.ButtonGroup, testID })}\n        {...getStyledProps(rest)}\n        {...makeAnalyticsAttribute(rest)}\n        role=\"group\"\n      >\n        {React.Children.map(children, (child, index) => {\n          return (\n            <>\n              {child}\n              {React.Children.count(children) - 1 !== index && (\n                <StyledDivider variant={variant} color={color} isDisabled={isDisabled} />\n              )}\n            </>\n          );\n        })}\n      </StyledButtonGroup>\n    </ButtonGroupProvider>\n  );\n};\n\n/**\n * ### ButtonGroup Component\n * \n * The ButtonGroup component is used to group related buttons together.\n * \n * ---\n * \n * #### Usage\n * \n * ```jsx\n  const App = () => {\n    return (\n      <ButtonGroup>\n        <Button icon={RefreshIcon}>Sync</Button>\n        <Button icon={ShareIcon}>Share</Button>\n        <Button icon={DownloadIcon}>Download</Button>\n      </ButtonGroup>\n    );\n  }\n * ```\n *\n *  ---\n *\n * Checkout {@link https://blade.razorpay.com/?path=/docs/components-buttongroup FileUpload Documentation}\n * \n */\nconst ButtonGroup = assignWithoutSideEffects(React.forwardRef(_ButtonGroup), {\n  displayName: 'ButtonGroup',\n  componentId: 'ButtonGroup',\n});\n\nexport { ButtonGroup };\nexport type { ButtonGroupProps };\n"],"names":["getDividerColorToken","_ref","color","variant","isDisabled","getBackgroundColorToken","property","state","StyledDivider","styled","BaseBox","withConfig","displayName","componentId","_ref2","theme","borderWidth","borderLeftStyle","borderLeftWidth","makeBorderSize","border","width","thin","alignSelf","getIn","colors","_ButtonGroup","_ref3","ref","children","_ref3$isDisabled","_ref3$size","size","_ref3$color","_ref3$variant","_ref3$isFullWidth","isFullWidth","testID","rest","_objectWithoutProperties","_excluded","contextValue","useVerifyAllowedChildren","allowedComponents","componentName","_jsx","ButtonGroupProvider","value","StyledButtonGroup","_objectSpread","metaAttribute","name","MetaConstants","ButtonGroup","getStyledProps","makeAnalyticsAttribute","role","React","Children","map","child","index","_jsxs","_Fragment","count","assignWithoutSideEffects","forwardRef"],"mappings":"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"}