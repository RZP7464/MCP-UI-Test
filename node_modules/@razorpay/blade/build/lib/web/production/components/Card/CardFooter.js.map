{"version":3,"file":"CardFooter.js","sources":["../../../../../../src/components/Card/CardFooter.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useVerifyInsideCard } from './CardContext';\nimport { ComponentIds } from './Card';\nimport type { CardSpacingValueType } from './types';\nimport type { ButtonProps } from '~components/Button';\nimport { Button } from '~components/Button';\nimport { Divider } from '~components/Divider';\nimport BaseBox from '~components/Box/BaseBox';\nimport { Text } from '~components/Typography';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport type { DataAnalyticsAttribute, TestID } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { useIsMobile } from '~utils/useIsMobile';\nimport { throwBladeError } from '~utils/logger';\nimport { useVerifyAllowedChildren } from '~utils/useVerifyAllowedChildren/useVerifyAllowedChildren';\nimport { MAKE_ANALYTICS_CONSTANTS, makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nexport type CardFooterAction = Pick<\n  ButtonProps,\n  'type' | 'accessibilityLabel' | 'isLoading' | 'isDisabled' | 'icon' | 'iconPosition' | 'onClick'\n> & {\n  text: ButtonProps['children'];\n};\n\ntype CardFooterProps = {\n  children?: React.ReactNode;\n  /**\n   * For spacing between divider and footer title\n   */\n  paddingTop?: CardSpacingValueType;\n  /**\n   * For spacing between body content and divider\n   */\n  marginTop?: CardSpacingValueType;\n  /**\n   * @default true\n   */\n  showDivider?: boolean;\n} & TestID &\n  DataAnalyticsAttribute;\n\nconst _CardFooter = ({\n  children,\n  testID,\n  marginTop = 'spacing.4',\n  paddingTop = 'spacing.4',\n  showDivider = true,\n  ...props\n}: CardFooterProps): React.ReactElement => {\n  const isMobile = useIsMobile();\n  useVerifyInsideCard('CardFooter');\n  useVerifyAllowedChildren({\n    children,\n    componentName: 'CardFooter',\n    allowedComponents: [ComponentIds.CardFooterLeading, ComponentIds.CardFooterTrailing],\n  });\n\n  const footerChildrensArray = React.Children.toArray(children);\n  if (__DEV__) {\n    if (!React.isValidElement(footerChildrensArray[0])) {\n      throwBladeError({\n        message: `Invalid React Element ${footerChildrensArray}`,\n        moduleName: 'CardFooter',\n      });\n    }\n  }\n\n  // the reason why we are checking for actions here is, because we want the footerTrailing\n  // to always be aligned to the right\n  // if we don't check for action here, and if we do not have footerTrailing and only footerLeading\n  // then the content of footerLeading will be justified to the end.\n  const baseBoxJustifyContent =\n    footerChildrensArray.length === 2 || !(footerChildrensArray[0] as ReactElement)?.props?.actions\n      ? 'space-between'\n      : 'flex-end';\n\n  return (\n    <BaseBox\n      marginTop={marginTop}\n      {...metaAttribute({ name: MetaConstants.CardFooter, testID })}\n      {...makeAnalyticsAttribute(props)}\n    >\n      {showDivider ? <Divider /> : null}\n      <BaseBox\n        paddingTop={paddingTop}\n        display=\"flex\"\n        flexDirection={isMobile ? 'column' : 'row'}\n        justifyContent={baseBoxJustifyContent}\n        alignItems={isMobile ? 'stretch' : 'center'}\n      >\n        {children}\n      </BaseBox>\n    </BaseBox>\n  );\n};\nconst CardFooter = assignWithoutSideEffects(_CardFooter, { componentId: ComponentIds.CardFooter });\n\ntype CardFooterLeadingProps = {\n  title?: string;\n  subtitle?: string;\n} & DataAnalyticsAttribute;\nconst _CardFooterLeading = ({\n  title,\n  subtitle,\n  ...rest\n}: CardFooterLeadingProps): React.ReactElement => {\n  useVerifyInsideCard('CardFooterLeading');\n\n  return (\n    <BaseBox textAlign={'left' as never} {...makeAnalyticsAttribute(rest)}>\n      {title && (\n        <Text color=\"surface.text.gray.normal\" size=\"medium\" weight=\"semibold\">\n          {title}\n        </Text>\n      )}\n      {subtitle && (\n        <Text color=\"surface.text.gray.subtle\" size=\"small\" weight=\"regular\">\n          {subtitle}\n        </Text>\n      )}\n    </BaseBox>\n  );\n};\nconst CardFooterLeading = assignWithoutSideEffects(_CardFooterLeading, {\n  componentId: ComponentIds.CardFooterLeading,\n});\n\ntype CardFooterTrailingProps = {\n  actions?: {\n    primary?: CardFooterAction;\n    secondary?: CardFooterAction;\n  };\n} & DataAnalyticsAttribute;\nconst _CardFooterTrailing = ({ actions, ...rest }: CardFooterTrailingProps): React.ReactElement => {\n  const isMobile = useIsMobile();\n  useVerifyInsideCard('CardFooterTrailing');\n\n  return (\n    <BaseBox\n      display=\"flex\"\n      flexDirection=\"row\"\n      alignSelf={isMobile ? 'auto' : 'center'}\n      marginTop={isMobile ? 'spacing.5' : 'spacing.0'}\n      marginLeft={isMobile ? 'spacing.0' : 'spacing.5'}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <BaseBox flexGrow={1}>\n        {actions?.secondary ? (\n          <Button\n            isFullWidth\n            size=\"medium\"\n            variant=\"secondary\"\n            {...actions.secondary}\n            data-analytics-name={MAKE_ANALYTICS_CONSTANTS.CARD.FOOTER_SECONDARY_ACTION_BUTTON}\n          >\n            {actions.secondary.text!}\n          </Button>\n        ) : null}\n      </BaseBox>\n      <BaseBox marginLeft=\"spacing.5\" />\n      <BaseBox flexGrow={1}>\n        {actions?.primary ? (\n          <Button\n            isFullWidth\n            size=\"medium\"\n            {...actions.primary}\n            data-analytics-name={MAKE_ANALYTICS_CONSTANTS.CARD.FOOTER_PRIMARY_ACTION_BUTTON}\n          >\n            {actions.primary.text!}\n          </Button>\n        ) : null}\n      </BaseBox>\n    </BaseBox>\n  );\n};\nconst CardFooterTrailing = assignWithoutSideEffects(_CardFooterTrailing, {\n  componentId: ComponentIds.CardFooterTrailing,\n});\n\nexport { CardFooter, CardFooterLeading, CardFooterTrailing };\n"],"names":["_CardFooter","_ref","_footerChildrensArray","children","testID","_ref$marginTop","marginTop","_ref$paddingTop","paddingTop","_ref$showDivider","showDivider","props","_objectWithoutProperties","_excluded","isMobile","useIsMobile","useVerifyInsideCard","useVerifyAllowedChildren","componentName","allowedComponents","ComponentIds","CardFooterLeading","CardFooterTrailing","footerChildrensArray","React","Children","toArray","isValidElement","throwBladeError","message","concat","moduleName","baseBoxJustifyContent","length","actions","_jsxs","BaseBox","_objectSpread","metaAttribute","name","MetaConstants","CardFooter","makeAnalyticsAttribute","_jsx","Divider","display","flexDirection","justifyContent","alignItems","assignWithoutSideEffects","componentId","_CardFooterLeading","_ref2","title","subtitle","rest","_excluded2","textAlign","Text","color","size","weight","_CardFooterTrailing","_ref3","_excluded3","alignSelf","marginLeft","flexGrow","secondary","Button","isFullWidth","variant","MAKE_ANALYTICS_CONSTANTS","CARD","FOOTER_SECONDARY_ACTION_BUTTON","text","primary","FOOTER_PRIMARY_ACTION_BUTTON"],"mappings":"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"}