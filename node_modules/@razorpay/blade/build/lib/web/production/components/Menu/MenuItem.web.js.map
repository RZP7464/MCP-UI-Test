{"version":3,"file":"MenuItem.web.js","sources":["../../../../../../src/components/Menu/MenuItem.web.tsx"],"sourcesContent":["import { useFloatingTree, useListItem, useMergeRefs } from '@floating-ui/react';\nimport React from 'react';\nimport type { MenuItemProps } from './types';\nimport { useMenu } from './useMenu';\nimport { BaseMenuItem } from '~components/BaseMenu';\nimport { ChevronRightIcon } from '~components/Icons';\n\nconst MenuItem = React.forwardRef<HTMLButtonElement, MenuItemProps>(\n  (\n    {\n      title,\n      isDisabled,\n      description,\n      leading,\n      trailing,\n      _isMenuTrigger,\n      _hasFocusInside,\n      href,\n      target,\n      children,\n      as,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const menu = useMenu();\n    const item = useListItem({ label: isDisabled && Boolean(children) ? null : title });\n    const tree = useFloatingTree();\n\n    const isLink = Boolean(href);\n\n    const defaultAs = isLink ? 'a' : 'button';\n\n    return (\n      <BaseMenuItem\n        title={title}\n        description={description}\n        leading={leading}\n        trailing={\n          _isMenuTrigger ? <ChevronRightIcon color=\"interactive.icon.gray.muted\" /> : trailing\n        }\n        as={as ?? defaultAs}\n        href={href}\n        ref={useMergeRefs([item.ref, forwardedRef])}\n        isDisabled={isDisabled}\n        {...props}\n        {...(_isMenuTrigger\n          ? {}\n          : menu.getItemProps({\n              onClick(event: React.MouseEvent<HTMLButtonElement>) {\n                props.onClick?.(event);\n                tree?.events.emit('click');\n              },\n              onFocus(event: React.FocusEvent<HTMLButtonElement>) {\n                props.onFocus?.(event);\n                menu.setHasFocusInside(true);\n              },\n            }))}\n      >\n        {children}\n      </BaseMenuItem>\n    );\n  },\n);\n\nexport { MenuItem };\n"],"names":["MenuItem","React","forwardRef","_ref","forwardedRef","title","isDisabled","description","leading","trailing","_isMenuTrigger","_hasFocusInside","href","target","children","as","props","_objectWithoutProperties","_excluded","menu","useMenu","item","useListItem","label","Boolean","tree","useFloatingTree","isLink","defaultAs","_jsx","BaseMenuItem","_objectSpread","ChevronRightIcon","color","ref","useMergeRefs","getItemProps","onClick","event","_props$onClick","call","events","emit","onFocus","_props$onFocus","setHasFocusInside"],"mappings":"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"}