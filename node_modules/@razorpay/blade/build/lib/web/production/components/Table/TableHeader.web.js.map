{"version":3,"file":"TableHeader.web.js","sources":["../../../../../../src/components/Table/TableHeader.web.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { Header, HeaderRow, HeaderCell } from '@table-library/react-table-library/table';\nimport { checkboxCellWidth, tableHeader, tableRow, classes } from './tokens';\nimport { useTableContext } from './TableContext';\nimport { ComponentIds } from './componentIds';\nimport type {\n  TableHeaderRowProps,\n  TableHeaderCellProps,\n  TableBackgroundColors,\n  TableProps,\n  TableToolbarPlacement,\n} from './types';\nimport type { CheckboxProps } from '~components/Checkbox';\nimport { Checkbox } from '~components/Checkbox';\nimport { Text } from '~components/Typography';\nimport { castWebType, makeMotionTime, makeSize, makeSpace } from '~utils';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport BaseBox from '~components/Box/BaseBox';\nimport { MetaConstants, metaAttribute } from '~utils/metaAttribute';\nimport { useTheme } from '~components/BladeProvider';\nimport getIn from '~utils/lodashButBetter/get';\nimport { getFocusRingStyles } from '~utils/getFocusRingStyles';\nimport { size } from '~tokens/global';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst SortButton = styled.button(({ theme }) => ({\n  cursor: 'pointer',\n  border: 'none',\n  padding: 0,\n  margin: 0,\n  borderRadius: theme.border.radius.small,\n  background: 'transparent',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  transitionProperty: 'color, box-shadow',\n  transitionDuration: castWebType(makeMotionTime(getIn(theme.motion, 'duration.quick'))),\n  transitionTimingFunction: (theme.motion.easing.standard as unknown) as string,\n  '&:focus-visible': getFocusRingStyles({ theme }),\n}));\n\nconst SortIcon = ({\n  isSorted,\n  isSortReversed,\n}: {\n  isSorted: boolean;\n  isSortReversed: boolean;\n}): React.ReactElement => {\n  const { theme } = useTheme();\n  const defaultColor = getIn(theme.colors, 'interactive.icon.gray.muted');\n  const activeColor = getIn(theme.colors, 'interactive.icon.primary.subtle');\n  const upArrowColor = isSorted && isSortReversed ? activeColor : defaultColor;\n  const downArrowColor = isSorted && !isSortReversed ? activeColor : defaultColor;\n  return (\n    <SortButton\n      {...metaAttribute({ name: MetaConstants.TableSortButton })}\n      {...makeAccessible({ label: 'Toggle Sort', role: 'button' })}\n    >\n      <svg width={20} height={20} fill=\"none\">\n        <path\n          fill={upArrowColor}\n          d=\"M10.59 2.251a.817.817 0 0 0-1.18 0L5.245 6.537a.875.875 0 0 0 0 1.212.817.817 0 0 0 1.179 0L10 4.069l3.577 3.68a.817.817 0 0 0 1.179 0 .874.874 0 0 0 0-1.212L10.589 2.25Z\"\n        />\n        <path\n          fill={downArrowColor}\n          d=\"M9.41 17.749a.817.817 0 0 0 1.18 0l4.166-4.286a.874.874 0 0 0 0-1.212.817.817 0 0 0-1.179 0L10 15.931l-3.577-3.68a.817.817 0 0 0-1.179 0 .874.874 0 0 0 0 1.212l4.167 4.286Z\"\n        />\n      </svg>\n    </SortButton>\n  );\n};\n\nconst StyledHeader = styled(Header)<{ $tableToolbarPlacement: TableToolbarPlacement }>(\n  ({ $tableToolbarPlacement }) => ({\n    '&&&': {\n      '& tr:first-child th': {\n        borderTop: 'none',\n      },\n      display: $tableToolbarPlacement === 'overlay' ? 'none' : undefined,\n    },\n  }),\n);\n\nconst _TableHeader = ({ children, ...rest }: TableHeaderRowProps): React.ReactElement => {\n  const { tableToolbarPlacement } = useTableContext();\n\n  return (\n    <StyledHeader\n      $tableToolbarPlacement={tableToolbarPlacement}\n      {...metaAttribute({ name: MetaConstants.TableHeader })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {children}\n    </StyledHeader>\n  );\n};\n\nconst TableHeader = assignWithoutSideEffects(_TableHeader, {\n  componentId: ComponentIds.TableHeader,\n});\n\nconst StyledHeaderCell = styled(HeaderCell)<{\n  $isSortable: boolean;\n  $backgroundColor: TableBackgroundColors;\n  $rowDensity: NonNullable<TableProps<unknown>['rowDensity']>;\n  $hasPadding: boolean;\n  $textAlign: 'left' | 'center' | 'right';\n  gridRow?: string;\n}>(({ theme, $isSortable, $backgroundColor, $rowDensity, $hasPadding, $textAlign, gridRow }) => ({\n  '&&&': {\n    display: $textAlign ? 'flex' : 'block',\n    justifyContent: $textAlign ? 'space-between' : 'initial',\n    height: '100%',\n    backgroundColor: getIn(theme.colors, $backgroundColor),\n    borderBottomWidth: makeSpace(getIn(theme.border.width, tableHeader.borderBottomAndTopWidth)),\n    borderTopWidth: makeSpace(getIn(theme.border.width, tableHeader.borderBottomAndTopWidth)),\n    borderBottomColor: getIn(theme.colors, tableHeader.borderBottomAndTopColor),\n    borderTopColor: getIn(theme.colors, tableHeader.borderBottomAndTopColor),\n    borderBottomStyle: 'solid',\n    borderTopStyle: 'solid',\n    cursor: $isSortable ? 'pointer' : 'auto',\n    gridRow,\n    '> div': {\n      backgroundColor: getIn(theme.colors, tableHeader.backgroundColor),\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: $textAlign ? $textAlign : 'space-between',\n      alignItems: 'center',\n      height: '100%',\n      paddingLeft: $hasPadding\n        ? makeSpace(getIn(theme, tableRow.paddingLeft[$rowDensity]))\n        : undefined,\n      paddingRight: $hasPadding\n        ? makeSpace(getIn(theme, tableRow.paddingRight[$rowDensity]))\n        : undefined,\n      minHeight: makeSize(getIn(size, tableRow.minHeight[$rowDensity])),\n    },\n    '&:focus-visible': getFocusRingStyles({ theme, negativeOffset: true }),\n  },\n}));\n\nconst _TableHeaderCell = ({\n  children,\n  headerKey,\n  _hasPadding = true,\n  textAlign,\n  gridColumnStart,\n  gridColumnEnd,\n  gridRowStart,\n  gridRowEnd,\n  ...rest\n}: TableHeaderCellProps): React.ReactElement => {\n  const {\n    toggleSort,\n    currentSortedState,\n    backgroundColor,\n    rowDensity,\n    headerRowDensity,\n  } = useTableContext();\n  const isChildrenString = typeof children === 'string';\n  const isSortable =\n    headerKey && Boolean(currentSortedState.sortableColumns?.find((key) => key === headerKey));\n\n  const hasRowSpan = Boolean(gridRowStart && gridRowEnd);\n  const gridRowValue = hasRowSpan ? `${gridRowStart} / ${gridRowEnd}` : undefined;\n\n  return (\n    <StyledHeaderCell\n      tabIndex={0}\n      className={hasRowSpan ? classes.HAS_ROW_SPANNING : ''}\n      gridColumnStart={gridColumnStart}\n      gridColumnEnd={gridColumnEnd}\n      gridRow={gridRowValue}\n      $isSortable={isSortable}\n      $backgroundColor={backgroundColor}\n      $rowDensity={headerRowDensity ?? rowDensity}\n      $hasPadding={_hasPadding}\n      $textAlign={textAlign}\n      onClick={() => {\n        if (isSortable) {\n          toggleSort(headerKey);\n        }\n      }}\n      {...metaAttribute({ name: MetaConstants.TableHeaderCell })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <BaseBox display=\"flex\" flexGrow={1} justifyContent={textAlign}>\n        {isChildrenString ? (\n          <Text size=\"small\" weight=\"medium\" color=\"surface.text.gray.subtle\">\n            {children}\n          </Text>\n        ) : (\n          children\n        )}\n      </BaseBox>\n      {isSortable && (\n        <BaseBox paddingLeft=\"spacing.2\" backgroundColor=\"transparent\" flexShrink={0}>\n          <SortIcon\n            isSorted={currentSortedState.sortKey === headerKey}\n            isSortReversed={currentSortedState.isSortReversed}\n          />\n        </BaseBox>\n      )}\n    </StyledHeaderCell>\n  );\n};\n\nconst TableHeaderCell = assignWithoutSideEffects(_TableHeaderCell, {\n  componentId: ComponentIds.TableHeaderCell,\n});\n\nconst TableHeaderCellCheckbox = ({\n  isChecked,\n  isDisabled,\n  isIndeterminate,\n  onChange,\n}: {\n  isChecked: CheckboxProps['isChecked'];\n  isDisabled: CheckboxProps['isDisabled'];\n  isIndeterminate?: CheckboxProps['isIndeterminate'];\n  onChange: CheckboxProps['onChange'];\n}): React.ReactElement => {\n  return (\n    <TableHeaderCell headerKey=\"SELECT\">\n      <BaseBox\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        flex={1}\n        width={makeSize(checkboxCellWidth)}\n      >\n        <Checkbox\n          isChecked={isChecked}\n          isDisabled={isDisabled}\n          isIndeterminate={isIndeterminate}\n          onChange={onChange}\n          {...makeAccessible({ label: 'Select All Rows' })}\n        />\n      </BaseBox>\n    </TableHeaderCell>\n  );\n};\n\nconst StyledHeaderRow = styled(HeaderRow)<{\n  $showBorderedCells: boolean;\n  $gridTemplateColumns: string | undefined;\n  $hasHoverActions: boolean;\n  $selectionType: TableProps<unknown>['selectionType'];\n  $columnCount: number;\n  $isVirtualized?: boolean;\n}>(\n  ({\n    theme,\n    $showBorderedCells,\n    $gridTemplateColumns,\n    $hasHoverActions,\n    $selectionType,\n    $columnCount,\n    $isVirtualized,\n  }) => ({\n    '& th': $showBorderedCells\n      ? {\n          borderRightWidth: makeSpace(getIn(theme.border.width, tableRow.borderBottomWidth)),\n          borderRightColor: getIn(theme.colors, tableRow.borderColor),\n          borderRightStyle: 'solid',\n          ...($isVirtualized && {\n            display: 'grid',\n            gridTemplateColumns: $gridTemplateColumns\n              ? `${$gridTemplateColumns} ${$hasHoverActions ? 'min-content' : ''}`\n              : ` ${\n                  $selectionType === 'multiple' ? 'min-content' : ''\n                } repeat(${$columnCount},minmax(100px, 1fr)) ${\n                  $hasHoverActions ? 'min-content' : ''\n                } !important;`,\n          }),\n        }\n      : undefined,\n    '& th:last-child ': {\n      borderRight: 'none',\n    },\n  }),\n);\n\nconst _TableHeaderRow = ({\n  children,\n  rowDensity,\n  ...rest\n}: TableHeaderRowProps): React.ReactElement => {\n  const {\n    disabledRows,\n    selectionType,\n    selectedRows,\n    totalItems,\n    toggleAllRowsSelection,\n    setHeaderRowDensity,\n    showBorderedCells,\n    hasHoverActions,\n    gridTemplateColumns,\n    columnCount,\n    isVirtualized,\n  } = useTableContext();\n  const isMultiSelect = selectionType === 'multiple';\n  const isAllSelected = selectedRows && selectedRows.length === totalItems;\n  const isIndeterminate = selectedRows && selectedRows.length > 0 && !isAllSelected;\n  const isDisabled = disabledRows && disabledRows.length === totalItems;\n\n  // Note: The rowDensity prop is deprecated (see types.ts for @deprecated documentation).\n  // Header row is always compact (36px height) regardless of the rowDensity value passed.\n  // This prop will be removed in a future major version.\n  setHeaderRowDensity('compact');\n\n  return (\n    <StyledHeaderRow\n      role=\"rowheader\"\n      {...metaAttribute({ name: MetaConstants.TableHeaderRow })}\n      {...makeAnalyticsAttribute(rest)}\n      $showBorderedCells={showBorderedCells}\n      $gridTemplateColumns={gridTemplateColumns}\n      $hasHoverActions={hasHoverActions}\n      $selectionType={selectionType}\n      $columnCount={columnCount}\n      $isVirtualized={isVirtualized}\n    >\n      {isMultiSelect && (\n        <TableHeaderCellCheckbox\n          isChecked={isAllSelected}\n          isDisabled={isDisabled}\n          isIndeterminate={isIndeterminate}\n          onChange={() => toggleAllRowsSelection()}\n        />\n      )}\n      {children}\n      {hasHoverActions ? <TableHeaderCell _hasPadding={false}>Actions</TableHeaderCell> : null}\n    </StyledHeaderRow>\n  );\n};\n\nconst TableHeaderRow = assignWithoutSideEffects(_TableHeaderRow, {\n  componentId: ComponentIds.TableHeaderRow,\n});\n\nexport { TableHeader, TableHeaderRow, TableHeaderCell };\n"],"names":["SortButton","styled","button","withConfig","displayName","componentId","_ref","theme","cursor","border","padding","margin","borderRadius","radius","small","background","display","alignItems","justifyContent","transitionProperty","transitionDuration","castWebType","makeMotionTime","getIn","motion","transitionTimingFunction","easing","standard","getFocusRingStyles","SortIcon","_ref2","isSorted","isSortReversed","_useTheme","useTheme","defaultColor","colors","activeColor","upArrowColor","downArrowColor","_jsx","_objectSpread","metaAttribute","name","MetaConstants","TableSortButton","makeAccessible","label","role","children","_jsxs","width","height","fill","d","StyledHeader","Header","_ref3","$tableToolbarPlacement","borderTop","undefined","_TableHeader","_ref4","rest","_objectWithoutProperties","_excluded","_useTableContext","useTableContext","tableToolbarPlacement","TableHeader","makeAnalyticsAttribute","assignWithoutSideEffects","ComponentIds","StyledHeaderCell","HeaderCell","_ref5","$isSortable","$backgroundColor","$rowDensity","$hasPadding","$textAlign","gridRow","backgroundColor","borderBottomWidth","makeSpace","tableHeader","borderBottomAndTopWidth","borderTopWidth","borderBottomColor","borderBottomAndTopColor","borderTopColor","borderBottomStyle","borderTopStyle","flexDirection","paddingLeft","tableRow","paddingRight","minHeight","makeSize","size","negativeOffset","_TableHeaderCell","_ref6","_currentSortedState$s","headerKey","_ref6$_hasPadding","_hasPadding","textAlign","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","_excluded2","_useTableContext2","toggleSort","currentSortedState","rowDensity","headerRowDensity","isChildrenString","isSortable","Boolean","sortableColumns","find","key","hasRowSpan","gridRowValue","concat","tabIndex","className","classes","HAS_ROW_SPANNING","onClick","TableHeaderCell","BaseBox","flexGrow","Text","weight","color","flexShrink","sortKey","TableHeaderCellCheckbox","_ref7","isChecked","isDisabled","isIndeterminate","onChange","flex","checkboxCellWidth","Checkbox","StyledHeaderRow","HeaderRow","_ref8","$showBorderedCells","$gridTemplateColumns","$hasHoverActions","$selectionType","$columnCount","$isVirtualized","borderRightWidth","borderRightColor","borderColor","borderRightStyle","gridTemplateColumns","borderRight","_TableHeaderRow","_ref9","_excluded3","_useTableContext3","disabledRows","selectionType","selectedRows","totalItems","toggleAllRowsSelection","setHeaderRowDensity","showBorderedCells","hasHoverActions","columnCount","isVirtualized","isMultiSelect","isAllSelected","length","TableHeaderRow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,IAAMA,UAAU,gBAAGC,MAAM,CAACC,MAAM,CAAAC,UAAA,CAAA;EAAAC,WAAA,EAAA,4BAAA;EAAAC,WAAA,EAAA,UAAA;AAAA,CAAA,CAAA,CAAC,UAAAC,IAAA,EAAA;AAAA,EAAA,IAAGC,KAAK,GAAAD,IAAA,CAALC,KAAK,CAAA;EAAA,OAAQ;AAC/CC,IAAAA,MAAM,EAAE,SAAS;AACjBC,IAAAA,MAAM,EAAE,MAAM;AACdC,IAAAA,OAAO,EAAE,CAAC;AACVC,IAAAA,MAAM,EAAE,CAAC;AACTC,IAAAA,YAAY,EAAEL,KAAK,CAACE,MAAM,CAACI,MAAM,CAACC,KAAK;AACvCC,IAAAA,UAAU,EAAE,aAAa;AACzBC,IAAAA,OAAO,EAAE,MAAM;AACfC,IAAAA,UAAU,EAAE,QAAQ;AACpBC,IAAAA,cAAc,EAAE,QAAQ;AACxBC,IAAAA,kBAAkB,EAAE,mBAAmB;AACvCC,IAAAA,kBAAkB,EAAEC,WAAW,CAACC,cAAc,CAACC,KAAK,CAAChB,KAAK,CAACiB,MAAM,EAAE,gBAAgB,CAAC,CAAC,CAAC;AACtFC,IAAAA,wBAAwB,EAAGlB,KAAK,CAACiB,MAAM,CAACE,MAAM,CAACC,QAA8B;IAC7E,iBAAiB,EAAEC,kBAAkB,CAAC;AAAErB,MAAAA,KAAK,EAALA,KAAAA;KAAO,CAAA;GAChD,CAAA;AAAA,CAAC,CAAC,CAAA;AAEH,IAAMsB,QAAQ,GAAG,SAAXA,QAAQA,CAAAC,KAAA,EAMY;AAAA,EAAA,IALxBC,QAAQ,GAAAD,KAAA,CAARC,QAAQ;IACRC,cAAc,GAAAF,KAAA,CAAdE,cAAc,CAAA;AAKd,EAAA,IAAAC,SAAA,GAAkBC,QAAQ,EAAE;IAApB3B,KAAK,GAAA0B,SAAA,CAAL1B,KAAK,CAAA;EACb,IAAM4B,YAAY,GAAGZ,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAE,6BAA6B,CAAC,CAAA;EACvE,IAAMC,WAAW,GAAGd,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAE,iCAAiC,CAAC,CAAA;EAC1E,IAAME,YAAY,GAAGP,QAAQ,IAAIC,cAAc,GAAGK,WAAW,GAAGF,YAAY,CAAA;EAC5E,IAAMI,cAAc,GAAGR,QAAQ,IAAI,CAACC,cAAc,GAAGK,WAAW,GAAGF,YAAY,CAAA;EAC/E,oBACEK,GAAA,CAACxC,UAAU,EAAAyC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CACLC,EAAAA,EAAAA,aAAa,CAAC;IAAEC,IAAI,EAAEC,aAAa,CAACC,eAAAA;GAAiB,CAAC,CACtDC,EAAAA,cAAc,CAAC;AAAEC,IAAAA,KAAK,EAAE,aAAa;AAAEC,IAAAA,IAAI,EAAE,QAAA;AAAS,GAAC,CAAC,CAAA,EAAA,EAAA,EAAA;AAAAC,IAAAA,QAAA,eAE5DC,IAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAE,EAAG;AAACC,MAAAA,MAAM,EAAE,EAAG;AAACC,MAAAA,IAAI,EAAC,MAAM;AAAAJ,MAAAA,QAAA,gBACrCT,GAAA,CAAA,MAAA,EAAA;AACEa,QAAAA,IAAI,EAAEf,YAAa;AACnBgB,QAAAA,CAAC,EAAC,4KAAA;OACH,CAAC,eACFd,GAAA,CAAA,MAAA,EAAA;AACEa,QAAAA,IAAI,EAAEd,cAAe;AACrBe,QAAAA,CAAC,EAAC,8KAAA;AAA8K,OACjL,CAAC,CAAA;KACC,CAAA;AAAC,GAAA,CACI,CAAC,CAAA;AAEjB,CAAC,CAAA;AAED,IAAMC,YAAY,gBAAGtD,MAAM,CAACuD,MAAM,CAAC,CAAArD,UAAA,CAAA;EAAAC,WAAA,EAAA,8BAAA;EAAAC,WAAA,EAAA,UAAA;AAAA,CAAA,CAAA,CACjC,UAAAoD,KAAA,EAAA;AAAA,EAAA,IAAGC,sBAAsB,GAAAD,KAAA,CAAtBC,sBAAsB,CAAA;EAAA,OAAQ;AAC/B,IAAA,KAAK,EAAE;AACL,MAAA,qBAAqB,EAAE;AACrBC,QAAAA,SAAS,EAAE,MAAA;OACZ;AACD3C,MAAAA,OAAO,EAAE0C,sBAAsB,KAAK,SAAS,GAAG,MAAM,GAAGE,SAAAA;AAC3D,KAAA;GACD,CAAA;AAAA,CAAC,CACH,CAAA;AAED,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAAC,KAAA,EAAuE;AAAA,EAAA,IAAjEb,QAAQ,GAAAa,KAAA,CAARb,QAAQ;AAAKc,IAAAA,IAAI,GAAAC,wBAAA,CAAAF,KAAA,EAAAG,SAAA,CAAA,CAAA;AACvC,EAAA,IAAAC,gBAAA,GAAkCC,eAAe,EAAE;IAA3CC,qBAAqB,GAAAF,gBAAA,CAArBE,qBAAqB,CAAA;EAE7B,oBACE5B,GAAA,CAACe,YAAY,EAAAd,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA;AACXiB,IAAAA,sBAAsB,EAAEU,qBAAAA;AAAsB,GAAA,EAC1C1B,aAAa,CAAC;IAAEC,IAAI,EAAEC,aAAa,CAACyB,WAAAA;AAAY,GAAC,CAAC,CAAA,EAClDC,sBAAsB,CAACP,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAAAd,IAAAA,QAAA,EAE/BA,QAAAA;AAAQ,GAAA,CACG,CAAC,CAAA;AAEnB,CAAC,CAAA;AAED,IAAMoB,WAAW,gBAAGE,wBAAwB,CAACV,YAAY,EAAE;EACzDxD,WAAW,EAAEmE,YAAY,CAACH,WAAAA;AAC5B,CAAC,EAAC;AAEF,IAAMI,gBAAgB,gBAAGxE,MAAM,CAACyE,UAAU,CAAC,CAAAvE,UAAA,CAAA;EAAAC,WAAA,EAAA,kCAAA;EAAAC,WAAA,EAAA,UAAA;AAAA,CAAA,CAAA,CAOxC,UAAAsE,KAAA,EAAA;AAAA,EAAA,IAAGpE,KAAK,GAAAoE,KAAA,CAALpE,KAAK;IAAEqE,WAAW,GAAAD,KAAA,CAAXC,WAAW;IAAEC,gBAAgB,GAAAF,KAAA,CAAhBE,gBAAgB;IAAEC,WAAW,GAAAH,KAAA,CAAXG,WAAW;IAAEC,WAAW,GAAAJ,KAAA,CAAXI,WAAW;IAAEC,UAAU,GAAAL,KAAA,CAAVK,UAAU;IAAEC,OAAO,GAAAN,KAAA,CAAPM,OAAO,CAAA;EAAA,OAAQ;AAC/F,IAAA,KAAK,EAAE;AACLjE,MAAAA,OAAO,EAAEgE,UAAU,GAAG,MAAM,GAAG,OAAO;AACtC9D,MAAAA,cAAc,EAAE8D,UAAU,GAAG,eAAe,GAAG,SAAS;AACxD5B,MAAAA,MAAM,EAAE,MAAM;MACd8B,eAAe,EAAE3D,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAEyC,gBAAgB,CAAC;AACtDM,MAAAA,iBAAiB,EAAEC,SAAS,CAAC7D,KAAK,CAAChB,KAAK,CAACE,MAAM,CAAC0C,KAAK,EAAEkC,WAAW,CAACC,uBAAuB,CAAC,CAAC;AAC5FC,MAAAA,cAAc,EAAEH,SAAS,CAAC7D,KAAK,CAAChB,KAAK,CAACE,MAAM,CAAC0C,KAAK,EAAEkC,WAAW,CAACC,uBAAuB,CAAC,CAAC;MACzFE,iBAAiB,EAAEjE,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAEiD,WAAW,CAACI,uBAAuB,CAAC;MAC3EC,cAAc,EAAEnE,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAEiD,WAAW,CAACI,uBAAuB,CAAC;AACxEE,MAAAA,iBAAiB,EAAE,OAAO;AAC1BC,MAAAA,cAAc,EAAE,OAAO;AACvBpF,MAAAA,MAAM,EAAEoE,WAAW,GAAG,SAAS,GAAG,MAAM;AACxCK,MAAAA,OAAO,EAAPA,OAAO;AACP,MAAA,OAAO,EAAE;QACPC,eAAe,EAAE3D,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAEiD,WAAW,CAACH,eAAe,CAAC;AACjElE,QAAAA,OAAO,EAAE,MAAM;AACf6E,QAAAA,aAAa,EAAE,KAAK;AACpB3E,QAAAA,cAAc,EAAE8D,UAAU,GAAGA,UAAU,GAAG,eAAe;AACzD/D,QAAAA,UAAU,EAAE,QAAQ;AACpBmC,QAAAA,MAAM,EAAE,MAAM;AACd0C,QAAAA,WAAW,EAAEf,WAAW,GACpBK,SAAS,CAAC7D,KAAK,CAAChB,KAAK,EAAEwF,QAAQ,CAACD,WAAW,CAAChB,WAAW,CAAC,CAAC,CAAC,GAC1DlB,SAAS;AACboC,QAAAA,YAAY,EAAEjB,WAAW,GACrBK,SAAS,CAAC7D,KAAK,CAAChB,KAAK,EAAEwF,QAAQ,CAACC,YAAY,CAAClB,WAAW,CAAC,CAAC,CAAC,GAC3DlB,SAAS;AACbqC,QAAAA,SAAS,EAAEC,QAAQ,CAAC3E,KAAK,CAAC4E,IAAI,EAAEJ,QAAQ,CAACE,SAAS,CAACnB,WAAW,CAAC,CAAC,CAAA;OACjE;MACD,iBAAiB,EAAElD,kBAAkB,CAAC;AAAErB,QAAAA,KAAK,EAALA,KAAK;AAAE6F,QAAAA,cAAc,EAAE,IAAA;OAAM,CAAA;AACvE,KAAA;GACD,CAAA;AAAA,CAAC,CAAC,CAAA;AAEH,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAC,KAAA,EAU0B;AAAA,EAAA,IAAAC,qBAAA,CAAA;AAAA,EAAA,IAT9CtD,QAAQ,GAAAqD,KAAA,CAARrD,QAAQ;IACRuD,SAAS,GAAAF,KAAA,CAATE,SAAS;IAAAC,iBAAA,GAAAH,KAAA,CACTI,WAAW;AAAXA,IAAAA,WAAW,GAAAD,iBAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,iBAAA;IAClBE,SAAS,GAAAL,KAAA,CAATK,SAAS;IACTC,eAAe,GAAAN,KAAA,CAAfM,eAAe;IACfC,aAAa,GAAAP,KAAA,CAAbO,aAAa;IACbC,YAAY,GAAAR,KAAA,CAAZQ,YAAY;IACZC,UAAU,GAAAT,KAAA,CAAVS,UAAU;AACPhD,IAAAA,IAAI,GAAAC,wBAAA,CAAAsC,KAAA,EAAAU,UAAA,CAAA,CAAA;AAEP,EAAA,IAAAC,iBAAA,GAMI9C,eAAe,EAAE;IALnB+C,UAAU,GAAAD,iBAAA,CAAVC,UAAU;IACVC,kBAAkB,GAAAF,iBAAA,CAAlBE,kBAAkB;IAClBjC,eAAe,GAAA+B,iBAAA,CAAf/B,eAAe;IACfkC,UAAU,GAAAH,iBAAA,CAAVG,UAAU;IACVC,gBAAgB,GAAAJ,iBAAA,CAAhBI,gBAAgB,CAAA;AAElB,EAAA,IAAMC,gBAAgB,GAAG,OAAOrE,QAAQ,KAAK,QAAQ,CAAA;AACrD,EAAA,IAAMsE,UAAU,GACdf,SAAS,IAAIgB,OAAO,CAAA,CAAAjB,qBAAA,GAACY,kBAAkB,CAACM,eAAe,MAAA,IAAA,IAAAlB,qBAAA,KAAlCA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,qBAAA,CAAoCmB,IAAI,CAAC,UAACC,GAAG,EAAA;IAAA,OAAKA,GAAG,KAAKnB,SAAS,CAAA;AAAA,GAAA,CAAC,CAAC,CAAA;AAE5F,EAAA,IAAMoB,UAAU,GAAGJ,OAAO,CAACV,YAAY,IAAIC,UAAU,CAAC,CAAA;AACtD,EAAA,IAAMc,YAAY,GAAGD,UAAU,GAAA,EAAA,CAAAE,MAAA,CAAMhB,YAAY,EAAA,KAAA,CAAA,CAAAgB,MAAA,CAAMf,UAAU,CAAA,GAAKnD,SAAS,CAAA;EAE/E,oBACEV,IAAA,CAACuB,gBAAgB,EAAAhC,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA;AACfsF,IAAAA,QAAQ,EAAE,CAAE;AACZC,IAAAA,SAAS,EAAEJ,UAAU,GAAGK,OAAO,CAACC,gBAAgB,GAAG,EAAG;AACtDtB,IAAAA,eAAe,EAAEA,eAAgB;AACjCC,IAAAA,aAAa,EAAEA,aAAc;AAC7B5B,IAAAA,OAAO,EAAE4C,YAAa;AACtBjD,IAAAA,WAAW,EAAE2C,UAAW;AACxB1C,IAAAA,gBAAgB,EAAEK,eAAgB;AAClCJ,IAAAA,WAAW,EAAEuC,gBAAgB,KAAA,IAAA,IAAhBA,gBAAgB,KAAhBA,KAAAA,CAAAA,GAAAA,gBAAgB,GAAID,UAAW;AAC5CrC,IAAAA,WAAW,EAAE2B,WAAY;AACzB1B,IAAAA,UAAU,EAAE2B,SAAU;AACtBwB,IAAAA,OAAO,EAAE,SAATA,OAAOA,GAAQ;AACb,MAAA,IAAIZ,UAAU,EAAE;QACdL,UAAU,CAACV,SAAS,CAAC,CAAA;AACvB,OAAA;AACF,KAAA;AAAE,GAAA,EACE9D,aAAa,CAAC;IAAEC,IAAI,EAAEC,aAAa,CAACwF,eAAAA;AAAgB,GAAC,CAAC,CAAA,EACtD9D,sBAAsB,CAACP,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;IAAAd,QAAA,EAAA,cAEhCT,GAAA,CAAC6F,OAAO,EAAA;AAACrH,MAAAA,OAAO,EAAC,MAAM;AAACsH,MAAAA,QAAQ,EAAE,CAAE;AAACpH,MAAAA,cAAc,EAAEyF,SAAU;AAAA1D,MAAAA,QAAA,EAC5DqE,gBAAgB,gBACf9E,GAAA,CAAC+F,IAAI,EAAA;AAACpC,QAAAA,IAAI,EAAC,OAAO;AAACqC,QAAAA,MAAM,EAAC,QAAQ;AAACC,QAAAA,KAAK,EAAC,0BAA0B;AAAAxF,QAAAA,QAAA,EAChEA,QAAAA;AAAQ,OACL,CAAC,GAEPA,QAAAA;AACD,KACM,CAAC,EACTsE,UAAU,iBACT/E,GAAA,CAAC6F,OAAO,EAAA;AAACvC,MAAAA,WAAW,EAAC,WAAW;AAACZ,MAAAA,eAAe,EAAC,aAAa;AAACwD,MAAAA,UAAU,EAAE,CAAE;MAAAzF,QAAA,eAC3ET,GAAA,CAACX,QAAQ,EAAA;AACPE,QAAAA,QAAQ,EAAEoF,kBAAkB,CAACwB,OAAO,KAAKnC,SAAU;QACnDxE,cAAc,EAAEmF,kBAAkB,CAACnF,cAAAA;OACpC,CAAA;AAAC,KACK,CACV,CAAA;AAAA,GAAA,CACe,CAAC,CAAA;AAEvB,CAAC,CAAA;AAED,IAAMoG,eAAe,gBAAG7D,wBAAwB,CAAC8B,gBAAgB,EAAE;EACjEhG,WAAW,EAAEmE,YAAY,CAAC4D,eAAAA;AAC5B,CAAC,EAAC;AAEF,IAAMQ,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAAC,KAAA,EAUH;AAAA,EAAA,IATxBC,SAAS,GAAAD,KAAA,CAATC,SAAS;IACTC,UAAU,GAAAF,KAAA,CAAVE,UAAU;IACVC,eAAe,GAAAH,KAAA,CAAfG,eAAe;IACfC,QAAQ,GAAAJ,KAAA,CAARI,QAAQ,CAAA;EAOR,oBACEzG,GAAA,CAAC4F,eAAe,EAAA;AAAC5B,IAAAA,SAAS,EAAC,QAAQ;IAAAvD,QAAA,eACjCT,GAAA,CAAC6F,OAAO,EAAA;AACNrH,MAAAA,OAAO,EAAC,MAAM;AACdC,MAAAA,UAAU,EAAC,QAAQ;AACnBC,MAAAA,cAAc,EAAC,QAAQ;AACvBgI,MAAAA,IAAI,EAAE,CAAE;AACR/F,MAAAA,KAAK,EAAE+C,QAAQ,CAACiD,iBAAiB,CAAE;AAAAlG,MAAAA,QAAA,eAEnCT,GAAA,CAAC4G,QAAQ,EAAA3G,aAAA,CAAA;AACPqG,QAAAA,SAAS,EAAEA,SAAU;AACrBC,QAAAA,UAAU,EAAEA,UAAW;AACvBC,QAAAA,eAAe,EAAEA,eAAgB;AACjCC,QAAAA,QAAQ,EAAEA,QAAAA;AAAS,OAAA,EACfnG,cAAc,CAAC;AAAEC,QAAAA,KAAK,EAAE,iBAAA;AAAkB,OAAC,CAAC,CACjD,CAAA;KACM,CAAA;AAAC,GACK,CAAC,CAAA;AAEtB,CAAC,CAAA;AAED,IAAMsG,eAAe,gBAAGpJ,MAAM,CAACqJ,SAAS,CAAC,CAAAnJ,UAAA,CAAA;EAAAC,WAAA,EAAA,iCAAA;EAAAC,WAAA,EAAA,UAAA;AAAA,CAAA,CAAA,CAQvC,UAAAkJ,KAAA,EAAA;AAAA,EAAA,IACEhJ,KAAK,GAAAgJ,KAAA,CAALhJ,KAAK;IACLiJ,kBAAkB,GAAAD,KAAA,CAAlBC,kBAAkB;IAClBC,oBAAoB,GAAAF,KAAA,CAApBE,oBAAoB;IACpBC,gBAAgB,GAAAH,KAAA,CAAhBG,gBAAgB;IAChBC,cAAc,GAAAJ,KAAA,CAAdI,cAAc;IACdC,YAAY,GAAAL,KAAA,CAAZK,YAAY;IACZC,cAAc,GAAAN,KAAA,CAAdM,cAAc,CAAA;EAAA,OACT;IACL,MAAM,EAAEL,kBAAkB,GAAA/G,aAAA,CAAA;AAEpBqH,MAAAA,gBAAgB,EAAE1E,SAAS,CAAC7D,KAAK,CAAChB,KAAK,CAACE,MAAM,CAAC0C,KAAK,EAAE4C,QAAQ,CAACZ,iBAAiB,CAAC,CAAC;MAClF4E,gBAAgB,EAAExI,KAAK,CAAChB,KAAK,CAAC6B,MAAM,EAAE2D,QAAQ,CAACiE,WAAW,CAAC;AAC3DC,MAAAA,gBAAgB,EAAE,OAAA;AAAO,KAAA,EACrBJ,cAAc,IAAI;AACpB7I,MAAAA,OAAO,EAAE,MAAM;AACfkJ,MAAAA,mBAAmB,EAAET,oBAAoB,GAAA3B,EAAAA,CAAAA,MAAA,CAClC2B,oBAAoB,EAAA,GAAA,CAAA,CAAA3B,MAAA,CAAI4B,gBAAgB,GAAG,aAAa,GAAG,EAAE,QAAA5B,MAAA,CAE9D6B,cAAc,KAAK,UAAU,GAAG,aAAa,GAAG,EAAE,cAAA7B,MAAA,CACzC8B,YAAY,EAAA,uBAAA,CAAA,CAAA9B,MAAA,CACrB4B,gBAAgB,GAAG,aAAa,GAAG,EAAE,EAAA,cAAA,CAAA;AAE7C,KAAC,IAEH9F,SAAS;AACb,IAAA,kBAAkB,EAAE;AAClBuG,MAAAA,WAAW,EAAE,MAAA;AACf,KAAA;GACD,CAAA;AAAA,CAAC,CACH,CAAA;AAED,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAAC,KAAA,EAI0B;AAAA,EAAA,IAH7CpH,QAAQ,GAAAoH,KAAA,CAARpH,QAAQ;IACRmE,UAAU,GAAAiD,KAAA,CAAVjD,UAAU;AACPrD,IAAAA,IAAI,GAAAC,wBAAA,CAAAqG,KAAA,EAAAC,UAAA,CAAA,CAAA;AAEP,EAAA,IAAAC,iBAAA,GAYIpG,eAAe,EAAE;IAXnBqG,YAAY,GAAAD,iBAAA,CAAZC,YAAY;IACZC,aAAa,GAAAF,iBAAA,CAAbE,aAAa;IACbC,YAAY,GAAAH,iBAAA,CAAZG,YAAY;IACZC,UAAU,GAAAJ,iBAAA,CAAVI,UAAU;IACVC,sBAAsB,GAAAL,iBAAA,CAAtBK,sBAAsB;IACtBC,mBAAmB,GAAAN,iBAAA,CAAnBM,mBAAmB;IACnBC,iBAAiB,GAAAP,iBAAA,CAAjBO,iBAAiB;IACjBC,eAAe,GAAAR,iBAAA,CAAfQ,eAAe;IACfb,mBAAmB,GAAAK,iBAAA,CAAnBL,mBAAmB;IACnBc,WAAW,GAAAT,iBAAA,CAAXS,WAAW;IACXC,aAAa,GAAAV,iBAAA,CAAbU,aAAa,CAAA;AAEf,EAAA,IAAMC,aAAa,GAAGT,aAAa,KAAK,UAAU,CAAA;EAClD,IAAMU,aAAa,GAAGT,YAAY,IAAIA,YAAY,CAACU,MAAM,KAAKT,UAAU,CAAA;EACxE,IAAM3B,eAAe,GAAG0B,YAAY,IAAIA,YAAY,CAACU,MAAM,GAAG,CAAC,IAAI,CAACD,aAAa,CAAA;EACjF,IAAMpC,UAAU,GAAGyB,YAAY,IAAIA,YAAY,CAACY,MAAM,KAAKT,UAAU,CAAA;;AAErE;AACA;AACA;EACAE,mBAAmB,CAAC,SAAS,CAAC,CAAA;EAE9B,oBACE3H,IAAA,CAACmG,eAAe,EAAA5G,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA;AACdO,IAAAA,IAAI,EAAC,WAAA;AAAW,GAAA,EACZN,aAAa,CAAC;IAAEC,IAAI,EAAEC,aAAa,CAACyI,cAAAA;AAAe,GAAC,CAAC,CAAA,EACrD/G,sBAAsB,CAACP,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAChCyF,IAAAA,kBAAkB,EAAEsB,iBAAkB;AACtCrB,IAAAA,oBAAoB,EAAES,mBAAoB;AAC1CR,IAAAA,gBAAgB,EAAEqB,eAAgB;AAClCpB,IAAAA,cAAc,EAAEc,aAAc;AAC9Bb,IAAAA,YAAY,EAAEoB,WAAY;AAC1BnB,IAAAA,cAAc,EAAEoB,aAAc;AAAAhI,IAAAA,QAAA,EAE7BiI,CAAAA,aAAa,iBACZ1I,GAAA,CAACoG,uBAAuB,EAAA;AACtBE,MAAAA,SAAS,EAAEqC,aAAc;AACzBpC,MAAAA,UAAU,EAAEA,UAAW;AACvBC,MAAAA,eAAe,EAAEA,eAAgB;MACjCC,QAAQ,EAAE,SAAVA,QAAQA,GAAA;QAAA,OAAQ2B,sBAAsB,EAAE,CAAA;AAAA,OAAA;KACzC,CACF,EACA3H,QAAQ,EACR8H,eAAe,gBAAGvI,GAAA,CAAC4F,eAAe,EAAA;AAAC1B,MAAAA,WAAW,EAAE,KAAM;AAAAzD,MAAAA,QAAA,EAAC,SAAA;KAAwB,CAAC,GAAG,IAAI,CAAA;AAAA,GAAA,CACzE,CAAC,CAAA;AAEtB,CAAC,CAAA;AAED,IAAMoI,cAAc,gBAAG9G,wBAAwB,CAAC6F,eAAe,EAAE;EAC/D/J,WAAW,EAAEmE,YAAY,CAAC6G,cAAAA;AAC5B,CAAC;;;;"}