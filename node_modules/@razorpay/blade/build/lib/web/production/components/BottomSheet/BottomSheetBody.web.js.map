{"version":3,"file":"BottomSheetBody.web.js","sources":["../../../../../../src/components/BottomSheet/BottomSheetBody.web.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport { ComponentIds } from './componentIds';\nimport { useBottomSheetContext } from './BottomSheetContext';\nimport type { BottomSheetBodyProps } from './types';\nimport { useIsomorphicLayoutEffect } from '~utils/useIsomorphicLayoutEffect';\nimport BaseBox from '~components/Box/BaseBox';\nimport { componentIds } from '~components/ActionList/componentIds';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { isValidAllowedChildren } from '~utils/isValidAllowedChildren';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst bodyStyles: React.CSSProperties = {\n  WebkitTapHighlightColor: 'revert',\n  WebkitTouchCallout: 'revert',\n  WebkitUserSelect: 'auto',\n  overscrollBehavior: 'contain',\n  WebkitOverflowScrolling: 'touch',\n  userSelect: 'auto',\n  touchAction: 'none',\n};\n\nconst _BottomSheetBody = ({\n  children,\n  padding = 'spacing.5',\n  overflow = 'auto',\n  ...dataAnalyticsProps\n}: BottomSheetBodyProps): React.ReactElement => {\n  const { scrollRef, setContentHeight, setHasBodyPadding, isOpen, bind } = useBottomSheetContext();\n  const contentRef = React.useRef<HTMLDivElement>(null);\n  const [bottomSheetHasActionList, setBottomSheetHasActionList] = React.useState<boolean>(false);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!contentRef.current) return;\n    setContentHeight(contentRef.current.getBoundingClientRect().height);\n  }, [contentRef, isOpen, children]);\n\n  React.useEffect(() => {\n    setBottomSheetHasActionList(false);\n    React.Children.forEach(children, (child) => {\n      if (isValidAllowedChildren(child, componentIds.ActionList)) {\n        setBottomSheetHasActionList(true);\n      }\n    });\n  }, [children]);\n\n  React.useEffect(() => {\n    if (padding === 'spacing.0') {\n      setHasBodyPadding(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [padding]);\n\n  return (\n    <BaseBox\n      {...metaAttribute({\n        testID: 'bottomsheet-body',\n        name: MetaConstants.BottomSheetBody,\n      })}\n      {...makeAnalyticsAttribute(dataAnalyticsProps)}\n      ref={scrollRef}\n      flexGrow={1}\n      flexShrink={1}\n      style={bodyStyles}\n      overflow={overflow}\n      // Passing isContentDragging to bind()\n      // Inside the useDrag() hook this will let us know if user is dragging the content or not\n      {...bind?.({ isContentDragging: true })}\n    >\n      <BaseBox\n        paddingLeft={bottomSheetHasActionList ? 'spacing.3' : padding}\n        paddingRight={bottomSheetHasActionList ? 'spacing.3' : padding}\n        paddingTop={bottomSheetHasActionList ? 'spacing.3' : padding}\n        paddingBottom={bottomSheetHasActionList ? 'spacing.3' : padding}\n        ref={contentRef}\n        overflow={overflow}\n      >\n        {children}\n      </BaseBox>\n    </BaseBox>\n  );\n};\n\nconst BottomSheetBody = assignWithoutSideEffects(_BottomSheetBody, {\n  componentId: ComponentIds.BottomSheetBody,\n});\n\nexport { BottomSheetBody };\n"],"names":["bodyStyles","WebkitTapHighlightColor","WebkitTouchCallout","WebkitUserSelect","overscrollBehavior","WebkitOverflowScrolling","userSelect","touchAction","_BottomSheetBody","_ref","children","_ref$padding","padding","_ref$overflow","overflow","dataAnalyticsProps","_objectWithoutProperties","_excluded","_useBottomSheetContex","useBottomSheetContext","scrollRef","setContentHeight","setHasBodyPadding","isOpen","bind","contentRef","React","useRef","_React$useState","useState","_React$useState2","_slicedToArray","bottomSheetHasActionList","setBottomSheetHasActionList","useIsomorphicLayoutEffect","current","getBoundingClientRect","height","useEffect","Children","forEach","child","isValidAllowedChildren","componentIds","ActionList","_jsx","BaseBox","_objectSpread","metaAttribute","testID","name","MetaConstants","BottomSheetBody","makeAnalyticsAttribute","ref","flexGrow","flexShrink","style","isContentDragging","paddingLeft","paddingRight","paddingTop","paddingBottom","assignWithoutSideEffects","componentId","ComponentIds"],"mappings":"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"}