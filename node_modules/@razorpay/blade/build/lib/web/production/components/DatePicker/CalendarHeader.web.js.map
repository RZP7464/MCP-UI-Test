{"version":3,"file":"CalendarHeader.web.js","sources":["../../../../../../src/components/DatePicker/CalendarHeader.web.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport type { CalendarLevel as MantineCalendarLevel } from '@mantine/dates';\nimport dayjs from 'dayjs';\nimport { useI18nContext } from '@razorpay/i18nify-react';\nimport type { PickerType, DateValue, DatesRangeValue } from './types';\nimport { convertIntlToDayjsLocale } from './utils';\nimport { Box } from '~components/Box';\nimport { Button } from '~components/Button';\nimport { Text } from '~components/Typography';\nimport { ChevronDownIcon, ChevronLeftIcon, ChevronRightIcon } from '~components/Icons';\nimport { Link } from '~components/Link';\n\ntype CalendarHeaderProps = {\n  isRange: boolean;\n  date: DateValue | DatesRangeValue;\n  pickerType: PickerType;\n  showLevelChangeLink?: boolean;\n  onNextMonth: () => void;\n  onPreviousMonth: () => void;\n  onNextYear: () => void;\n  onPreviousYear: () => void;\n  onNextDecade: () => void;\n  onPreviousDecade: () => void;\n  onLevelChange: (level: MantineCalendarLevel) => void;\n};\nconst CalendarLevelIndicator = ({\n  onClick,\n  showLevelChangeLink,\n  accessibilityLabel,\n  text,\n}: {\n  onClick: () => void;\n  showLevelChangeLink?: boolean;\n  accessibilityLabel: string;\n  text: string;\n}): React.ReactElement => {\n  return showLevelChangeLink ? (\n    <Link\n      onClick={onClick}\n      size=\"large\"\n      variant=\"button\"\n      color=\"neutral\"\n      iconPosition=\"right\"\n      icon={ChevronDownIcon}\n      accessibilityLabel={accessibilityLabel}\n    >\n      {text}\n    </Link>\n  ) : (\n    <Text size=\"large\" weight=\"medium\" color=\"interactive.text.neutral.normal\">\n      {text}\n    </Text>\n  );\n};\n\nconst CalendarHeader = ({\n  isRange,\n  date,\n  pickerType,\n  onNextMonth,\n  onNextYear,\n  onNextDecade,\n  onPreviousMonth,\n  onPreviousYear,\n  onPreviousDecade,\n  onLevelChange,\n  showLevelChangeLink,\n}: CalendarHeaderProps & {\n  showLevelChangeLink?: boolean;\n}): React.ReactElement => {\n  const { i18nState } = useI18nContext();\n  const locale = convertIntlToDayjsLocale(i18nState?.locale ?? 'en-IN');\n\n  const month = dayjs(date as Date)\n    .locale(locale)\n    .format('MMMM');\n  const year = dayjs(date as Date)\n    .locale(locale)\n    .format('YYYY');\n  const currentYear = dayjs(date as Date).year();\n  const startYearOfDecade = Math.floor(currentYear / 10) * 10;\n  const endYearOfDecade = startYearOfDecade + 9;\n  const nextMonth = dayjs(date as Date)\n    .locale(locale)\n    .add(1, 'month')\n    .format('MMMM');\n  const nextYear = dayjs(date as Date)\n    .locale(locale)\n    .add(1, 'month')\n    .format('YYYY');\n\n  const handleNext = () => {\n    switch (pickerType) {\n      case 'day':\n        onNextMonth();\n        break;\n      case 'month':\n        onNextYear();\n        break;\n      case 'year':\n        onNextDecade();\n        break;\n      default:\n        throw new Error('Invalid picker type');\n    }\n  };\n\n  const handlePrevious = () => {\n    switch (pickerType) {\n      case 'day':\n        onPreviousMonth();\n        break;\n      case 'month':\n        onPreviousYear();\n        break;\n      case 'year':\n        onPreviousDecade();\n        break;\n      default:\n        throw new Error('Invalid picker type');\n    }\n  };\n\n  return (\n    <Box\n      display={isRange ? 'grid' : 'flex'}\n      gridTemplateColumns={{ base: 'auto  1fr auto', m: 'auto 1fr 1fr auto' }}\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n    >\n      <Button\n        justifySelf=\"start\"\n        size=\"small\"\n        variant=\"tertiary\"\n        onClick={handlePrevious}\n        accessibilityLabel=\"Previous\"\n        icon={ChevronLeftIcon}\n      />\n      {isRange ? (\n        <>\n          <Text\n            display={{ base: 'none', m: 'block' }}\n            size=\"large\"\n            weight=\"medium\"\n            marginRight=\"spacing.7\"\n            justifySelf=\"center\"\n          >\n            {month} {year}\n          </Text>\n          <Text\n            display={{ base: 'none', m: 'block' }}\n            size=\"large\"\n            weight=\"medium\"\n            marginLeft=\"spacing.7\"\n            justifySelf=\"center\"\n          >\n            {nextMonth} {nextYear}\n          </Text>\n          <Text\n            display={{ base: 'block', m: 'none' }}\n            size=\"large\"\n            weight=\"medium\"\n            justifySelf=\"center\"\n          >\n            {month} {year}\n          </Text>\n        </>\n      ) : (\n        <Box display=\"flex\" gap=\"spacing.5\" alignItems=\"center\">\n          {pickerType === 'day' && (\n            <CalendarLevelIndicator\n              onClick={() => onLevelChange('year')}\n              showLevelChangeLink={showLevelChangeLink}\n              accessibilityLabel=\"Change month\"\n              text={`${month} ${year}`}\n            />\n          )}\n\n          {pickerType === 'month' && (\n            <CalendarLevelIndicator\n              onClick={() => onLevelChange('decade')}\n              showLevelChangeLink={showLevelChangeLink}\n              accessibilityLabel=\"Change decade\"\n              text={year}\n            />\n          )}\n          {pickerType === 'year' && (\n            <Text size=\"large\" weight=\"medium\" color=\"interactive.text.neutral.normal\">\n              {startYearOfDecade} - {endYearOfDecade}\n            </Text>\n          )}\n        </Box>\n      )}\n      <Button\n        justifySelf=\"end\"\n        size=\"small\"\n        variant=\"tertiary\"\n        onClick={handleNext}\n        accessibilityLabel=\"Next\"\n        icon={ChevronRightIcon}\n      />\n    </Box>\n  );\n};\n\nexport { CalendarHeader };\n"],"names":["CalendarLevelIndicator","_ref","onClick","showLevelChangeLink","accessibilityLabel","text","_jsx","Link","size","variant","color","iconPosition","icon","ChevronDownIcon","children","Text","weight","CalendarHeader","_ref2","_i18nState$locale","isRange","date","pickerType","onNextMonth","onNextYear","onNextDecade","onPreviousMonth","onPreviousYear","onPreviousDecade","onLevelChange","_useI18nContext","useI18nContext","i18nState","locale","convertIntlToDayjsLocale","month","dayjs","format","year","currentYear","startYearOfDecade","Math","floor","endYearOfDecade","nextMonth","add","nextYear","handleNext","Error","handlePrevious","_jsxs","Box","display","gridTemplateColumns","base","m","justifyContent","alignItems","Button","justifySelf","ChevronLeftIcon","_Fragment","marginRight","marginLeft","gap","concat","ChevronRightIcon"],"mappings":"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"}