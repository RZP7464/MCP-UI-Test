{"version":3,"file":"BottomSheetStack.js","sources":["../../../../../../src/components/BottomSheet/BottomSheetStack.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-empty-function */\nimport React from 'react';\n\ntype BottomSheetStackType = {\n  stack: string[];\n  addBottomSheetToStack: (id: string) => void;\n  removeBottomSheetFromStack: (id: string) => void;\n  getTopOfTheStack: () => string | null;\n  getCurrentStackIndexById: (id: string) => number;\n};\n\nconst BottomSheetStackContext = React.createContext<BottomSheetStackType>({\n  stack: [],\n  addBottomSheetToStack: () => {},\n  removeBottomSheetFromStack: () => {},\n  getTopOfTheStack: () => {\n    return null;\n  },\n  getCurrentStackIndexById: () => -1,\n});\n\ntype BottomSheetStackProviderType = {\n  children: React.ReactNode;\n};\nconst BottomSheetStackProvider = ({\n  children,\n}: BottomSheetStackProviderType): React.ReactElement => {\n  const [stack, setStack] = React.useState<string[]>([]);\n\n  const getTopOfTheStack = React.useCallback(() => {\n    return stack[0] || null;\n  }, [stack]);\n\n  const addBottomSheetToStack = React.useCallback((id?: string) => {\n    // id can be undefined since useId returns `undefined` on first render,\n    // if we push undefined to the stack the `removeBottomSheetFromStack` will break\n    // since it will try to match top of the stack with undefined\n    if (id === undefined) return;\n    setStack((prev) => [id, ...prev]);\n  }, []);\n\n  const removeBottomSheetFromStack = React.useCallback((id: string) => {\n    setStack((prev) => {\n      const newStack = [...prev];\n      const popped = newStack.shift();\n      // only pop the stack if the passed in id is matched to the top of the stack\n      if (popped === id) return newStack;\n      return newStack;\n    });\n  }, []);\n\n  const getCurrentStackIndexById = React.useCallback(\n    (id: string) => {\n      return stack.findIndex((stackId) => stackId === id);\n    },\n    [stack],\n  );\n\n  const value = React.useMemo(() => {\n    return {\n      stack,\n      addBottomSheetToStack,\n      removeBottomSheetFromStack,\n      getTopOfTheStack,\n      getCurrentStackIndexById,\n    };\n  }, [\n    addBottomSheetToStack,\n    getCurrentStackIndexById,\n    getTopOfTheStack,\n    removeBottomSheetFromStack,\n    stack,\n  ]);\n\n  return (\n    <BottomSheetStackContext.Provider value={value}>{children}</BottomSheetStackContext.Provider>\n  );\n};\n\nconst useBottomSheetStack = (): BottomSheetStackType => {\n  const context = React.useContext(BottomSheetStackContext);\n\n  return context;\n};\n\nexport { BottomSheetStackProvider, useBottomSheetStack };\n"],"names":["BottomSheetStackContext","React","createContext","stack","addBottomSheetToStack","removeBottomSheetFromStack","getTopOfTheStack","getCurrentStackIndexById","BottomSheetStackProvider","_ref","children","_React$useState","useState","_React$useState2","_slicedToArray","setStack","useCallback","id","undefined","prev","concat","_toConsumableArray","newStack","popped","shift","findIndex","stackId","value","useMemo","_jsx","Provider","useBottomSheetStack","context","useContext"],"mappings":"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"}