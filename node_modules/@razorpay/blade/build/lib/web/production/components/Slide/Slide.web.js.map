{"version":3,"file":"Slide.web.js","sources":["../../../../../../src/components/Slide/Slide.web.tsx"],"sourcesContent":["import React from 'react';\nimport type { SlideProps } from './types';\nimport { BaseMotionEntryExit } from '~components/BaseMotion';\nimport type { MotionVariantsType } from '~components/BaseMotion';\nimport { msToSeconds } from '~utils/msToSeconds';\nimport { cssBezierToArray } from '~utils/cssBezierToArray';\nimport { castWebType, useTheme } from '~utils';\n\nconst getFromTransform = (\n  direction: SlideProps['direction'],\n  fromOffset: SlideProps['fromOffset'],\n): `translate${string}` => {\n  if (direction === 'top') {\n    return `translateY(-${fromOffset})`;\n  }\n\n  if (direction === 'left') {\n    return `translateX(-${fromOffset})`;\n  }\n\n  if (direction === 'right') {\n    return `translateX(${fromOffset})`;\n  }\n\n  return `translateY(${fromOffset})`;\n};\n\n/**\n * ## Slide\n *\n * Slide is one of the motion presets that we expose from blade to help you make components slide in from outside of viewport\n *\n * If you're looking for subtle movement on enter in the viewport itself, checkout `Move` preset instead.\n *\n * ### Usage\n *\n * #### Slide in on mount\n *\n * ```jsx\n * <Slide direction=\"bottom\">\n *   <Card />\n * </Slide>\n * ```\n *\n * #### Conditionally slide based on state\n *\n * ```jsx\n * <Slide isVisible={isVisibleState}>\n *   <Card />\n * </Slide>\n * ```\n */\nconst Slide = ({\n  children,\n  type = 'inout',\n  direction = 'bottom',\n  isVisible,\n  motionTriggers,\n  shouldUnmountWhenHidden,\n  fromOffset,\n  delay,\n}: SlideProps): React.ReactElement => {\n  const { theme } = useTheme();\n\n  const enterDirection = typeof direction === 'object' ? direction.enter : direction;\n  const exitDirection = typeof direction === 'object' ? direction.exit : direction;\n  const isEnterDirectionHorizontal = ['left', 'right'].includes(enterDirection);\n  const isExitDirectionHorizontal = ['left', 'right'].includes(exitDirection);\n\n  const defaultOffset: SlideProps['fromOffset'] = isEnterDirectionHorizontal ? '100vw' : '100vh';\n\n  const enterTransform = getFromTransform(enterDirection, fromOffset ?? defaultOffset);\n  const exitTransform = getFromTransform(exitDirection, fromOffset ?? defaultOffset);\n\n  const enterDelay = typeof delay === 'object' ? delay.enter : delay;\n  const exitDelay = typeof delay === 'object' ? delay.exit : delay;\n\n  const moveVariants: MotionVariantsType = React.useMemo(\n    () => ({\n      initial: {\n        // We keep element in view with opacity 0 initially so that it works with `in-view` trigger as expected\n        opacity: 0,\n      },\n      animate: {\n        transform: [enterTransform, 'translateY(0%)'],\n        opacity: 1,\n        transition: {\n          // We have to make sure we don't add delay prop because if we define it, it takes precedence in stagger.\n          // Even setting `undefined` would break the stagger\n          ...(enterDelay ? { delay: msToSeconds(theme.motion.delay[enterDelay]) } : {}),\n          duration: msToSeconds(\n            isEnterDirectionHorizontal\n              ? theme.motion.duration.xmoderate\n              : theme.motion.duration['2xgentle'],\n          ),\n          ease: cssBezierToArray(\n            isEnterDirectionHorizontal\n              ? castWebType(theme.motion.easing.entrance)\n              : castWebType(theme.motion.easing.emphasized),\n          ),\n        },\n      },\n      exit: {\n        opacity: 0,\n        transform: exitTransform,\n        transitionEnd: {\n          transform: enterTransform,\n        },\n        transition: {\n          // We have to make sure we don't add delay prop because if we define it, it takes precedence in stagger.\n          // Even setting `undefined` would break the stagger\n          ...(exitDelay ? { delay: msToSeconds(theme.motion.delay[exitDelay]) } : {}),\n          duration: msToSeconds(\n            isExitDirectionHorizontal\n              ? theme.motion.duration.moderate\n              : theme.motion.duration.xgentle,\n          ),\n          ease: cssBezierToArray(\n            isExitDirectionHorizontal\n              ? castWebType(theme.motion.easing.exit)\n              : castWebType(theme.motion.easing.emphasized),\n          ),\n        },\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      enterDirection,\n      exitDirection,\n      isEnterDirectionHorizontal,\n      isExitDirectionHorizontal,\n      theme.name,\n    ],\n  );\n\n  return (\n    <BaseMotionEntryExit\n      motionVariants={moveVariants}\n      children={children}\n      type={type}\n      isVisible={isVisible}\n      motionTriggers={motionTriggers}\n      shouldUnmountWhenHidden={shouldUnmountWhenHidden}\n    />\n  );\n};\n\nexport { Slide };\n"],"names":["getFromTransform","direction","fromOffset","concat","Slide","_ref","children","_ref$type","type","_ref$direction","isVisible","motionTriggers","shouldUnmountWhenHidden","delay","_useTheme","useTheme","theme","enterDirection","_typeof","enter","exitDirection","exit","isEnterDirectionHorizontal","includes","isExitDirectionHorizontal","defaultOffset","enterTransform","exitTransform","enterDelay","exitDelay","moveVariants","React","useMemo","initial","opacity","animate","transform","transition","_objectSpread","msToSeconds","motion","duration","xmoderate","ease","cssBezierToArray","castWebType","easing","entrance","emphasized","transitionEnd","moderate","xgentle","name","_jsx","BaseMotionEntryExit","motionVariants"],"mappings":"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"}