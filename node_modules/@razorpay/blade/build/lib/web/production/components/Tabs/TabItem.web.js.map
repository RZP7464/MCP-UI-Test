{"version":3,"file":"TabItem.web.js","sources":["../../../../../../src/components/Tabs/TabItem.web.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n/* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\nimport styled from 'styled-components';\nimport React from 'react';\nimport { CompositeItem } from '@floating-ui/react';\nimport type { TabItemProps, TabsProps } from './types';\nimport { useTabsContext } from './TabsContext';\nimport {\n  backgroundColor,\n  paddingTop,\n  paddingBottom,\n  paddingX,\n  textColor,\n  iconColor,\n  textSizeMap,\n} from './tabTokens';\nimport { iconSizeMap, useTabsItemPropRestriction } from './utils';\nimport { Text } from '~components/Typography';\nimport { castWebType, makeBorderSize, makeMotionTime, makeSpace } from '~utils';\nimport useInteraction from '~utils/useInteraction';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport getIn from '~utils/lodashButBetter/get';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst StyledTabButton = styled.button<{\n  size: TabsProps['size'];\n  isFullWidthTabItem?: TabsProps['isFullWidthTabItem'];\n  variant: NonNullable<TabsProps['variant']>;\n  isVertical: boolean;\n  isSelected: boolean;\n}>(({ theme, isSelected, size, variant, isFullWidthTabItem, isVertical }) => {\n  const isFilled = variant === 'filled';\n  const orientation = isVertical ? 'vertical' : 'horizontal';\n  const border = isVertical ? 'borderLeft' : 'borderBottom';\n  const selectedState: 'selected' | 'unselected' = isSelected ? 'selected' : 'unselected';\n  const _variant = variant === 'borderless' ? 'bordered' : variant;\n  const background = backgroundColor[selectedState][_variant];\n\n  return {\n    appearance: 'none',\n    textDecoration: 'none',\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: isVertical ? 'left' : 'center',\n    gap: makeSpace(theme.spacing[3]),\n    width: isFullWidthTabItem ? '100%' : undefined,\n\n    // Padding\n    paddingTop: makeSpace(getIn(theme, paddingTop[_variant][orientation][size!])),\n    paddingBottom: makeSpace(getIn(theme, paddingBottom[_variant][orientation][size!])),\n    paddingLeft: makeSpace(getIn(theme, paddingX[_variant][orientation][size!])),\n    paddingRight: makeSpace(getIn(theme, paddingX[_variant][orientation][size!])),\n\n    // colors\n    backgroundColor:\n      isSelected && isFilled && !isVertical ? 'transparent' : getIn(theme, background.default),\n    borderRadius: isFilled && !isVertical ? theme.border.radius.small : 0,\n    [`${border}Style`]: 'solid',\n    [`${border}Width`]: isFilled\n      ? 0\n      : makeBorderSize(isVertical ? theme.border.width.thick : theme.border.width.thin),\n    [`${border}Color`]:\n      isVertical && isSelected ? theme.colors.interactive.border.primary.default : 'transparent',\n\n    // states\n    '&:hover': {\n      [`${border}Color`]:\n        isVertical && isSelected\n          ? theme.colors.interactive.border.primary.default\n          : theme.colors.interactive.border.gray.highlighted,\n      backgroundColor:\n        // Don't want to show hover state on filled tabs when vertical because\n        // The hover color needs to be on the TabIndicator instead.\n        isSelected && isFilled && !isVertical\n          ? 'transparent'\n          : getIn(theme, background.highlighted),\n    },\n    '&:disabled': {\n      cursor: 'not-allowed',\n      backgroundColor: getIn(theme, background.disabled),\n    },\n    '&:focus-visible': {\n      borderRadius: makeSpace(theme.border.radius.medium),\n      boxShadow: `0px 0px 0px 4px ${theme.colors.surface.border.primary.muted}`,\n      backgroundColor: getIn(theme, background.highlighted),\n    },\n\n    transitionProperty: 'all',\n    transitionTimingFunction: castWebType(theme.motion.easing.standard),\n    transitionDuration: castWebType(makeMotionTime(theme.motion.duration.gentle)),\n    '*': {\n      transitionProperty: 'color, fill',\n      transitionTimingFunction: castWebType(theme.motion.easing.standard),\n      transitionDuration: castWebType(makeMotionTime(theme.motion.duration.xquick)),\n    },\n  };\n});\n\nconst TabItem = ({\n  children,\n  value,\n  leading: Leading,\n  trailing,\n  isDisabled = false,\n  href,\n  onClick,\n  ...rest\n}: TabItemProps): React.ReactElement => {\n  const {\n    size,\n    isFullWidthTabItem,\n    selectedValue,\n    setSelectedValue,\n    baseId,\n    variant,\n    isVertical,\n  } = useTabsContext();\n  const { currentInteraction, ...interactionProps } = useInteraction();\n  const validatedTrailingComponent = useTabsItemPropRestriction(trailing, size!);\n  const isSelected = selectedValue === value;\n  const selectedState = isSelected ? 'selected' : 'unselected';\n  const panelId = `${baseId}-${value}-tabpanel`;\n  const tabItemId = `${baseId}-${value}-tabitem`;\n  const isFilled = variant === 'filled';\n\n  const interactionMap = {\n    default: 'default',\n    hover: 'highlighted',\n    focus: 'highlighted',\n    disabled: 'disabled',\n  } as const;\n  const interaction = isDisabled ? 'disabled' : interactionMap[currentInteraction];\n\n  return (\n    <CompositeItem\n      render={\n        <StyledTabButton\n          type=\"button\"\n          as={href ? 'a' : 'button'}\n          href={href}\n          isVertical={isVertical}\n          isSelected={isSelected}\n          variant={variant!}\n          isFullWidthTabItem={isFullWidthTabItem || isFilled}\n          id={tabItemId}\n          size={size}\n          disabled={isDisabled}\n          {...interactionProps}\n          onClick={(e: React.MouseEvent) => {\n            setSelectedValue?.(() => value);\n            onClick?.(e);\n          }}\n          {...makeAccessible({\n            role: 'tab',\n            selected: isSelected,\n            controls: panelId,\n          })}\n          {...metaAttribute({ name: MetaConstants.TabItem })}\n          {...makeAnalyticsAttribute(rest)}\n        >\n          {Leading ? (\n            <Leading size={iconSizeMap[size!]} color={iconColor[selectedState][interaction]} />\n          ) : null}\n\n          {children ? (\n            <Text\n              color={textColor[selectedState][interaction]}\n              size={textSizeMap[size!]}\n              weight=\"semibold\"\n            >\n              {children}\n            </Text>\n          ) : null}\n\n          {validatedTrailingComponent}\n        </StyledTabButton>\n      }\n    />\n  );\n};\n\nexport { TabItem };\n"],"names":["StyledTabButton","styled","button","withConfig","displayName","componentId","_ref","theme","isSelected","size","variant","isFullWidthTabItem","isVertical","isFilled","orientation","border","selectedState","_variant","background","backgroundColor","_defineProperty","appearance","textDecoration","outline","cursor","display","alignItems","justifyContent","gap","makeSpace","spacing","width","undefined","paddingTop","getIn","paddingBottom","paddingLeft","paddingX","paddingRight","borderRadius","radius","small","concat","makeBorderSize","thick","thin","colors","interactive","primary","gray","highlighted","disabled","medium","boxShadow","surface","muted","castWebType","motion","easing","standard","makeMotionTime","duration","gentle","transitionProperty","transitionTimingFunction","transitionDuration","xquick","TabItem","_ref3","children","value","Leading","leading","trailing","_ref3$isDisabled","isDisabled","href","onClick","rest","_objectWithoutProperties","_excluded","_useTabsContext","useTabsContext","selectedValue","setSelectedValue","baseId","_useInteraction","useInteraction","currentInteraction","interactionProps","_excluded2","validatedTrailingComponent","useTabsItemPropRestriction","panelId","tabItemId","interactionMap","hover","focus","interaction","_jsx","CompositeItem","render","_jsxs","_objectSpread","type","as","id","e","makeAccessible","role","selected","controls","metaAttribute","name","MetaConstants","makeAnalyticsAttribute","iconSizeMap","color","iconColor","Text","textColor","textSizeMap","weight"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,IAAMA,eAAe,gBAAGC,MAAM,CAACC,MAAM,CAAAC,UAAA,CAAA;EAAAC,WAAA,EAAA,6BAAA;EAAAC,WAAA,EAAA,UAAA;AAAA,CAMlC,CAAA,CAAA,UAAAC,IAAA,EAA0E;AAAA,EAAA,IAAvEC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;IAAEC,IAAI,GAAAH,IAAA,CAAJG,IAAI;IAAEC,OAAO,GAAAJ,IAAA,CAAPI,OAAO;IAAEC,kBAAkB,GAAAL,IAAA,CAAlBK,kBAAkB;IAAEC,UAAU,GAAAN,IAAA,CAAVM,UAAU,CAAA;AACpE,EAAA,IAAMC,QAAQ,GAAGH,OAAO,KAAK,QAAQ,CAAA;AACrC,EAAA,IAAMI,WAAW,GAAGF,UAAU,GAAG,UAAU,GAAG,YAAY,CAAA;AAC1D,EAAA,IAAMG,MAAM,GAAGH,UAAU,GAAG,YAAY,GAAG,cAAc,CAAA;AACzD,EAAA,IAAMI,aAAwC,GAAGR,UAAU,GAAG,UAAU,GAAG,YAAY,CAAA;EACvF,IAAMS,QAAQ,GAAGP,OAAO,KAAK,YAAY,GAAG,UAAU,GAAGA,OAAO,CAAA;EAChE,IAAMQ,UAAU,GAAGC,eAAe,CAACH,aAAa,CAAC,CAACC,QAAQ,CAAC,CAAA;AAE3D,EAAA,OAAAG,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAA;AACEC,IAAAA,UAAU,EAAE,MAAM;AAClBC,IAAAA,cAAc,EAAE,MAAM;AACtBP,IAAAA,MAAM,EAAE,MAAM;AACdQ,IAAAA,OAAO,EAAE,MAAM;AACfC,IAAAA,MAAM,EAAE,SAAS;AACjBC,IAAAA,OAAO,EAAE,MAAM;AACfC,IAAAA,UAAU,EAAE,QAAQ;AACpBC,IAAAA,cAAc,EAAEf,UAAU,GAAG,MAAM,GAAG,QAAQ;IAC9CgB,GAAG,EAAEC,SAAS,CAACtB,KAAK,CAACuB,OAAO,CAAC,CAAC,CAAC,CAAC;AAChCC,IAAAA,KAAK,EAAEpB,kBAAkB,GAAG,MAAM,GAAGqB,SAAS;AAE9C;AACAC,IAAAA,UAAU,EAAEJ,SAAS,CAACK,KAAK,CAAC3B,KAAK,EAAE0B,UAAU,CAAChB,QAAQ,CAAC,CAACH,WAAW,CAAC,CAACL,IAAI,CAAE,CAAC,CAAC;AAC7E0B,IAAAA,aAAa,EAAEN,SAAS,CAACK,KAAK,CAAC3B,KAAK,EAAE4B,aAAa,CAAClB,QAAQ,CAAC,CAACH,WAAW,CAAC,CAACL,IAAI,CAAE,CAAC,CAAC;AACnF2B,IAAAA,WAAW,EAAEP,SAAS,CAACK,KAAK,CAAC3B,KAAK,EAAE8B,QAAQ,CAACpB,QAAQ,CAAC,CAACH,WAAW,CAAC,CAACL,IAAI,CAAE,CAAC,CAAC;AAC5E6B,IAAAA,YAAY,EAAET,SAAS,CAACK,KAAK,CAAC3B,KAAK,EAAE8B,QAAQ,CAACpB,QAAQ,CAAC,CAACH,WAAW,CAAC,CAACL,IAAI,CAAE,CAAC,CAAC;AAE7E;AACAU,IAAAA,eAAe,EACbX,UAAU,IAAIK,QAAQ,IAAI,CAACD,UAAU,GAAG,aAAa,GAAGsB,KAAK,CAAC3B,KAAK,EAAEW,UAAU,WAAQ,CAAC;AAC1FqB,IAAAA,YAAY,EAAE1B,QAAQ,IAAI,CAACD,UAAU,GAAGL,KAAK,CAACQ,MAAM,CAACyB,MAAM,CAACC,KAAK,GAAG,CAAA;AAAC,GAAA,EAAA,EAAA,CAAAC,MAAA,CACjE3B,MAAM,YAAU,OAAO,CAAA,EAAA,EAAA,CAAA2B,MAAA,CACvB3B,MAAM,YAAUF,QAAQ,GACxB,CAAC,GACD8B,cAAc,CAAC/B,UAAU,GAAGL,KAAK,CAACQ,MAAM,CAACgB,KAAK,CAACa,KAAK,GAAGrC,KAAK,CAACQ,MAAM,CAACgB,KAAK,CAACc,IAAI,CAAC,CAAAH,EAAAA,EAAAA,CAAAA,MAAA,CAC/E3B,MAAM,EAAA,OAAA,CAAA,EACRH,UAAU,IAAIJ,UAAU,GAAGD,KAAK,CAACuC,MAAM,CAACC,WAAW,CAAChC,MAAM,CAACiC,OAAO,CAAQ,SAAA,CAAA,GAAG,aAAa,CAG5F,EAAA,SAAS,EAAA5B,eAAA,CAAAA,eAAA,CAAAsB,EAAAA,EAAAA,EAAAA,CAAAA,MAAA,CACH3B,MAAM,EAAA,OAAA,CAAA,EACRH,UAAU,IAAIJ,UAAU,GACpBD,KAAK,CAACuC,MAAM,CAACC,WAAW,CAAChC,MAAM,CAACiC,OAAO,CAAQ,SAAA,CAAA,GAC/CzC,KAAK,CAACuC,MAAM,CAACC,WAAW,CAAChC,MAAM,CAACkC,IAAI,CAACC,WAAW,CAAA,EAAA,iBAAA;AAEpD;AACA;AACA1C,EAAAA,UAAU,IAAIK,QAAQ,IAAI,CAACD,UAAU,GACjC,aAAa,GACbsB,KAAK,CAAC3B,KAAK,EAAEW,UAAU,CAACgC,WAAW,CAAC,CAAA,CAAA,EAE5C,YAAY,EAAE;AACZ1B,IAAAA,MAAM,EAAE,aAAa;AACrBL,IAAAA,eAAe,EAAEe,KAAK,CAAC3B,KAAK,EAAEW,UAAU,CAACiC,QAAQ,CAAA;GAClD,CAAA,EACD,iBAAiB,EAAE;IACjBZ,YAAY,EAAEV,SAAS,CAACtB,KAAK,CAACQ,MAAM,CAACyB,MAAM,CAACY,MAAM,CAAC;AACnDC,IAAAA,SAAS,EAAAX,kBAAAA,CAAAA,MAAA,CAAqBnC,KAAK,CAACuC,MAAM,CAACQ,OAAO,CAACvC,MAAM,CAACiC,OAAO,CAACO,KAAK,CAAE;AACzEpC,IAAAA,eAAe,EAAEe,KAAK,CAAC3B,KAAK,EAAEW,UAAU,CAACgC,WAAW,CAAA;AACtD,GAAC,CAEmB,EAAA,oBAAA,EAAA,KAAK,CACCM,EAAAA,0BAAAA,EAAAA,WAAW,CAACjD,KAAK,CAACkD,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAA,EAAA,oBAAA,EAC/CH,WAAW,CAACI,cAAc,CAACrD,KAAK,CAACkD,MAAM,CAACI,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAA,EAC7E,GAAG,EAAE;AACHC,IAAAA,kBAAkB,EAAE,aAAa;IACjCC,wBAAwB,EAAER,WAAW,CAACjD,KAAK,CAACkD,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAC;AACnEM,IAAAA,kBAAkB,EAAET,WAAW,CAACI,cAAc,CAACrD,KAAK,CAACkD,MAAM,CAACI,QAAQ,CAACK,MAAM,CAAC,CAAA;GAC7E,CAAA,CAAA;AAEL,CAAC,CAAC,CAAA;AAEF,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAAC,KAAA,EAS2B;AAAA,EAAA,IARtCC,QAAQ,GAAAD,KAAA,CAARC,QAAQ;IACRC,KAAK,GAAAF,KAAA,CAALE,KAAK;IACIC,OAAO,GAAAH,KAAA,CAAhBI,OAAO;IACPC,QAAQ,GAAAL,KAAA,CAARK,QAAQ;IAAAC,gBAAA,GAAAN,KAAA,CACRO,UAAU;AAAVA,IAAAA,UAAU,GAAAD,gBAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,gBAAA;IAClBE,IAAI,GAAAR,KAAA,CAAJQ,IAAI;IACJC,QAAO,GAAAT,KAAA,CAAPS,OAAO;AACJC,IAAAA,IAAI,GAAAC,wBAAA,CAAAX,KAAA,EAAAY,SAAA,CAAA,CAAA;AAEP,EAAA,IAAAC,eAAA,GAQIC,cAAc,EAAE;IAPlBzE,IAAI,GAAAwE,eAAA,CAAJxE,IAAI;IACJE,kBAAkB,GAAAsE,eAAA,CAAlBtE,kBAAkB;IAClBwE,aAAa,GAAAF,eAAA,CAAbE,aAAa;IACbC,gBAAgB,GAAAH,eAAA,CAAhBG,gBAAgB;IAChBC,MAAM,GAAAJ,eAAA,CAANI,MAAM;IACN3E,OAAO,GAAAuE,eAAA,CAAPvE,OAAO;IACPE,UAAU,GAAAqE,eAAA,CAAVrE,UAAU,CAAA;AAEZ,EAAA,IAAA0E,eAAA,GAAoDC,cAAc,EAAE;IAA5DC,kBAAkB,GAAAF,eAAA,CAAlBE,kBAAkB;AAAKC,IAAAA,gBAAgB,GAAAV,wBAAA,CAAAO,eAAA,EAAAI,UAAA,CAAA,CAAA;AAC/C,EAAA,IAAMC,0BAA0B,GAAGC,0BAA0B,CAACnB,QAAQ,EAAEhE,IAAK,CAAC,CAAA;AAC9E,EAAA,IAAMD,UAAU,GAAG2E,aAAa,KAAKb,KAAK,CAAA;AAC1C,EAAA,IAAMtD,aAAa,GAAGR,UAAU,GAAG,UAAU,GAAG,YAAY,CAAA;EAC5D,IAAMqF,OAAO,MAAAnD,MAAA,CAAM2C,MAAM,EAAA3C,GAAAA,CAAAA,CAAAA,MAAA,CAAI4B,KAAK,EAAW,WAAA,CAAA,CAAA;EAC7C,IAAMwB,SAAS,MAAApD,MAAA,CAAM2C,MAAM,EAAA3C,GAAAA,CAAAA,CAAAA,MAAA,CAAI4B,KAAK,EAAU,UAAA,CAAA,CAAA;AAC9C,EAAA,IAAMzD,QAAQ,GAAGH,OAAO,KAAK,QAAQ,CAAA;AAErC,EAAA,IAAMqF,cAAc,GAAG;AACrB,IAAA,SAAA,EAAS,SAAS;AAClBC,IAAAA,KAAK,EAAE,aAAa;AACpBC,IAAAA,KAAK,EAAE,aAAa;AACpB9C,IAAAA,QAAQ,EAAE,UAAA;GACF,CAAA;EACV,IAAM+C,WAAW,GAAGvB,UAAU,GAAG,UAAU,GAAGoB,cAAc,CAACP,kBAAkB,CAAC,CAAA;EAEhF,oBACEW,GAAA,CAACC,aAAa,EAAA;AACZC,IAAAA,MAAM,eACJC,IAAA,CAACtG,eAAe,EAAAuG,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA;AACdC,MAAAA,IAAI,EAAC,QAAQ;AACbC,MAAAA,EAAE,EAAE7B,IAAI,GAAG,GAAG,GAAG,QAAS;AAC1BA,MAAAA,IAAI,EAAEA,IAAK;AACXhE,MAAAA,UAAU,EAAEA,UAAW;AACvBJ,MAAAA,UAAU,EAAEA,UAAW;AACvBE,MAAAA,OAAO,EAAEA,OAAS;MAClBC,kBAAkB,EAAEA,kBAAkB,IAAIE,QAAS;AACnD6F,MAAAA,EAAE,EAAEZ,SAAU;AACdrF,MAAAA,IAAI,EAAEA,IAAK;AACX0C,MAAAA,QAAQ,EAAEwB,UAAAA;AAAW,KAAA,EACjBc,gBAAgB,CAAA,EAAA,EAAA,EAAA;AACpBZ,MAAAA,OAAO,EAAE,SAATA,OAAOA,CAAG8B,CAAmB,EAAK;AAChCvB,QAAAA,gBAAgB,KAAhBA,IAAAA,IAAAA,gBAAgB,KAAhBA,KAAAA,CAAAA,IAAAA,gBAAgB,CAAG,YAAA;AAAA,UAAA,OAAMd,KAAK,CAAA;SAAC,CAAA,CAAA;AAC/BO,QAAAA,QAAO,aAAPA,QAAO,KAAA,KAAA,CAAA,IAAPA,QAAO,CAAG8B,CAAC,CAAC,CAAA;AACd,OAAA;AAAE,KAAA,EACEC,cAAc,CAAC;AACjBC,MAAAA,IAAI,EAAE,KAAK;AACXC,MAAAA,QAAQ,EAAEtG,UAAU;AACpBuG,MAAAA,QAAQ,EAAElB,OAAAA;KACX,CAAC,CACEmB,EAAAA,aAAa,CAAC;MAAEC,IAAI,EAAEC,aAAa,CAAC/C,OAAAA;AAAQ,KAAC,CAAC,CAAA,EAC9CgD,sBAAsB,CAACrC,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAAAT,MAAAA,QAAA,EAE/BE,CAAAA,OAAO,gBACN4B,GAAA,CAAC5B,OAAO,EAAA;AAAC9D,QAAAA,IAAI,EAAE2G,WAAW,CAAC3G,IAAI,CAAG;AAAC4G,QAAAA,KAAK,EAAEC,SAAS,CAACtG,aAAa,CAAC,CAACkF,WAAW,CAAA;OAAI,CAAC,GACjF,IAAI,EAEP7B,QAAQ,gBACP8B,GAAA,CAACoB,IAAI,EAAA;AACHF,QAAAA,KAAK,EAAEG,SAAS,CAACxG,aAAa,CAAC,CAACkF,WAAW,CAAE;AAC7CzF,QAAAA,IAAI,EAAEgH,WAAW,CAAChH,IAAI,CAAG;AACzBiH,QAAAA,MAAM,EAAC,UAAU;AAAArD,QAAAA,QAAA,EAEhBA,QAAAA;AAAQ,OACL,CAAC,GACL,IAAI,EAEPsB,0BAA0B,CAAA;KACZ,CAAA,CAAA;AAClB,GACF,CAAC,CAAA;AAEN;;;;"}