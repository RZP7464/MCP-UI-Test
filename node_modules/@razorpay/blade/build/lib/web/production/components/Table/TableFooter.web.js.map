{"version":3,"file":"TableFooter.web.js","sources":["../../../../../../src/components/Table/TableFooter.web.tsx"],"sourcesContent":["import React from 'react';\nimport { Footer, FooterRow, FooterCell } from '@table-library/react-table-library/table';\nimport styled from 'styled-components';\nimport { tableFooter, tableRow, classes } from './tokens';\nimport { ComponentIds } from './componentIds';\nimport type {\n  TableFooterProps,\n  TableFooterRowProps,\n  TableFooterCellProps,\n  TableBackgroundColors,\n  TableProps,\n} from './types';\nimport { useTableContext } from './TableContext';\nimport { Text } from '~components/Typography';\nimport { makeSize, makeSpace } from '~utils';\nimport { MetaConstants, metaAttribute } from '~utils/metaAttribute';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport getIn from '~utils/lodashButBetter/get';\nimport { size } from '~tokens/global';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst StyledFooter = styled(Footer)(({ theme }) => ({\n  '&&&': {\n    backgroundColor: getIn(theme.colors, tableFooter.backgroundColor),\n    '& tr:last-child th': {\n      borderBottom: 'none',\n    },\n  },\n}));\n\nconst _TableFooter = ({ children, ...rest }: TableFooterProps): React.ReactElement => {\n  return (\n    <StyledFooter\n      isFooter\n      {...metaAttribute({ name: MetaConstants.TableFooter })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {children}\n    </StyledFooter>\n  );\n};\n\nconst TableFooter = assignWithoutSideEffects(_TableFooter, {\n  componentId: ComponentIds.TableFooter,\n});\n\nconst StyledFooterRow = styled(FooterRow)<{ $showBorderedCells: boolean }>(\n  ({ theme, $showBorderedCells }) => ({\n    '& th': $showBorderedCells\n      ? {\n          borderRightWidth: makeSpace(getIn(theme.border.width, tableRow.borderBottomWidth)),\n          borderRightColor: getIn(theme.colors, tableRow.borderColor),\n          borderRightStyle: 'solid',\n        }\n      : undefined,\n    '& th:last-child ': {\n      borderRight: 'none',\n    },\n  }),\n);\n\nconst _TableFooterRow = ({ children, ...rest }: TableFooterRowProps): React.ReactElement => {\n  const { showBorderedCells } = useTableContext();\n  return (\n    <StyledFooterRow\n      {...metaAttribute({ name: MetaConstants.TableFooterRow })}\n      {...makeAnalyticsAttribute(rest)}\n      $showBorderedCells={showBorderedCells}\n    >\n      {children}\n    </StyledFooterRow>\n  );\n};\n\nconst TableFooterRow = assignWithoutSideEffects(_TableFooterRow, {\n  componentId: ComponentIds.TableFooterRow,\n});\n\nconst StyledFooterCell = styled(FooterCell)<{\n  $backgroundColor: TableBackgroundColors;\n  $rowDensity: NonNullable<TableProps<unknown>['rowDensity']>;\n  $textAlign?: string;\n  gridRow?: string;\n}>(({ theme, $backgroundColor, $rowDensity, $textAlign, gridRow }) => ({\n  '&&&': {\n    height: '100%',\n    backgroundColor: getIn(theme.colors, $backgroundColor),\n    borderBottomWidth: makeSpace(getIn(theme.border.width, tableFooter.borderBottomAndTopWidth)),\n    borderTopWidth: makeSpace(getIn(theme.border.width, tableFooter.borderBottomAndTopWidth)),\n    borderBottomColor: getIn(theme.colors, tableFooter.borderBottomAndTopColor),\n    borderTopColor: getIn(theme.colors, tableFooter.borderBottomAndTopColor),\n    borderBottomStyle: 'solid',\n    borderTopStyle: 'solid',\n    gridRow,\n    '> div': {\n      backgroundColor: getIn(theme.colors, tableFooter.backgroundColor),\n      display: 'flex',\n      flexDirection: 'row',\n      height: '100%',\n      paddingLeft: makeSpace(getIn(theme, tableRow.paddingLeft[$rowDensity])),\n      paddingRight: makeSpace(getIn(theme, tableRow.paddingRight[$rowDensity])),\n      minHeight: makeSize(getIn(size, tableRow.minHeight[$rowDensity])),\n      alignItems: 'center',\n      justifyContent: $textAlign ? $textAlign : 'left',\n    },\n  },\n}));\n\nconst _TableFooterCell = ({\n  children,\n  textAlign,\n  gridColumnStart,\n  gridColumnEnd,\n  gridRowStart,\n  gridRowEnd,\n  ...rest\n}: TableFooterCellProps): React.ReactElement => {\n  const isChildrenString = typeof children === 'string';\n  const { backgroundColor, rowDensity } = useTableContext();\n\n  const hasRowSpan = Boolean(gridRowStart && gridRowEnd);\n  const gridRowValue = hasRowSpan ? `${gridRowStart} / ${gridRowEnd}` : undefined;\n\n  return (\n    <StyledFooterCell\n      className={hasRowSpan ? classes.HAS_ROW_SPANNING : ''}\n      gridColumnStart={gridColumnStart}\n      gridColumnEnd={gridColumnEnd}\n      gridRow={gridRowValue}\n      $backgroundColor={backgroundColor}\n      $rowDensity={rowDensity}\n      $textAlign={textAlign}\n      {...metaAttribute({ name: MetaConstants.TableFooterCell })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {isChildrenString ? (\n        <Text color=\"surface.text.gray.subtle\" size=\"small\" weight=\"medium\">\n          {children}\n        </Text>\n      ) : (\n        children\n      )}\n    </StyledFooterCell>\n  );\n};\n\nconst TableFooterCell = assignWithoutSideEffects(_TableFooterCell, {\n  componentId: ComponentIds.TableFooterCell,\n});\n\nexport { TableFooter, TableFooterRow, TableFooterCell };\n"],"names":["StyledFooter","styled","Footer","withConfig","displayName","componentId","_ref","theme","backgroundColor","getIn","colors","tableFooter","borderBottom","_TableFooter","_ref2","children","rest","_objectWithoutProperties","_excluded","_jsx","_objectSpread","isFooter","metaAttribute","name","MetaConstants","TableFooter","makeAnalyticsAttribute","assignWithoutSideEffects","ComponentIds","StyledFooterRow","FooterRow","_ref3","$showBorderedCells","borderRightWidth","makeSpace","border","width","tableRow","borderBottomWidth","borderRightColor","borderColor","borderRightStyle","undefined","borderRight","_TableFooterRow","_ref4","_excluded2","_useTableContext","useTableContext","showBorderedCells","TableFooterRow","StyledFooterCell","FooterCell","_ref5","$backgroundColor","$rowDensity","$textAlign","gridRow","height","borderBottomAndTopWidth","borderTopWidth","borderBottomColor","borderBottomAndTopColor","borderTopColor","borderBottomStyle","borderTopStyle","display","flexDirection","paddingLeft","paddingRight","minHeight","makeSize","size","alignItems","justifyContent","_TableFooterCell","_ref6","textAlign","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","_excluded3","isChildrenString","_useTableContext2","rowDensity","hasRowSpan","Boolean","gridRowValue","concat","className","classes","HAS_ROW_SPANNING","TableFooterCell","Text","color","weight"],"mappings":"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"}