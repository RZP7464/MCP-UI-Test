{"version":3,"file":"Text.js","sources":["../../../../../../../src/components/Typography/Text/Text.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { BaseText } from '../BaseText';\nimport type { BaseTextProps, BaseTextSizes } from '../BaseText/types';\nimport { useValidateAsProp } from '../utils';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport type { BladeElementRef, TestID, ElementTiming } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { throwBladeError } from '~utils/logger';\n\nconst validAsValues = ['p', 'span', 'div', 'abbr', 'figcaption', 'cite', 'q', 'label'] as const;\ntype TextCommonProps = {\n  as?: typeof validAsValues[number];\n  truncateAfterLines?: number;\n  children: React.ReactNode;\n  weight?: Extract<BaseTextProps['fontWeight'], 'regular' | 'medium' | 'semibold'>;\n  /**\n   * Overrides the color of the Text component.\n   *\n   * **Note** This takes priority over `type` and `contrast` prop to decide color of text\n   */\n  color?: BaseTextProps['color'];\n  textAlign?: BaseTextProps['textAlign'];\n  textTransform?: BaseTextProps['textTransform'];\n  textDecorationLine?: BaseTextProps['textDecorationLine'];\n  wordBreak?: BaseTextProps['wordBreak'];\n} & TestID &\n  ElementTiming &\n  StyledPropsBlade;\n\nexport type TextVariant = 'body' | 'caption';\n\ntype TextBodyVariant = TextCommonProps & {\n  variant?: Extract<TextVariant, 'body'>;\n  size?: Extract<BaseTextSizes, 'xsmall' | 'small' | 'medium' | 'large'>;\n};\n\ntype TextCaptionVariant = TextCommonProps & {\n  variant?: Extract<TextVariant, 'caption'>;\n  size?: Extract<BaseTextSizes, 'small' | 'medium'>;\n};\n\nexport type TextProps<T> = T extends { variant: infer Variant }\n  ? Variant extends 'caption'\n    ? TextCaptionVariant\n    : Variant extends 'body'\n    ? TextBodyVariant\n    : T\n  : T;\n\ntype GetTextPropsReturn = Omit<BaseTextProps, 'children'>;\ntype GetTextProps<T extends { variant: TextVariant }> = Pick<\n  TextProps<T>,\n  | 'variant'\n  | 'weight'\n  | 'size'\n  | 'color'\n  | 'testID'\n  | 'textAlign'\n  | 'textDecorationLine'\n  | 'textTransform'\n>;\n\nconst getTextProps = <T extends { variant: TextVariant }>({\n  variant,\n  weight,\n  size,\n  color = 'surface.text.gray.normal',\n  testID,\n  textAlign,\n  textDecorationLine,\n}: GetTextProps<T>): GetTextPropsReturn => {\n  const props: GetTextPropsReturn = {\n    color,\n    fontSize: 100,\n    fontWeight: weight ?? 'regular',\n    fontStyle: 'normal',\n    lineHeight: 100,\n    fontFamily: 'text',\n    componentName: 'text',\n    testID,\n    textAlign,\n    textDecorationLine,\n  };\n\n  if (variant === 'caption') {\n    // variant of caption can only have size of small\n    if (size && size !== 'small' && size !== 'medium') {\n      if (__DEV__) {\n        throwBladeError({\n          moduleName: 'Text',\n          message: `size cannot be '${size}' when variant is 'caption'`,\n        });\n      }\n      // Set size as small in case of invalid size\n      size = 'small';\n    }\n  } else if (variant !== 'caption' && !size) {\n    size = 'medium';\n  }\n\n  if (variant === 'body') {\n    if (size === 'xsmall') {\n      props.fontSize = 25;\n      props.lineHeight = 25;\n    }\n    if (size === 'small') {\n      props.fontSize = 75;\n      props.lineHeight = 75;\n    }\n    if (size === 'medium') {\n      props.fontSize = 100;\n      props.lineHeight = 100;\n    }\n    if (size === 'large') {\n      props.fontSize = 200;\n      props.lineHeight = 200;\n    }\n  }\n  if (variant === 'caption') {\n    if (size === 'small') {\n      props.fontSize = 50;\n      props.lineHeight = 50;\n      props.fontWeight = 'regular';\n    }\n    if (size === 'medium') {\n      props.fontSize = 100;\n      props.lineHeight = 50;\n      props.fontWeight = 'regular';\n    }\n  }\n\n  return props;\n};\n\nconst _Text = <T extends { variant: TextVariant }>(\n  {\n    as = 'p',\n    variant = 'body',\n    weight = 'regular',\n    size,\n    truncateAfterLines,\n    children,\n    color,\n    testID,\n    textAlign,\n    textDecorationLine,\n    wordBreak,\n    textTransform,\n    elementtiming,\n    ...styledProps\n  }: TextProps<T>,\n  ref: React.Ref<BladeElementRef>,\n): ReactElement => {\n  const props: Omit<BaseTextProps, 'children'> = {\n    as,\n    truncateAfterLines,\n    wordBreak,\n    textTransform,\n    elementtiming,\n    ...getTextProps({\n      variant,\n      weight,\n      color,\n      size,\n      testID,\n      textAlign,\n      textDecorationLine,\n    }),\n  };\n\n  useValidateAsProp({ componentName: 'Text', as, validAsValues });\n\n  return (\n    <BaseText ref={ref} {...props} {...getStyledProps(styledProps)}>\n      {children}\n    </BaseText>\n  );\n};\n\nconst Text = assignWithoutSideEffects(React.forwardRef(_Text), {\n  displayName: 'Text',\n  componentId: 'Text',\n});\n\nexport { Text, getTextProps };\n"],"names":["validAsValues","getTextProps","_ref","variant","weight","size","_ref$color","color","testID","textAlign","textDecorationLine","props","fontSize","fontWeight","fontStyle","lineHeight","fontFamily","componentName","throwBladeError","moduleName","message","concat","_Text","_ref2","ref","_ref2$as","as","_ref2$variant","_ref2$weight","truncateAfterLines","children","wordBreak","textTransform","elementtiming","styledProps","_objectWithoutProperties","_excluded","_objectSpread","useValidateAsProp","_jsx","BaseText","getStyledProps","Text","assignWithoutSideEffects","React","forwardRef","displayName","componentId"],"mappings":"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"}