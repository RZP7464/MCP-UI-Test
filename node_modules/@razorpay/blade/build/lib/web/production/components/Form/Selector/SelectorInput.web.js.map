{"version":3,"file":"SelectorInput.web.js","sources":["../../../../../../../src/components/Form/Selector/SelectorInput.web.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-types */\nimport type { CSSObject } from 'styled-components';\nimport React from 'react';\nimport styled from 'styled-components';\nimport type { HoverProps, SelectorInputProps } from './types';\nimport getIn from '~utils/lodashButBetter/get';\nimport type { Theme } from '~components/BladeProvider';\nimport { castWebType } from '~utils';\nimport { screenReaderStyles } from '~components/VisuallyHidden';\nimport type { BladeElementRef } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeMotionTime } from '~utils/makeMotionTime';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { useMergeRefs } from '~utils/useMergeRefs';\nimport { getFocusRingStyles } from '~utils/getFocusRingStyles';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst getHoverStyles = ({\n  theme,\n  isDisabled,\n  hasError,\n  isChecked,\n  hoverTokens,\n}: { theme: Theme } & HoverProps): CSSObject => {\n  if (isDisabled || hasError) return {};\n\n  const checked = isChecked ? 'checked' : 'unchecked';\n  const backgroundColor = hoverTokens.default.background[checked];\n  const borderColor = hoverTokens.default.border?.[checked];\n\n  return {\n    borderColor: borderColor ? getIn(theme, borderColor) : undefined,\n    backgroundColor: getIn(theme, backgroundColor),\n    transitionTimingFunction: theme.motion.easing.standard as string,\n    transitionDuration: castWebType(makeMotionTime(theme.motion.duration['2xquick'])),\n  };\n};\n\nconst StyledInput = styled.input<HoverProps>(\n  ({ theme, isChecked, isDisabled, hasError, hoverTokens }) => ({\n    ...screenReaderStyles,\n    '&:focus-visible + div': {\n      ...getFocusRingStyles({ theme }),\n    },\n    '&:hover + div': {\n      ...getHoverStyles({ theme, isChecked, isDisabled, hasError, hoverTokens }),\n    },\n  }),\n);\n\nconst _SelectorInput: React.ForwardRefRenderFunction<BladeElementRef, SelectorInputProps> = (\n  {\n    id,\n    inputProps,\n    isChecked,\n    isDisabled,\n    hasError,\n    hoverTokens,\n    tabIndex,\n    accessibilityLabel,\n    ...rest\n  },\n  ref,\n) => {\n  // merging both refs because inputProps.ref needs to have access to indeterminate state\n  // to be able to set the mixed value via setMixed() function\n  // TODO: replace with a generic `mergeRefs()` util if we do this in other places\n  const mergedRef = useMergeRefs(ref, inputProps.ref);\n\n  return (\n    <StyledInput\n      id={id}\n      isChecked={isChecked}\n      isDisabled={isDisabled}\n      hasError={hasError}\n      tabIndex={tabIndex}\n      hoverTokens={hoverTokens}\n      {...inputProps}\n      {...makeAccessible({ label: accessibilityLabel })}\n      {...makeAnalyticsAttribute(rest)}\n      ref={mergedRef}\n    />\n  );\n};\n\nconst SelectorInput = assignWithoutSideEffects(React.forwardRef(_SelectorInput), {\n  displayName: 'SelectorInput',\n});\n\nexport { SelectorInput };\n"],"names":["getHoverStyles","_ref","_hoverTokens$default$","theme","isDisabled","hasError","isChecked","hoverTokens","checked","backgroundColor","background","borderColor","border","getIn","undefined","transitionTimingFunction","motion","easing","standard","transitionDuration","castWebType","makeMotionTime","duration","StyledInput","styled","input","withConfig","displayName","componentId","_ref2","_objectSpread","screenReaderStyles","getFocusRingStyles","_SelectorInput","_ref3","ref","id","inputProps","tabIndex","accessibilityLabel","rest","_objectWithoutProperties","_excluded","mergedRef","useMergeRefs","_jsx","makeAccessible","label","makeAnalyticsAttribute","SelectorInput","assignWithoutSideEffects","React","forwardRef"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,IAAMA,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAM4B;AAAA,EAAA,IAAAC,qBAAA,CAAA;AAAA,EAAA,IAL9CC,KAAK,GAAAF,IAAA,CAALE,KAAK;IACLC,UAAU,GAAAH,IAAA,CAAVG,UAAU;IACVC,QAAQ,GAAAJ,IAAA,CAARI,QAAQ;IACRC,SAAS,GAAAL,IAAA,CAATK,SAAS;IACTC,WAAW,GAAAN,IAAA,CAAXM,WAAW,CAAA;AAEX,EAAA,IAAIH,UAAU,IAAIC,QAAQ,EAAE,OAAO,EAAE,CAAA;AAErC,EAAA,IAAMG,OAAO,GAAGF,SAAS,GAAG,SAAS,GAAG,WAAW,CAAA;EACnD,IAAMG,eAAe,GAAGF,WAAW,CAAA,SAAA,CAAQ,CAACG,UAAU,CAACF,OAAO,CAAC,CAAA;AAC/D,EAAA,IAAMG,WAAW,GAAA,CAAAT,qBAAA,GAAGK,WAAW,CAAQ,SAAA,CAAA,CAACK,MAAM,MAAA,IAAA,IAAAV,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA1BA,qBAAA,CAA6BM,OAAO,CAAC,CAAA;EAEzD,OAAO;IACLG,WAAW,EAAEA,WAAW,GAAGE,KAAK,CAACV,KAAK,EAAEQ,WAAW,CAAC,GAAGG,SAAS;AAChEL,IAAAA,eAAe,EAAEI,KAAK,CAACV,KAAK,EAAEM,eAAe,CAAC;AAC9CM,IAAAA,wBAAwB,EAAEZ,KAAK,CAACa,MAAM,CAACC,MAAM,CAACC,QAAkB;AAChEC,IAAAA,kBAAkB,EAAEC,WAAW,CAACC,cAAc,CAAClB,KAAK,CAACa,MAAM,CAACM,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAA;GACjF,CAAA;AACH,CAAC,CAAA;AAED,IAAMC,WAAW,gBAAGC,MAAM,CAACC,KAAK,CAAAC,UAAA,CAAA;EAAAC,WAAA,EAAA,+BAAA;EAAAC,WAAA,EAAA,cAAA;AAAA,CAAA,CAAA,CAC9B,UAAAC,KAAA,EAAA;AAAA,EAAA,IAAG1B,KAAK,GAAA0B,KAAA,CAAL1B,KAAK;IAAEG,SAAS,GAAAuB,KAAA,CAATvB,SAAS;IAAEF,UAAU,GAAAyB,KAAA,CAAVzB,UAAU;IAAEC,QAAQ,GAAAwB,KAAA,CAARxB,QAAQ;IAAEE,WAAW,GAAAsB,KAAA,CAAXtB,WAAW,CAAA;AAAA,EAAA,OAAAuB,aAAA,CAAAA,aAAA,CAAA,EAAA,EACjDC,kBAAkB,CAAA,EAAA,EAAA,EAAA;AACrB,IAAA,uBAAuB,EAAAD,aAAA,CAClBE,EAAAA,EAAAA,kBAAkB,CAAC;AAAE7B,MAAAA,KAAK,EAALA,KAAAA;AAAM,KAAC,CAAC,CACjC;AACD,IAAA,eAAe,EAAA2B,aAAA,CACV9B,EAAAA,EAAAA,cAAc,CAAC;AAAEG,MAAAA,KAAK,EAALA,KAAK;AAAEG,MAAAA,SAAS,EAATA,SAAS;AAAEF,MAAAA,UAAU,EAAVA,UAAU;AAAEC,MAAAA,QAAQ,EAARA,QAAQ;AAAEE,MAAAA,WAAW,EAAXA,WAAAA;AAAY,KAAC,CAAC,CAAA;AAC3E,GAAA,CAAA,CAAA;AAAA,CACD,CACH,CAAA;AAED,IAAM0B,cAAmF,GAAG,SAAtFA,cAAmFA,CAAAC,KAAA,EAYvFC,GAAG,EACA;AAAA,EAAA,IAXDC,EAAE,GAAAF,KAAA,CAAFE,EAAE;IACFC,UAAU,GAAAH,KAAA,CAAVG,UAAU;IACV/B,SAAS,GAAA4B,KAAA,CAAT5B,SAAS;IACTF,UAAU,GAAA8B,KAAA,CAAV9B,UAAU;IACVC,QAAQ,GAAA6B,KAAA,CAAR7B,QAAQ;IACRE,WAAW,GAAA2B,KAAA,CAAX3B,WAAW;IACX+B,QAAQ,GAAAJ,KAAA,CAARI,QAAQ;IACRC,kBAAkB,GAAAL,KAAA,CAAlBK,kBAAkB;AACfC,IAAAA,IAAI,GAAAC,wBAAA,CAAAP,KAAA,EAAAQ,SAAA,CAAA,CAAA;AAIT;AACA;AACA;EACA,IAAMC,SAAS,GAAGC,YAAY,CAACT,GAAG,EAAEE,UAAU,CAACF,GAAG,CAAC,CAAA;EAEnD,oBACEU,GAAA,CAACtB,WAAW,EAAAO,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAA;AACVM,IAAAA,EAAE,EAAEA,EAAG;AACP9B,IAAAA,SAAS,EAAEA,SAAU;AACrBF,IAAAA,UAAU,EAAEA,UAAW;AACvBC,IAAAA,QAAQ,EAAEA,QAAS;AACnBiC,IAAAA,QAAQ,EAAEA,QAAS;AACnB/B,IAAAA,WAAW,EAAEA,WAAAA;GACT8B,EAAAA,UAAU,CACVS,EAAAA,cAAc,CAAC;AAAEC,IAAAA,KAAK,EAAER,kBAAAA;AAAmB,GAAC,CAAC,CAAA,EAC7CS,sBAAsB,CAACR,IAAI,CAAC,CAAA,EAAA,EAAA,EAAA;AAChCL,IAAAA,GAAG,EAAEQ,SAAAA;AAAU,GAAA,CAChB,CAAC,CAAA;AAEN,CAAC,CAAA;AAEKM,IAAAA,aAAa,gBAAGC,wBAAwB,cAACC,cAAK,CAACC,UAAU,CAACnB,cAAc,CAAC,EAAE;AAC/EN,EAAAA,WAAW,EAAE,eAAA;AACf,CAAC;;;;"}