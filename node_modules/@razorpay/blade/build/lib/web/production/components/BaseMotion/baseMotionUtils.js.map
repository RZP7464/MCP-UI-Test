{"version":3,"file":"baseMotionUtils.js","sources":["../../../../../../src/components/BaseMotion/baseMotionUtils.ts"],"sourcesContent":["import type { BaseMotionBoxProps, MotionTriggersType, MotionVariantsType } from './types';\n\n// This type is exported in new framer-motion versions but does not exist in earlier versions so adding it manually here\ntype AnimationType = 'animate' | 'whileHover' | 'whileInView' | 'whileTap' | 'whileFocus';\n\nconst motionTriggersArrayToGesturePropsMap: Record<\n  Exclude<MotionTriggersType, 'on-animate-interactions'>,\n  AnimationType\n> = {\n  mount: 'animate',\n  hover: 'whileHover',\n  'in-view': 'whileInView',\n  tap: 'whileTap',\n  focus: 'whileFocus',\n};\n\ntype AnimationVariablesType = Partial<\n  Record<Exclude<AnimationType, 'animate'>, keyof MotionVariantsType>\n> & {\n  animate?: BaseMotionBoxProps['animateVisibility'] | BaseMotionBoxProps['animate'];\n};\n\nconst makeAnimationVariables = (\n  motionTriggers: MotionTriggersType[],\n  { animateVisibility }: { animateVisibility: BaseMotionBoxProps['animateVisibility'] },\n): AnimationVariablesType & {\n  initial: string;\n  exit: string;\n} => {\n  const interactionVariables = motionTriggers.reduce<AnimationVariablesType>(\n    (prevProps, currentTrigger) => {\n      if (currentTrigger === 'on-animate-interactions') {\n        return prevProps;\n      }\n\n      // Sometimes animations are conditional. In those cases we use those conditional values in animate\n      if (currentTrigger === 'mount' && animateVisibility) {\n        prevProps.animate = animateVisibility;\n        return prevProps;\n      }\n\n      prevProps[motionTriggersArrayToGesturePropsMap[currentTrigger]] = 'animate';\n      return prevProps;\n    },\n    {},\n  );\n\n  return { initial: 'initial', exit: 'exit', ...interactionVariables };\n};\n\nconst useMotionVariants = (\n  motionVariants: BaseMotionBoxProps['motionVariants'],\n  type: BaseMotionBoxProps['type'],\n): BaseMotionBoxProps['motionVariants'] => {\n  if (!motionVariants) {\n    return undefined;\n  }\n\n  const shouldSkipEntryAnimation = type === 'out';\n  const shouldSkipExitAnimation = type === 'in';\n\n  // We override durations to stop animations but still continue with the expected position changes\n  const newMotionVariants: BaseMotionBoxProps['motionVariants'] = {\n    initial: {\n      ...motionVariants.initial,\n    },\n    animate: {\n      ...motionVariants.animate,\n      transition: {\n        ...motionVariants.animate?.transition,\n        duration: shouldSkipEntryAnimation ? 0.0001 : motionVariants.animate?.transition?.duration,\n      },\n    },\n    exit: {\n      ...motionVariants.exit,\n      transition: {\n        ...motionVariants.exit.transition,\n        duration: shouldSkipExitAnimation ? 0.0001 : motionVariants.exit.transition?.duration,\n      },\n    },\n  };\n\n  return newMotionVariants;\n};\n\nexport { makeAnimationVariables, useMotionVariants };\n"],"names":["motionTriggersArrayToGesturePropsMap","mount","hover","tap","focus","makeAnimationVariables","motionTriggers","_ref","animateVisibility","interactionVariables","reduce","prevProps","currentTrigger","animate","_objectSpread","initial","exit","useMotionVariants","motionVariants","type","_motionVariants$anima","_motionVariants$anima2","_motionVariants$exit$","undefined","shouldSkipEntryAnimation","shouldSkipExitAnimation","newMotionVariants","transition","duration"],"mappings":"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"}