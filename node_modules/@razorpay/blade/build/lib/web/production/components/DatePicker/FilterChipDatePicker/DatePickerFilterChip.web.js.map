{"version":3,"file":"DatePickerFilterChip.web.js","sources":["../../../../../../../src/components/DatePicker/FilterChipDatePicker/DatePickerFilterChip.web.tsx"],"sourcesContent":["import { forwardRef } from 'react';\nimport { useDatesContext } from '@mantine/dates';\nimport type { DatePickerFilterChipProps } from '../types';\nimport { getFormattedDate } from '../utils';\nimport { BaseFilterChip } from '~components/FilterChip/BaseFilterChip';\nimport type { BladeElementRef } from '~utils/types';\n\nconst formatDateRange = (\n  date: Date | [Date, Date],\n  format: string,\n  locale: string,\n  selectionType: 'single' | 'range',\n): string => {\n  const formatOptions = {\n    date,\n    format,\n    labelSeparator: '-',\n    locale,\n    type: 'default' as const,\n  };\n\n  if (selectionType === 'single' && date instanceof Date) {\n    return getFormattedDate(formatOptions);\n  }\n\n  if (Array.isArray(date)) {\n    const [startDate, endDate] = date;\n    if (startDate) {\n      return `${getFormattedDate({ ...formatOptions, date: startDate })}  ${\n        endDate ? ' - ' : ''\n      } ${getFormattedDate({\n        ...formatOptions,\n        date: endDate,\n      })}`;\n    }\n  }\n  return '';\n};\n\nconst _DatePickerFilterChip: React.ForwardRefRenderFunction<\n  BladeElementRef,\n  DatePickerFilterChipProps & {\n    onClearButtonChange: (value: string) => void;\n  }\n> = (\n  {\n    ...props\n  }: DatePickerFilterChipProps & {\n    onClearButtonChange: (value: string) => void;\n  },\n  ref: React.ForwardedRef<BladeElementRef>,\n): React.ReactElement => {\n  const {\n    referenceProps,\n    label,\n    selectionType,\n    onClearButtonChange,\n    accessibilityLabel,\n    date,\n    format,\n    isDisabled,\n  } = props;\n  const { locale } = useDatesContext();\n\n  const dateValue = formatDateRange(date, format, locale, selectionType);\n\n  return (\n    <BaseFilterChip\n      ref={ref}\n      label={label}\n      value={dateValue}\n      onClearButtonClick={onClearButtonChange}\n      accessibilityProps={{\n        label: accessibilityLabel ?? label,\n        hasPopup: referenceProps['aria-haspopup'],\n        expanded: referenceProps['aria-expanded'],\n        controls: referenceProps['aria-controls'],\n        role: 'combobox',\n      }}\n      isDisabled={isDisabled}\n      {...referenceProps}\n    />\n  );\n};\n\nconst DatePickerFilterChip = forwardRef(_DatePickerFilterChip);\n\nexport { DatePickerFilterChip };\n"],"names":["formatDateRange","date","format","locale","selectionType","formatOptions","labelSeparator","type","Date","getFormattedDate","Array","isArray","_date","_slicedToArray","startDate","endDate","concat","_objectSpread","_DatePickerFilterChip","_ref","ref","props","_extends","_objectDestructuringEmpty","referenceProps","label","onClearButtonChange","accessibilityLabel","isDisabled","_useDatesContext","useDatesContext","dateValue","_jsx","BaseFilterChip","value","onClearButtonClick","accessibilityProps","hasPopup","expanded","controls","role","DatePickerFilterChip","forwardRef"],"mappings":"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"}