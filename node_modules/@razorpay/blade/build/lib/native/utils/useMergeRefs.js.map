{"version":3,"file":"useMergeRefs.js","sources":["../../../../src/utils/useMergeRefs.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport { useMemo } from 'react';\nimport { throwBladeError } from './logger';\n\ntype ReactRef<T> = React.RefCallback<T> | React.MutableRefObject<T>;\n\nfunction assignRef<T = any>(ref: ReactRef<T> | null | undefined, value: T) {\n  if (ref == null) return;\n\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n\n  try {\n    ref.current = value;\n  } catch (error: unknown) {\n    throwBladeError({\n      moduleName: 'useMergeRefs',\n      message: `Cannot assign value '${value}' to ref '${ref}'`,\n    });\n  }\n}\n\nfunction mergeRefs<T>(...refs: (ReactRef<T> | null | undefined)[]) {\n  return (node: T | null) => {\n    refs.forEach((ref) => {\n      assignRef(ref, node);\n    });\n  };\n}\n\n/**\n * Merged two or more refs into a single ref callback.\n *\n * Usage:\n * ```ts\n * const internalRef = React.useRef()\n * const ref = useMergeRefs(incomingRef, internalRef);\n * ```\n *\n *\n * Taken from ChakraUI:\n * https://github.com/chakra-ui/chakra-ui/blob/f3c4a492e5636d2745b438d10794fa4e7999b6de/packages/hooks/use-merge-refs/src/index.ts#L31\n */\nfunction useMergeRefs<T>(...refs: (ReactRef<T> | null | undefined)[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => mergeRefs(...refs), refs);\n}\n\nexport { useMergeRefs, mergeRefs };\n"],"names":["assignRef","ref","value","current","error","throwBladeError","moduleName","message","mergeRefs","_len","arguments","length","refs","Array","_key","node","forEach","useMergeRefs","_len2","_key2","useMemo","apply"],"mappings":";;;AAOA,SAASA,SAASA,CAAUC,GAAmC,CAAEC,KAAQ,CAAE,CACzE,GAAID,GAAG,EAAI,IAAI,CAAE,OAEjB,GAAI,OAAOA,GAAG,GAAK,UAAU,CAAE,CAC7BA,GAAG,CAACC,KAAK,CAAC,CACV,OACF,CAEA,GAAI,CACFD,GAAG,CAACE,OAAO,CAAGD,KAAK,CACrB,CAAE,MAAOE,KAAc,CAAE,CACvBC,eAAe,CAAC,CACdC,UAAU,CAAE,cAAc,CAC1BC,OAAO,CAAE,CAAwBL,qBAAAA,EAAAA,KAAK,aAAaD,GAAG,CAAA,CAAA,CACxD,CAAC,CAAC,CACJ,CACF,CAEA,SAASO,SAASA,EAAiD,CAAAC,IAAAA,IAAAA,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAA1CC,IAAI,KAAAC,KAAA,CAAAJ,IAAA,CAAAK,CAAAA,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,EAAJF,CAAAA,CAAAA,IAAI,CAAAE,IAAA,CAAA,CAAAJ,SAAA,CAAAI,IAAA,GAC3B,OAAO,SAACC,IAAc,CAAK,CACzBH,IAAI,CAACI,OAAO,CAAC,SAACf,GAAG,CAAK,CACpBD,SAAS,CAACC,GAAG,CAAEc,IAAI,CAAC,CACtB,CAAC,CAAC,CACJ,CAAC,CACH,CAeA,SAASE,YAAYA,EAAiD,CAAA,IAAA,IAAAC,KAAA,CAAAR,SAAA,CAAAC,MAAA,CAA1CC,IAAI,CAAA,IAAAC,KAAA,CAAAK,KAAA,EAAAC,KAAA,CAAA,CAAA,CAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,EAAA,CAAA,CAAJP,IAAI,CAAAO,KAAA,EAAAT,SAAA,CAAAS,KAAA,CAE9B,CAAA,CAAA,OAAOC,OAAO,CAAC,kBAAMZ,SAAS,CAAAa,KAAA,CAAA,KAAA,CAAA,CAAIT,IAAI,CAAC,CAAA,CAAA,CAAEA,IAAI,CAAC,CAChD;;;;"}