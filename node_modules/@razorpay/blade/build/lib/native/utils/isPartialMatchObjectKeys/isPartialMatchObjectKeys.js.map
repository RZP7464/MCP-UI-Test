{"version":3,"file":"isPartialMatchObjectKeys.js","sources":["../../../../../src/utils/isPartialMatchObjectKeys/isPartialMatchObjectKeys.ts"],"sourcesContent":["/* eslint-disable no-console */\nimport isObject from '~utils/lodashButBetter/isObject';\nimport { logger } from '~utils/logger';\n\nexport type DeepPartial<T> = {\n  [P in keyof T]?: T[P] extends Record<number | string, unknown> ? DeepPartial<T[P]> : T[P];\n};\n\nexport const isPartialMatchObjectKeys = <ActualObject>({\n  objectToMatch,\n  objectToInspect,\n}: {\n  objectToMatch: DeepPartial<ActualObject>;\n  objectToInspect: ActualObject;\n}): boolean => {\n  const matchResponses: boolean[] = [];\n\n  const matchObjectKeys = ({\n    innerObjectToMatch,\n    innerObjectToInspect,\n  }: {\n    innerObjectToMatch: DeepPartial<ActualObject>;\n    innerObjectToInspect: DeepPartial<ActualObject>;\n  }): void => {\n    for (const [key, valueToMatch] of Object.entries(innerObjectToMatch)) {\n      const valueToInspect = innerObjectToInspect[key as keyof DeepPartial<ActualObject>];\n\n      if (innerObjectToInspect.hasOwnProperty(key)) {\n        if (\n          valueToMatch === null ||\n          valueToMatch === undefined ||\n          valueToMatch === '' ||\n          Array.isArray(valueToMatch) ||\n          // the condition checks if the \"valueToMatch\" is not of type object then \"valueToMatch\" type should be same as type of \"valueToInspect\"\n          (!(valueToMatch instanceof Object) && typeof valueToMatch !== typeof valueToInspect)\n        ) {\n          if (__DEV__) {\n            // this is an invalid case, so we log error\n            logger({\n              message: `Unexpected value: ${JSON.stringify(\n                valueToMatch,\n              )} of type ${typeof valueToMatch} for key: ${key}`,\n              moduleName: 'isPartialMatchObjectKeys',\n              type: 'error',\n            });\n          }\n          matchResponses.push(false);\n        }\n\n        if (typeof valueToMatch === 'string') {\n          // we have reached leaf node of the objectToMatch(i.e sub-object)\n          matchResponses.push(true);\n        }\n\n        if (isObject(valueToMatch) && isObject(valueToInspect)) {\n          // let's go inside further and do a nested check\n          matchObjectKeys({\n            innerObjectToMatch: valueToMatch,\n            innerObjectToInspect: valueToInspect,\n          });\n        }\n      } else {\n        if (__DEV__) {\n          // the key doesn't exist in the innerObjectToMatch, so we log error\n          logger({\n            message: `${key} doesn't exist in ${JSON.stringify(innerObjectToInspect, null, 2)}`,\n            moduleName: 'isPartialMatchObjectKeys',\n            type: 'error',\n          });\n        }\n        matchResponses.push(false);\n      }\n    }\n  };\n\n  matchObjectKeys({ innerObjectToMatch: objectToMatch, innerObjectToInspect: objectToInspect });\n\n  return matchResponses.every(Boolean);\n};\n"],"names":["isPartialMatchObjectKeys","_ref","objectToMatch","objectToInspect","matchResponses","matchObjectKeys","_ref2","innerObjectToMatch","innerObjectToInspect","_ref3","Object","entries","_ref4","_slicedToArray","key","valueToMatch","valueToInspect","hasOwnProperty","undefined","Array","isArray","__DEV__","logger","message","JSON","stringify","moduleName","type","push","isObject","every","Boolean"],"mappings":";;;;AAQa,IAAAA,wBAAwB,CAAG,SAA3BA,wBAAwBA,CAAAC,IAAA,CAMtB,CAAA,IALbC,aAAa,CAAAD,IAAA,CAAbC,aAAa,CACbC,eAAe,CAAAF,IAAA,CAAfE,eAAe,CAKf,IAAMC,cAAyB,CAAG,EAAE,CAEpC,IAAMC,eAAe,CAAG,SAAlBA,eAAeA,CAAAC,KAAA,CAMT,CALV,IAAAC,kBAAkB,CAAAD,KAAA,CAAlBC,kBAAkB,CAClBC,oBAAoB,CAAAF,KAAA,CAApBE,oBAAoB,CAKpB,IAAAC,IAAAA,KAAA,IAAkCC,MAAM,CAACC,OAAO,CAACJ,kBAAkB,CAAC,CAAE,CAAA,IAAAK,KAAA,CAAAC,cAAA,CAAAJ,KAAA,CAAA,CAAA,CAAA,CAAA,IAA1DK,GAAG,CAAAF,KAAA,CAAA,CAAA,CAAA,CAAA,IAAEG,YAAY,CAAAH,KAAA,CAAA,CAAA,CAAA,CAC3B,IAAMI,cAAc,CAAGR,oBAAoB,CAACM,GAAG,CAAoC,CAEnF,GAAIN,oBAAoB,CAACS,cAAc,CAACH,GAAG,CAAC,CAAE,CAC5C,GACEC,YAAY,GAAK,IAAI,EACrBA,YAAY,GAAKG,SAAS,EAC1BH,YAAY,GAAK,EAAE,EACnBI,KAAK,CAACC,OAAO,CAACL,YAAY,CAAC,EAE1B,EAAEA,YAAY,YAAYL,MAAM,CAAC,EAAI,OAAOK,YAAY,GAAK,OAAOC,cAAe,CACpF,CACA,GAAIK,OAAO,CAAE,CAEXC,MAAM,CAAC,CACLC,OAAO,CAAE,CAAA,kBAAA,EAAqBC,IAAI,CAACC,SAAS,CAC1CV,YACF,CAAC,CAAA,SAAA,EAAY,OAAOA,YAAY,CAAaD,UAAAA,EAAAA,GAAG,EAAE,CAClDY,UAAU,CAAE,0BAA0B,CACtCC,IAAI,CAAE,OACR,CAAC,CAAC,CACJ,CACAvB,cAAc,CAACwB,IAAI,CAAC,KAAK,CAAC,CAC5B,CAEA,GAAI,OAAOb,YAAY,GAAK,QAAQ,CAAE,CAEpCX,cAAc,CAACwB,IAAI,CAAC,IAAI,CAAC,CAC3B,CAEA,GAAIC,QAAQ,CAACd,YAAY,CAAC,EAAIc,QAAQ,CAACb,cAAc,CAAC,CAAE,CAEtDX,eAAe,CAAC,CACdE,kBAAkB,CAAEQ,YAAY,CAChCP,oBAAoB,CAAEQ,cACxB,CAAC,CAAC,CACJ,CACF,CAAC,KAAM,CACL,GAAIK,OAAO,CAAE,CAEXC,MAAM,CAAC,CACLC,OAAO,CAAE,CAAA,EAAGT,GAAG,CAAqBU,kBAAAA,EAAAA,IAAI,CAACC,SAAS,CAACjB,oBAAoB,CAAE,IAAI,CAAE,CAAC,CAAC,CAAE,CAAA,CACnFkB,UAAU,CAAE,0BAA0B,CACtCC,IAAI,CAAE,OACR,CAAC,CAAC,CACJ,CACAvB,cAAc,CAACwB,IAAI,CAAC,KAAK,CAAC,CAC5B,CACF,CACF,CAAC,CAEDvB,eAAe,CAAC,CAAEE,kBAAkB,CAAEL,aAAa,CAAEM,oBAAoB,CAAEL,eAAgB,CAAC,CAAC,CAE7F,OAAOC,cAAc,CAAC0B,KAAK,CAACC,OAAO,CAAC,CACtC;;;;"}