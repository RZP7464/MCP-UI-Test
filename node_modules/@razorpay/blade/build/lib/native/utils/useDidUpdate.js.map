{"version":3,"file":"useDidUpdate.js","sources":["../../../../src/utils/useDidUpdate.ts"],"sourcesContent":["import type { DependencyList, EffectCallback } from 'react';\nimport { useEffect, useRef } from 'react';\n\n/**\n * Hook to run an effect on dependencies change after the component has *mounted*.\n * Core difference from `useEffect` is this will trigger effects after the very first render.\n *\n * @param effectCallback `useEffect` callback\n * @param dependencies `useEffect` dependencies\n */\nexport const useDidUpdate = (\n  effectCallback: EffectCallback,\n  dependencies: DependencyList,\n): void => {\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      // run normally after the very first render / mount\n      return effectCallback();\n    }\n\n    isMounted.current = true;\n    return undefined;\n\n    // we don't want to rerun every time effectCallback changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n};\n"],"names":["useDidUpdate","effectCallback","dependencies","isMounted","useRef","useEffect","current","undefined"],"mappings":";;AAUa,IAAAA,YAAY,CAAG,SAAfA,YAAYA,CACvBC,cAA8B,CAC9BC,YAA4B,CACnB,CACT,IAAMC,SAAS,CAAGC,MAAM,CAAC,KAAK,CAAC,CAE/BC,SAAS,CAAC,UAAM,CACd,GAAIF,SAAS,CAACG,OAAO,CAAE,CAErB,OAAOL,cAAc,EAAE,CACzB,CAEAE,SAAS,CAACG,OAAO,CAAG,IAAI,CACxB,OAAOC,SAAS,CAIlB,CAAC,CAAEL,YAAY,CAAC,CAClB;;;;"}