{"version":3,"file":"Dropdown.js","sources":["../../../../../src/components/Dropdown/Dropdown.tsx"],"sourcesContent":["import React from 'react';\nimport { DropdownContext } from './useDropdown';\nimport type { DropdownContextType } from './useDropdown';\nimport type { DropdownProps } from './types';\nimport { dropdownComponentIds } from './dropdownComponentIds';\nimport { useId } from '~utils/useId';\nimport { ComponentIds as bottomSheetComponentIds } from '~components/BottomSheet/componentIds';\nimport { BottomSheetAndDropdownGlueContext } from '~components/BottomSheet/BottomSheetContext';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport BaseBox from '~components/Box/BaseBox';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { getComponentId, isValidAllowedChildren } from '~utils/isValidAllowedChildren';\nimport { MetaConstants, metaAttribute } from '~utils/metaAttribute';\nimport { throwBladeError } from '~utils/logger';\nimport type { BladeElementRef, ContainerElementType } from '~utils/types';\nimport { useControllableState } from '~utils/useControllable';\nimport { mergeRefs } from '~utils/useMergeRefs';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nconst validDropdownChildren = [\n  // TODO: Remove Box once CountrySelector's button sizing is fixed\n  dropdownComponentIds.BaseBox,\n  dropdownComponentIds.triggers.SelectInput,\n  dropdownComponentIds.triggers.SearchInput,\n  dropdownComponentIds.triggers.DropdownButton,\n  dropdownComponentIds.triggers.DropdownIconButton,\n  dropdownComponentIds.triggers.DropdownLink,\n  dropdownComponentIds.DropdownOverlay,\n  dropdownComponentIds.triggers.AutoComplete,\n  bottomSheetComponentIds.BottomSheet,\n  dropdownComponentIds.triggers.FilterChipSelectInput,\n  dropdownComponentIds.triggers.InputDropdownButton,\n];\n\n/**\n * ### Dropdown component\n *\n * Dropdown component is generic component that controls the dropdown functionality.\n * It can be used with multiple triggers and mostly contains ActionList component inside it\n *\n * ---\n *\n * #### Usage\n *\n * ```jsx\n * <Dropdown selectionType=\"single\">\n *  <SelectInput />\n *  <DropdownOverlay>\n *    <ActionList>\n *      <ActionListItem />\n *      <ActionListItem />\n *    </ActionList>\n *  </DropdownOverlay>\n * </Dropdown>\n * ```\n *\n * ---\n *\n * Checkout {@link https://blade.razorpay.com/?path=/docs/components-dropdown-with-select--with-single-select Dropdown Documentation}\n */\nconst _Dropdown = (\n  {\n    children,\n    isOpen: isOpenControlled,\n    onOpenChange,\n    selectionType = 'single',\n    testID,\n    _width,\n    ...rest\n  }: DropdownProps,\n  ref: React.Ref<BladeElementRef>,\n): React.ReactElement => {\n  const [options, setOptions] = React.useState<DropdownContextType['options']>([]);\n  const [filteredValues, setFilteredValues] = React.useState<string[]>([]);\n  const [selectedIndices, setSelectedIndices] = React.useState<\n    DropdownContextType['selectedIndices']\n  >([]);\n  const [controlledValueIndices, setControlledValueIndices] = React.useState<\n    DropdownContextType['selectedIndices']\n  >([]);\n  const [activeIndex, setActiveIndex] = React.useState(-1);\n  const [activeTagIndex, setActiveTagIndex] = React.useState(-1);\n  const [shouldIgnoreBlurAnimation, setShouldIgnoreBlurAnimation] = React.useState(false);\n  const [hasFooterAction, setHasFooterAction] = React.useState(false);\n  const [hasAutoCompleteInHeader, setHasAutoCompleteInHeader] = React.useState(false);\n  const [isKeydownPressed, setIsKeydownPressed] = React.useState(false);\n  const [changeCallbackTriggerer, setChangeCallbackTriggerer] = React.useState<\n    DropdownContextType['changeCallbackTriggerer']\n  >(0);\n  const [isControlled, setIsControlled] = React.useState(false);\n  // keep track if dropdown contains bottomsheet\n  const [dropdownHasBottomSheet, setDropdownHasBottomSheet] = React.useState(false);\n\n  /**\n   * In inputs, actual input is smaller than the visible input wrapper.\n   * You can set this reference in such cases so floating ui calculations happen correctly\n   * */\n  const triggererWrapperRef = React.useRef<ContainerElementType>(null);\n  const triggererRef = React.useRef<HTMLButtonElement>(null);\n  const headerAutoCompleteRef = React.useRef<HTMLButtonElement>(null);\n  const actionListItemRef = React.useRef<HTMLDivElement>(null);\n  const dropdownTriggerer = React.useRef<DropdownContextType['dropdownTriggerer']>();\n  const isTagDismissedRef = React.useRef<{ value: boolean } | null>({ value: false });\n  const visibleTagsCountRef = React.useRef<{ value: number }>({ value: 0 });\n  const dropdownContainerRef = React.useRef<HTMLDivElement>(null);\n\n  const dropdownBaseId = useId('dropdown');\n  const isDropdownOpenRef = React.useRef(isOpenControlled);\n\n  const [isDropdownOpen, setIsDropdownOpen] = useControllableState({\n    value: isOpenControlled,\n    defaultValue: false,\n    onChange: (isOpenControlledValue) => {\n      isDropdownOpenRef.current = isOpenControlledValue;\n      onOpenChange?.(isOpenControlledValue);\n    },\n  });\n\n  isDropdownOpenRef.current = isDropdownOpen;\n\n  const setIsOpen = (isOpenValue: boolean): void => {\n    isDropdownOpenRef.current = isOpenValue;\n    setIsDropdownOpen(() => isOpenValue);\n  };\n\n  const close = React.useCallback(() => {\n    setActiveTagIndex(-1);\n    setIsOpen(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.Children.map(children, (child) => {\n    if (React.isValidElement(child)) {\n      if (__DEV__) {\n        if (!validDropdownChildren.includes(getComponentId(child) ?? '')) {\n          throwBladeError({\n            message: `Dropdown can only have one of following elements as children - \\n\\n ${validDropdownChildren.join(\n              ', ',\n            )} \\n\\n Check out: https://blade.razorpay.com/?path=/story/components-dropdown`,\n            moduleName: 'Dropdown',\n          });\n        }\n      }\n\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.SelectInput)) {\n        dropdownTriggerer.current = 'SelectInput';\n      }\n\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.SearchInput)) {\n        dropdownTriggerer.current = 'SearchInput';\n      }\n\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.DropdownButton)) {\n        dropdownTriggerer.current = 'DropdownButton';\n      }\n\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.DropdownIconButton)) {\n        dropdownTriggerer.current = 'DropdownIconButton';\n      }\n\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.AutoComplete)) {\n        dropdownTriggerer.current = 'AutoComplete';\n      }\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.FilterChipSelectInput)) {\n        dropdownTriggerer.current = 'FilterChipSelectInput';\n      }\n      if (isValidAllowedChildren(child, dropdownComponentIds.triggers.InputDropdownButton)) {\n        dropdownTriggerer.current = 'InputDropdownButton';\n      }\n    }\n  });\n\n  const contextValue = React.useMemo<DropdownContextType>(\n    () => ({\n      isOpen: isDropdownOpen,\n      setIsOpen,\n      close,\n      selectedIndices,\n      setSelectedIndices,\n      controlledValueIndices,\n      setControlledValueIndices,\n      options,\n      setOptions,\n      filteredValues,\n      setFilteredValues,\n      activeIndex,\n      setActiveIndex,\n      activeTagIndex,\n      setActiveTagIndex,\n      visibleTagsCountRef,\n      shouldIgnoreBlurAnimation,\n      setShouldIgnoreBlurAnimation,\n      isKeydownPressed,\n      setIsKeydownPressed,\n      dropdownBaseId,\n      triggererRef,\n      headerAutoCompleteRef,\n      triggererWrapperRef,\n      actionListItemRef,\n      selectionType,\n      hasFooterAction,\n      setHasFooterAction,\n      hasAutoCompleteInHeader,\n      setHasAutoCompleteInHeader,\n      dropdownTriggerer: dropdownTriggerer.current,\n      changeCallbackTriggerer,\n      setChangeCallbackTriggerer,\n      isControlled,\n      setIsControlled,\n      isTagDismissedRef,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      isDropdownOpen,\n      isOpenControlled,\n      selectedIndices,\n      controlledValueIndices,\n      options,\n      filteredValues,\n      activeIndex,\n      activeTagIndex,\n      shouldIgnoreBlurAnimation,\n      selectionType,\n      hasFooterAction,\n      isKeydownPressed,\n      changeCallbackTriggerer,\n      isControlled,\n    ],\n  );\n\n  const BottomSheetAndDropdownGlueContextValue = React.useMemo((): BottomSheetAndDropdownGlueContext => {\n    return {\n      isOpen: isDropdownOpen,\n      dropdownHasBottomSheet,\n      hasAutoCompleteInHeader,\n      setDropdownHasBottomSheet,\n      // This is the dismiss function which will be injected into the BottomSheet\n      // Basically <BottomSheet onDismiss={onBottomSheetDismiss} />\n      onBottomSheetDismiss: close,\n    };\n  }, [dropdownHasBottomSheet, hasAutoCompleteInHeader, isDropdownOpen, close]);\n\n  return (\n    <BottomSheetAndDropdownGlueContext.Provider value={BottomSheetAndDropdownGlueContextValue}>\n      <DropdownContext.Provider value={contextValue}>\n        <BaseBox\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          ref={mergeRefs(ref, dropdownContainerRef as any)}\n          {...metaAttribute({ name: MetaConstants.Dropdown, testID })}\n          {...getStyledProps(rest)}\n          {...makeAnalyticsAttribute(rest)}\n          width={_width}\n        >\n          <BaseBox position=\"relative\" textAlign={'left' as never}>\n            {children}\n          </BaseBox>\n        </BaseBox>\n      </DropdownContext.Provider>\n    </BottomSheetAndDropdownGlueContext.Provider>\n  );\n};\n\nconst Dropdown = assignWithoutSideEffects(React.forwardRef(_Dropdown), {\n  componentId: dropdownComponentIds.Dropdown,\n});\n\nexport { Dropdown };\n"],"names":["validDropdownChildren","dropdownComponentIds","BaseBox","triggers","SelectInput","SearchInput","DropdownButton","DropdownIconButton","DropdownLink","DropdownOverlay","AutoComplete","bottomSheetComponentIds","BottomSheet","FilterChipSelectInput","InputDropdownButton","_Dropdown","_ref","ref","children","isOpenControlled","isOpen","onOpenChange","_ref$selectionType","selectionType","testID","_width","rest","_objectWithoutProperties","_excluded","_React$useState","React","useState","_React$useState2","_slicedToArray","options","setOptions","_React$useState3","_React$useState4","filteredValues","setFilteredValues","_React$useState5","_React$useState6","selectedIndices","setSelectedIndices","_React$useState7","_React$useState8","controlledValueIndices","setControlledValueIndices","_React$useState9","_React$useState0","activeIndex","setActiveIndex","_React$useState1","_React$useState10","activeTagIndex","setActiveTagIndex","_React$useState11","_React$useState12","shouldIgnoreBlurAnimation","setShouldIgnoreBlurAnimation","_React$useState13","_React$useState14","hasFooterAction","setHasFooterAction","_React$useState15","_React$useState16","hasAutoCompleteInHeader","setHasAutoCompleteInHeader","_React$useState17","_React$useState18","isKeydownPressed","setIsKeydownPressed","_React$useState19","_React$useState20","changeCallbackTriggerer","setChangeCallbackTriggerer","_React$useState21","_React$useState22","isControlled","setIsControlled","_React$useState23","_React$useState24","dropdownHasBottomSheet","setDropdownHasBottomSheet","triggererWrapperRef","useRef","triggererRef","headerAutoCompleteRef","actionListItemRef","dropdownTriggerer","isTagDismissedRef","value","visibleTagsCountRef","dropdownContainerRef","dropdownBaseId","useId","isDropdownOpenRef","_useControllableState","useControllableState","defaultValue","onChange","isOpenControlledValue","current","_useControllableState2","isDropdownOpen","setIsDropdownOpen","setIsOpen","isOpenValue","close","useCallback","Children","map","child","isValidElement","__DEV__","_getComponentId","includes","getComponentId","throwBladeError","message","join","moduleName","isValidAllowedChildren","contextValue","useMemo","BottomSheetAndDropdownGlueContextValue","onBottomSheetDismiss","_jsx","BottomSheetAndDropdownGlueContext","Provider","DropdownContext","Object","assign","mergeRefs","metaAttribute","name","MetaConstants","Dropdown","getStyledProps","makeAnalyticsAttribute","width","position","textAlign","assignWithoutSideEffects","forwardRef","componentId"],"mappings":"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"}