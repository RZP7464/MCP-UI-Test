{"version":3,"file":"DropdownButton.js","sources":["../../../../../src/components/Dropdown/DropdownButton.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n\nimport React from 'react';\nimport { useDropdown } from './useDropdown';\nimport { dropdownComponentIds } from './dropdownComponentIds';\nimport BaseButton from '~components/Button/BaseButton';\nimport type { ButtonProps } from '~components/Button';\nimport { getActionListContainerRole } from '~components/ActionList/getA11yRoles';\nimport type { BaseButtonProps } from '~components/Button/BaseButton/BaseButton';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\n\ntype DropdownButtonProps = ButtonProps & {\n  onBlur?: BaseButtonProps['onBlur'];\n  onKeyDown?: BaseButtonProps['onKeyDown'];\n};\n\nconst _DropdownButton = ({\n  children,\n  icon,\n  iconPosition = 'left',\n  isDisabled = false,\n  isFullWidth = false,\n  isLoading = false,\n  onClick,\n  onBlur,\n  onKeyDown,\n  size = 'medium',\n  type = 'button',\n  variant = 'primary',\n  color = 'primary',\n  accessibilityLabel,\n  testID,\n  ...rest\n}: DropdownButtonProps): React.ReactElement => {\n  const {\n    onTriggerClick,\n    onTriggerKeydown,\n    dropdownBaseId,\n    isOpen,\n    activeIndex,\n    hasFooterAction,\n    triggererRef,\n  } = useDropdown();\n\n  return (\n    // Using BaseButton here to avoid exporting onBlur and onKeyDown from Button\n    // If in future we decide to export onBlur and onKeyDown on Button, this can be replaced with Button\n    <BaseButton\n      {...rest}\n      {...(icon ? { icon, children } : { children })}\n      iconPosition={iconPosition}\n      isDisabled={isDisabled}\n      isFullWidth={isFullWidth}\n      isLoading={isLoading}\n      size={size}\n      type={type}\n      variant={variant}\n      testID={testID}\n      ref={triggererRef as any}\n      color={color}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        hasPopup: getActionListContainerRole(hasFooterAction, 'DropdownButton'),\n        expanded: isOpen,\n        controls: `${dropdownBaseId}-actionlist`,\n        activeDescendant: activeIndex >= 0 ? `${dropdownBaseId}-${activeIndex}` : undefined,\n      }}\n      onClick={(e) => {\n        onTriggerClick();\n        // Setting it for web fails it on native typecheck and vice versa\n        onClick?.(e as any);\n      }}\n      onBlur={(e) => {\n        // With button trigger, there is no \"value\" as such. It's just clickable items\n        // Setting it for web fails it on native typecheck and vice versa\n        onBlur?.(e as any);\n      }}\n      onKeyDown={(e) => {\n        onTriggerKeydown?.({ event: e as any });\n        // Setting it for web fails it on native typecheck and vice versa\n        onKeyDown?.(e as any);\n      }}\n    />\n  );\n};\n\nconst DropdownButton = assignWithoutSideEffects(_DropdownButton, {\n  componentId: dropdownComponentIds.triggers.DropdownButton,\n});\n\nexport { DropdownButton };\n"],"names":["_DropdownButton","_ref","children","icon","_ref$iconPosition","iconPosition","_ref$isDisabled","isDisabled","_ref$isFullWidth","isFullWidth","_ref$isLoading","isLoading","onClick","onBlur","onKeyDown","_ref$size","size","_ref$type","type","_ref$variant","variant","_ref$color","color","accessibilityLabel","testID","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","onTriggerClick","onTriggerKeydown","dropdownBaseId","isOpen","activeIndex","hasFooterAction","triggererRef","_jsx","BaseButton","Object","assign","ref","accessibilityProps","label","hasPopup","getActionListContainerRole","expanded","controls","activeDescendant","undefined","e","event","DropdownButton","assignWithoutSideEffects","componentId","dropdownComponentIds","triggers"],"mappings":";;;;;;;;;qLAiBA,IAAMA,eAAe,CAAG,SAAlBA,eAAeA,CAAAC,IAAA,CAiB0B,CAhB7C,IAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACRC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAAAC,iBAAA,CAAAH,IAAA,CACJI,YAAY,CAAZA,YAAY,CAAAD,iBAAA,GAAG,KAAA,CAAA,CAAA,MAAM,CAAAA,iBAAA,CAAAE,eAAA,CAAAL,IAAA,CACrBM,UAAU,CAAVA,UAAU,CAAAD,eAAA,GAAG,KAAA,CAAA,CAAA,KAAK,CAAAA,eAAA,CAAAE,gBAAA,CAAAP,IAAA,CAClBQ,WAAW,CAAXA,WAAW,CAAAD,gBAAA,GAAG,KAAA,CAAA,CAAA,KAAK,CAAAA,gBAAA,CAAAE,cAAA,CAAAT,IAAA,CACnBU,SAAS,CAATA,SAAS,CAAAD,cAAA,GAAG,KAAA,CAAA,CAAA,KAAK,CAAAA,cAAA,CACjBE,QAAO,CAAAX,IAAA,CAAPW,OAAO,CACPC,OAAM,CAAAZ,IAAA,CAANY,MAAM,CACNC,UAAS,CAAAb,IAAA,CAATa,SAAS,CAAAC,SAAA,CAAAd,IAAA,CACTe,IAAI,CAAJA,IAAI,CAAAD,SAAA,GAAA,KAAA,CAAA,CAAG,QAAQ,CAAAA,SAAA,CAAAE,SAAA,CAAAhB,IAAA,CACfiB,IAAI,CAAJA,IAAI,CAAAD,SAAA,GAAA,KAAA,CAAA,CAAG,QAAQ,CAAAA,SAAA,CAAAE,YAAA,CAAAlB,IAAA,CACfmB,OAAO,CAAPA,OAAO,CAAAD,YAAA,GAAA,KAAA,CAAA,CAAG,SAAS,CAAAA,YAAA,CAAAE,UAAA,CAAApB,IAAA,CACnBqB,KAAK,CAALA,KAAK,CAAAD,UAAA,GAAA,KAAA,CAAA,CAAG,SAAS,CAAAA,UAAA,CACjBE,kBAAkB,CAAAtB,IAAA,CAAlBsB,kBAAkB,CAClBC,MAAM,CAAAvB,IAAA,CAANuB,MAAM,CACHC,IAAI,CAAAC,wBAAA,CAAAzB,IAAA,CAAA0B,SAAA,CAEP,CAAA,IAAAC,YAAA,CAQIC,WAAW,EAAE,CAPfC,cAAc,CAAAF,YAAA,CAAdE,cAAc,CACdC,gBAAgB,CAAAH,YAAA,CAAhBG,gBAAgB,CAChBC,cAAc,CAAAJ,YAAA,CAAdI,cAAc,CACdC,MAAM,CAAAL,YAAA,CAANK,MAAM,CACNC,WAAW,CAAAN,YAAA,CAAXM,WAAW,CACXC,eAAe,CAAAP,YAAA,CAAfO,eAAe,CACfC,YAAY,CAAAR,YAAA,CAAZQ,YAAY,CAGd,OAGEC,GAAA,CAACC,UAAU,CAAAC,MAAA,CAAAC,MAAA,CAAA,EAAA,CACLf,IAAI,CACHtB,IAAI,CAAG,CAAEA,IAAI,CAAJA,IAAI,CAAED,QAAQ,CAARA,QAAS,CAAC,CAAG,CAAEA,QAAQ,CAARA,QAAS,CAAC,CAC7CG,CAAAA,YAAY,CAAEA,YAAa,CAC3BE,UAAU,CAAEA,UAAW,CACvBE,WAAW,CAAEA,WAAY,CACzBE,SAAS,CAAEA,SAAU,CACrBK,IAAI,CAAEA,IAAK,CACXE,IAAI,CAAEA,IAAK,CACXE,OAAO,CAAEA,OAAQ,CACjBI,MAAM,CAAEA,MAAO,CACfiB,GAAG,CAAEL,YAAoB,CACzBd,KAAK,CAAEA,KAAM,CACboB,kBAAkB,CAAE,CAClBC,KAAK,CAAEpB,kBAAkB,CACzBqB,QAAQ,CAAEC,0BAA0B,CAACV,eAAe,CAAE,gBAAgB,CAAC,CACvEW,QAAQ,CAAEb,MAAM,CAChBc,QAAQ,CAAE,CAAGf,EAAAA,cAAc,aAAa,CACxCgB,gBAAgB,CAAEd,WAAW,EAAI,CAAC,CAAG,CAAGF,EAAAA,cAAc,CAAIE,CAAAA,EAAAA,WAAW,CAAE,CAAA,CAAGe,SAC5E,CAAE,CACFrC,OAAO,CAAE,SAAAA,OAAAA,CAACsC,CAAC,CAAK,CACdpB,cAAc,EAAE,CAEhBlB,QAAO,EAAPA,IAAAA,CAAAA,KAAAA,CAAAA,CAAAA,QAAO,CAAGsC,CAAQ,CAAC,CACrB,CAAE,CACFrC,MAAM,CAAE,SAAAA,MAACqC,CAAAA,CAAC,CAAK,CAGbrC,OAAM,EAANA,IAAAA,CAAAA,KAAAA,CAAAA,CAAAA,OAAM,CAAGqC,CAAQ,CAAC,CACpB,CAAE,CACFpC,SAAS,CAAE,SAAAA,UAACoC,CAAC,CAAK,CAChBnB,gBAAgB,EAAhBA,IAAAA,CAAAA,KAAAA,CAAAA,CAAAA,gBAAgB,CAAG,CAAEoB,KAAK,CAAED,CAAS,CAAC,CAAC,CAEvCpC,UAAS,EAAA,IAAA,CAAA,KAAA,CAAA,CAATA,UAAS,CAAGoC,CAAQ,CAAC,CACvB,CAAE,CAAA,CACH,CAAC,EAEN,CAAC,CAEK,IAAAE,cAAc,CAAGC,wBAAwB,CAACrD,eAAe,CAAE,CAC/DsD,WAAW,CAAEC,oBAAoB,CAACC,QAAQ,CAACJ,cAC7C,CAAC;;;;"}