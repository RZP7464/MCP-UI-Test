{"version":3,"file":"DropdownIconButton.js","sources":["../../../../../src/components/Dropdown/DropdownIconButton.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n\nimport React from 'react';\nimport { useDropdown } from './useDropdown';\nimport { dropdownComponentIds } from './dropdownComponentIds';\nimport { getActionListContainerRole } from '~components/ActionList/getA11yRoles';\nimport type { BaseButtonProps } from '~components/Button/BaseButton/BaseButton';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport type { IconButtonProps } from '~components/Button/IconButton';\nimport StyledIconButton from '~components/Button/IconButton/StyledIconButton';\n\ntype DropdownIconButtonProps = Omit<IconButtonProps, 'onClick'> & {\n  onBlur?: BaseButtonProps['onBlur'];\n  onKeyDown?: BaseButtonProps['onKeyDown'];\n  onClick?: IconButtonProps['onClick'];\n};\n\nconst _DropdownIconButton = ({\n  icon,\n  isDisabled = false,\n  onClick,\n  onBlur,\n  onKeyDown,\n  size = 'medium',\n  accessibilityLabel,\n  emphasis = 'intense',\n  ...rest\n}: DropdownIconButtonProps): React.ReactElement => {\n  const {\n    onTriggerClick,\n    onTriggerKeydown,\n    dropdownBaseId,\n    isOpen,\n    activeIndex,\n    hasFooterAction,\n    triggererRef,\n  } = useDropdown();\n\n  return (\n    // Using StyledIconButton here to avoid exporting onKeydown, and accessibiltiyProps object\n    <StyledIconButton\n      {...rest}\n      icon={icon}\n      isDisabled={isDisabled}\n      size={size}\n      emphasis={emphasis}\n      ref={triggererRef as any}\n      accessibilityLabel={accessibilityLabel}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        hasPopup: getActionListContainerRole(hasFooterAction, 'DropdownIconButton'),\n        expanded: isOpen,\n        controls: `${dropdownBaseId}-actionlist`,\n        activeDescendant: activeIndex >= 0 ? `${dropdownBaseId}-${activeIndex}` : undefined,\n      }}\n      onClick={(e) => {\n        onTriggerClick();\n        // Setting it for web fails it on native typecheck and vice versa\n        onClick?.(e as any);\n      }}\n      onBlur={(e) => {\n        // With button trigger, there is no \"value\" as such. It's just clickable items\n        // Setting it for web fails it on native typecheck and vice versa\n        onBlur?.(e as any);\n      }}\n      onKeyDown={(e) => {\n        onTriggerKeydown?.({ event: e as any });\n        // Setting it for web fails it on native typecheck and vice versa\n        onKeyDown?.(e as any);\n      }}\n    />\n  );\n};\n\nconst DropdownIconButton = assignWithoutSideEffects(_DropdownIconButton, {\n  componentId: dropdownComponentIds.triggers.DropdownIconButton,\n});\n\nexport { DropdownIconButton };\n"],"names":["_DropdownIconButton","_ref","icon","_ref$isDisabled","isDisabled","onClick","onBlur","onKeyDown","_ref$size","size","accessibilityLabel","_ref$emphasis","emphasis","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","onTriggerClick","onTriggerKeydown","dropdownBaseId","isOpen","activeIndex","hasFooterAction","triggererRef","_jsx","StyledIconButton","Object","assign","ref","accessibilityProps","label","hasPopup","getActionListContainerRole","expanded","controls","activeDescendant","undefined","e","event","DropdownIconButton","assignWithoutSideEffects","componentId","dropdownComponentIds","triggers"],"mappings":";;;;;;;;;AAGA,IAAA,SAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA,SAAA,CAAA,QAAA,CAAA,WAAA,CAAA,MAAA,CAAA,oBAAA,CAAA,UAAA,CAAA,CAeA,IAAMA,mBAAmB,CAAG,SAAtBA,mBAAmBA,CAAAC,IAAA,CAU0B,KATjDC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAAC,eAAA,CAAAF,IAAA,CACJG,UAAU,CAAVA,UAAU,CAAAD,eAAA,GAAA,KAAA,CAAA,CAAG,KAAK,CAAAA,eAAA,CAClBE,QAAO,CAAAJ,IAAA,CAAPI,OAAO,CACPC,OAAM,CAAAL,IAAA,CAANK,MAAM,CACNC,UAAS,CAAAN,IAAA,CAATM,SAAS,CAAAC,SAAA,CAAAP,IAAA,CACTQ,IAAI,CAAJA,IAAI,CAAAD,SAAA,GAAA,KAAA,CAAA,CAAG,QAAQ,CAAAA,SAAA,CACfE,kBAAkB,CAAAT,IAAA,CAAlBS,kBAAkB,CAAAC,aAAA,CAAAV,IAAA,CAClBW,QAAQ,CAARA,QAAQ,CAAAD,aAAA,GAAG,KAAA,CAAA,CAAA,SAAS,CAAAA,aAAA,CACjBE,IAAI,CAAAC,wBAAA,CAAAb,IAAA,CAAAc,SAAA,EAEP,IAAAC,YAAA,CAQIC,WAAW,EAAE,CAPfC,cAAc,CAAAF,YAAA,CAAdE,cAAc,CACdC,gBAAgB,CAAAH,YAAA,CAAhBG,gBAAgB,CAChBC,cAAc,CAAAJ,YAAA,CAAdI,cAAc,CACdC,MAAM,CAAAL,YAAA,CAANK,MAAM,CACNC,WAAW,CAAAN,YAAA,CAAXM,WAAW,CACXC,eAAe,CAAAP,YAAA,CAAfO,eAAe,CACfC,YAAY,CAAAR,YAAA,CAAZQ,YAAY,CAGd,OAEEC,GAAA,CAACC,gBAAgB,CAAAC,MAAA,CAAAC,MAAA,CACXf,EAAAA,CAAAA,IAAI,EACRX,IAAI,CAAEA,IAAK,CACXE,UAAU,CAAEA,UAAW,CACvBK,IAAI,CAAEA,IAAK,CACXG,QAAQ,CAAEA,QAAS,CACnBiB,GAAG,CAAEL,YAAoB,CACzBd,kBAAkB,CAAEA,kBAAmB,CACvCoB,kBAAkB,CAAE,CAClBC,KAAK,CAAErB,kBAAkB,CACzBsB,QAAQ,CAAEC,0BAA0B,CAACV,eAAe,CAAE,oBAAoB,CAAC,CAC3EW,QAAQ,CAAEb,MAAM,CAChBc,QAAQ,CAAE,GAAGf,cAAc,CAAA,WAAA,CAAa,CACxCgB,gBAAgB,CAAEd,WAAW,EAAI,CAAC,CAAG,GAAGF,cAAc,CAAA,CAAA,EAAIE,WAAW,CAAA,CAAE,CAAGe,SAC5E,CAAE,CACFhC,OAAO,CAAE,SAAAA,OAACiC,CAAAA,CAAC,CAAK,CACdpB,cAAc,EAAE,CAEhBb,QAAO,cAAPA,QAAO,CAAGiC,CAAQ,CAAC,CACrB,CAAE,CACFhC,MAAM,CAAE,SAAAA,OAACgC,CAAC,CAAK,CAGbhC,OAAM,cAANA,OAAM,CAAGgC,CAAQ,CAAC,CACpB,CAAE,CACF/B,SAAS,CAAE,SAAAA,SAAC+B,CAAAA,CAAC,CAAK,CAChBnB,gBAAgB,cAAhBA,gBAAgB,CAAG,CAAEoB,KAAK,CAAED,CAAS,CAAC,CAAC,CAEvC/B,UAAS,EAATA,IAAAA,CAAAA,KAAAA,CAAAA,CAAAA,UAAS,CAAG+B,CAAQ,CAAC,CACvB,CAAE,EACH,CAAC,EAEN,CAAC,CAEK,IAAAE,kBAAkB,CAAGC,wBAAwB,CAACzC,mBAAmB,CAAE,CACvE0C,WAAW,CAAEC,oBAAoB,CAACC,QAAQ,CAACJ,kBAC7C,CAAC;;;;"}