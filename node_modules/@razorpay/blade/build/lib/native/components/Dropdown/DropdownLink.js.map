{"version":3,"file":"DropdownLink.js","sources":["../../../../../src/components/Dropdown/DropdownLink.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n\nimport React from 'react';\nimport { getActionListContainerRole } from '../ActionList/getA11yRoles';\nimport { BaseLink } from '../Link/BaseLink';\nimport type { BaseLinkProps } from '../Link/BaseLink';\nimport type { LinkButtonVariantProps } from '../Link';\nimport { useDropdown } from './useDropdown';\nimport { dropdownComponentIds } from './dropdownComponentIds';\nimport { assignWithoutSideEffects } from '~src/utils/assignWithoutSideEffects';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype DropdownLinkProps = LinkButtonVariantProps & {\n  onBlur?: BaseLinkProps['onBlur'];\n  onKeyDown?: BaseLinkProps['onKeyDown'];\n};\n\nconst _DropdownLink = ({\n  children,\n  icon,\n  iconPosition = 'left',\n  onClick,\n  onBlur,\n  onKeyDown,\n  isDisabled,\n  href,\n  target,\n  rel,\n  accessibilityLabel,\n  size = 'medium',\n  testID,\n  hitSlop,\n  htmlTitle,\n  ...props\n}: DropdownLinkProps): React.ReactElement => {\n  const {\n    onTriggerClick,\n    onTriggerKeydown,\n    dropdownBaseId,\n    isOpen,\n    activeIndex,\n    hasFooterAction,\n    triggererRef,\n  } = useDropdown();\n\n  return (\n    // Using BaseButton here to avoid exporting onBlur and onKeyDown from Button\n    // If in future we decide to export onBlur and onKeyDown on Button, this can be replaced with Button\n    <BaseLink\n      variant=\"button\"\n      {...(icon ? { icon, children } : { children })}\n      iconPosition={iconPosition}\n      size={size}\n      testID={testID}\n      hitSlop={hitSlop}\n      htmlTitle={htmlTitle}\n      isDisabled={isDisabled}\n      {...props}\n      {...makeAnalyticsAttribute(props)}\n      ref={triggererRef as any}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        hasPopup: getActionListContainerRole(hasFooterAction, 'DropdownButton'),\n        expanded: isOpen,\n        controls: `${dropdownBaseId}-actionlist`,\n        activeDescendant: activeIndex >= 0 ? `${dropdownBaseId}-${activeIndex}` : undefined,\n      }}\n      onClick={(e) => {\n        onTriggerClick();\n        // Setting it for web fails it on native typecheck and vice versa\n        onClick?.(e as any);\n      }}\n      onBlur={(e) => {\n        // Setting it for web fails it on native typecheck and vice versa\n        onBlur?.(e as any);\n      }}\n      onKeyDown={(e) => {\n        onTriggerKeydown?.({ event: e as any });\n        // Setting it for web fails it on native typecheck and vice versa\n        onKeyDown?.(e as any);\n      }}\n    />\n  );\n};\n\nconst DropdownLink = assignWithoutSideEffects(_DropdownLink, {\n  componentId: dropdownComponentIds.triggers.DropdownLink,\n});\n\nexport { DropdownLink };\n"],"names":["_DropdownLink","_ref","children","icon","_ref$iconPosition","iconPosition","onClick","onBlur","onKeyDown","isDisabled","href","target","rel","accessibilityLabel","_ref$size","size","testID","hitSlop","htmlTitle","props","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","onTriggerClick","onTriggerKeydown","dropdownBaseId","isOpen","activeIndex","hasFooterAction","triggererRef","_jsx","BaseLink","Object","assign","variant","makeAnalyticsAttribute","ref","accessibilityProps","label","hasPopup","getActionListContainerRole","expanded","controls","activeDescendant","undefined","e","event","DropdownLink","assignWithoutSideEffects","componentId","dropdownComponentIds","triggers"],"mappings":";;;;;;;;;;8KAkBA,IAAMA,aAAa,CAAG,SAAhBA,aAAaA,CAAAC,IAAA,CAiB0B,CAhB3C,IAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACRC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAAAC,iBAAA,CAAAH,IAAA,CACJI,YAAY,CAAZA,YAAY,CAAAD,iBAAA,GAAG,KAAA,CAAA,CAAA,MAAM,CAAAA,iBAAA,CACrBE,QAAO,CAAAL,IAAA,CAAPK,OAAO,CACPC,OAAM,CAAAN,IAAA,CAANM,MAAM,CACNC,UAAS,CAAAP,IAAA,CAATO,SAAS,CACTC,UAAU,CAAAR,IAAA,CAAVQ,UAAU,CACNR,IAAA,CAAJS,IAAI,CACET,IAAA,CAANU,MAAM,CACHV,IAAA,CAAHW,GAAG,KACHC,kBAAkB,CAAAZ,IAAA,CAAlBY,kBAAkB,CAAAC,SAAA,CAAAb,IAAA,CAClBc,IAAI,CAAJA,IAAI,CAAAD,SAAA,UAAG,QAAQ,CAAAA,SAAA,CACfE,MAAM,CAAAf,IAAA,CAANe,MAAM,CACNC,OAAO,CAAAhB,IAAA,CAAPgB,OAAO,CACPC,SAAS,CAAAjB,IAAA,CAATiB,SAAS,CACNC,KAAK,CAAAC,wBAAA,CAAAnB,IAAA,CAAAoB,SAAA,EAER,IAAAC,YAAA,CAQIC,WAAW,EAAE,CAPfC,cAAc,CAAAF,YAAA,CAAdE,cAAc,CACdC,gBAAgB,CAAAH,YAAA,CAAhBG,gBAAgB,CAChBC,cAAc,CAAAJ,YAAA,CAAdI,cAAc,CACdC,MAAM,CAAAL,YAAA,CAANK,MAAM,CACNC,WAAW,CAAAN,YAAA,CAAXM,WAAW,CACXC,eAAe,CAAAP,YAAA,CAAfO,eAAe,CACfC,YAAY,CAAAR,YAAA,CAAZQ,YAAY,CAGd,OAGEC,GAAA,CAACC,QAAQ,CAAAC,MAAA,CAAAC,MAAA,CACPC,CAAAA,OAAO,CAAC,QAAQ,CAAA,CACXhC,IAAI,CAAG,CAAEA,IAAI,CAAJA,IAAI,CAAED,QAAQ,CAARA,QAAS,CAAC,CAAG,CAAEA,QAAQ,CAARA,QAAS,CAAC,CAC7CG,CAAAA,YAAY,CAAEA,YAAa,CAC3BU,IAAI,CAAEA,IAAK,CACXC,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBC,SAAS,CAAEA,SAAU,CACrBT,UAAU,CAAEA,UAAW,EACnBU,KAAK,CACLiB,sBAAsB,CAACjB,KAAK,CAAC,CACjCkB,CAAAA,GAAG,CAAEP,YAAoB,CACzBQ,kBAAkB,CAAE,CAClBC,KAAK,CAAE1B,kBAAkB,CACzB2B,QAAQ,CAAEC,0BAA0B,CAACZ,eAAe,CAAE,gBAAgB,CAAC,CACvEa,QAAQ,CAAEf,MAAM,CAChBgB,QAAQ,CAAE,GAAGjB,cAAc,CAAA,WAAA,CAAa,CACxCkB,gBAAgB,CAAEhB,WAAW,EAAI,CAAC,CAAG,GAAGF,cAAc,CAAA,CAAA,EAAIE,WAAW,CAAE,CAAA,CAAGiB,SAC5E,CAAE,CACFvC,OAAO,CAAE,SAAAA,QAACwC,CAAC,CAAK,CACdtB,cAAc,EAAE,CAEhBlB,QAAO,EAAA,IAAA,CAAA,KAAA,CAAA,CAAPA,QAAO,CAAGwC,CAAQ,CAAC,CACrB,CAAE,CACFvC,MAAM,CAAE,SAAAA,MAACuC,CAAAA,CAAC,CAAK,CAEbvC,OAAM,cAANA,OAAM,CAAGuC,CAAQ,CAAC,CACpB,CAAE,CACFtC,SAAS,CAAE,SAAAA,SAACsC,CAAAA,CAAC,CAAK,CAChBrB,gBAAgB,cAAhBA,gBAAgB,CAAG,CAAEsB,KAAK,CAAED,CAAS,CAAC,CAAC,CAEvCtC,UAAS,EAAA,IAAA,CAAA,KAAA,CAAA,CAATA,UAAS,CAAGsC,CAAQ,CAAC,CACvB,CAAE,CAAA,CACH,CAAC,EAEN,CAAC,CAEK,IAAAE,YAAY,CAAGC,wBAAwB,CAACjD,aAAa,CAAE,CAC3DkD,WAAW,CAAEC,oBAAoB,CAACC,QAAQ,CAACJ,YAC7C,CAAC;;;;"}