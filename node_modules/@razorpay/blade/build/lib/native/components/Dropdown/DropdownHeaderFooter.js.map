{"version":3,"file":"DropdownHeaderFooter.js","sources":["../../../../../src/components/Dropdown/DropdownHeaderFooter.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\nimport React from 'react';\nimport { useDropdown } from './useDropdown';\nimport { BaseFooter } from '~components/BaseHeaderFooter/BaseFooter';\nimport { BaseHeader } from '~components/BaseHeaderFooter/BaseHeader';\nimport type { BaseHeaderProps } from '~components/BaseHeaderFooter/BaseHeader';\nimport type { BaseFooterProps } from '~components/BaseHeaderFooter/BaseFooter';\nimport BaseBox from '~components/Box/BaseBox';\nimport { isReactNative } from '~utils';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { MetaConstants } from '~utils/metaAttribute/metaConstants';\nimport type { DataAnalyticsAttribute } from '~utils/types';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype DropdownHeaderProps = Pick<\n  BaseHeaderProps,\n  | 'title'\n  | 'subtitle'\n  | 'leading'\n  | 'trailing'\n  | 'titleSuffix'\n  | 'testID'\n  | 'children'\n  | keyof DataAnalyticsAttribute\n>;\n\nconst _DropdownHeader = ({\n  title,\n  subtitle,\n  leading,\n  titleSuffix,\n  trailing,\n  testID,\n  children,\n  ...rest\n}: DropdownHeaderProps): React.ReactElement => {\n  const { hasAutoCompleteInHeader, setShouldIgnoreBlurAnimation } = useDropdown();\n\n  return (\n    <BaseBox\n      flexShrink={0}\n      {...(isReactNative()\n        ? {}\n        : {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onMouseDown: (e: any) => {\n              // we don't want focus to ever move on header because its static element except when autocomplete is present\n              if (!hasAutoCompleteInHeader) {\n                e.preventDefault();\n              } else {\n                setShouldIgnoreBlurAnimation(false);\n              }\n            },\n          })}\n    >\n      <BaseHeader\n        title={title}\n        subtitle={subtitle}\n        leading={leading}\n        trailing={trailing}\n        titleSuffix={titleSuffix}\n        metaComponentName={MetaConstants.DropdownHeader}\n        testID={testID}\n        // back button\n        showBackButton={false}\n        // close button\n        showCloseButton={false}\n        {...makeAnalyticsAttribute(rest)}\n      >\n        {children}\n      </BaseHeader>\n    </BaseBox>\n  );\n};\n\nconst DropdownHeader = assignWithoutSideEffects(_DropdownHeader, {\n  componentId: 'DropdownHeader',\n});\n\ntype DropdownFooter = Pick<BaseFooterProps, 'children' | 'testID'>;\n\nconst _DropdownFooter = ({ children, testID }: DropdownFooter): React.ReactElement => {\n  const { setHasFooterAction, isOpen } = useDropdown();\n  const footerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    setHasFooterAction(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <BaseBox\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ref={footerRef as any}\n      {...makeAccessible({\n        role: isReactNative() ? undefined : 'group',\n      })}\n    >\n      <BaseFooter metaComponentName={MetaConstants.DropdownFooter} testID={testID}>\n        {/* We don't want any of the interactive children to get focussed on TAB when dropdown is closed so we remove them from DOM itself */}\n        {isOpen ? children : null}\n      </BaseFooter>\n    </BaseBox>\n  );\n};\n\nconst DropdownFooter = assignWithoutSideEffects(_DropdownFooter, {\n  componentId: 'DropdownFooter',\n});\n\nexport { DropdownHeader, DropdownFooter };\n"],"names":["_DropdownHeader","_ref","title","subtitle","leading","titleSuffix","trailing","testID","children","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","hasAutoCompleteInHeader","setShouldIgnoreBlurAnimation","_jsx","BaseBox","Object","assign","flexShrink","isReactNative","onMouseDown","e","preventDefault","BaseHeader","metaComponentName","MetaConstants","DropdownHeader","showBackButton","showCloseButton","makeAnalyticsAttribute","assignWithoutSideEffects","componentId","_DropdownFooter","_ref2","_useDropdown2","setHasFooterAction","isOpen","footerRef","React","useRef","useEffect","ref","makeAccessible","role","undefined","BaseFooter","DropdownFooter"],"mappings":";;;;;;;;;;;;;;;;0FA2BA,IAAMA,eAAe,CAAG,SAAlBA,eAAeA,CAAAC,IAAA,CAS0B,KAR7CC,KAAK,CAAAD,IAAA,CAALC,KAAK,CACLC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACRC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CACPC,WAAW,CAAAJ,IAAA,CAAXI,WAAW,CACXC,QAAQ,CAAAL,IAAA,CAARK,QAAQ,CACRC,MAAM,CAAAN,IAAA,CAANM,MAAM,CACNC,QAAQ,CAAAP,IAAA,CAARO,QAAQ,CACLC,IAAI,CAAAC,wBAAA,CAAAT,IAAA,CAAAU,SAAA,CAEP,CAAA,IAAAC,YAAA,CAAkEC,WAAW,EAAE,CAAvEC,uBAAuB,CAAAF,YAAA,CAAvBE,uBAAuB,CAAEC,4BAA4B,CAAAH,YAAA,CAA5BG,4BAA4B,CAE7D,OACEC,GAAA,CAACC,OAAO,CAAAC,MAAA,CAAAC,MAAA,CAAA,CACNC,UAAU,CAAE,CAAE,EACTC,aAAa,EAAE,CAChB,EAAE,CACF,CAEEC,WAAW,CAAE,SAAAA,WAACC,CAAAA,CAAM,CAAK,CAEvB,GAAI,CAACT,uBAAuB,CAAE,CAC5BS,CAAC,CAACC,cAAc,EAAE,CACpB,CAAC,KAAM,CACLT,4BAA4B,CAAC,KAAK,CAAC,CACrC,CACF,CACF,CAAC,CAAA,CAAAP,QAAA,CAELQ,GAAA,CAACS,UAAU,CAAAP,MAAA,CAAAC,MAAA,CACTjB,CAAAA,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,CACnBC,OAAO,CAAEA,OAAQ,CACjBE,QAAQ,CAAEA,QAAS,CACnBD,WAAW,CAAEA,WAAY,CACzBqB,iBAAiB,CAAEC,aAAa,CAACC,cAAe,CAChDrB,MAAM,CAAEA,MAAO,CAEfsB,cAAc,CAAE,KAAM,CAEtBC,eAAe,CAAE,KAAM,CAAA,CACnBC,sBAAsB,CAACtB,IAAI,CAAC,EAAAD,QAAA,CAE/BA,QAAQ,CACC,CAAA,CAAC,EACN,CAAC,CAEd,CAAC,CAEK,IAAAoB,cAAc,CAAGI,wBAAwB,CAAChC,eAAe,CAAE,CAC/DiC,WAAW,CAAE,gBACf,CAAC,EAID,IAAMC,eAAe,CAAG,SAAlBA,eAAeA,CAAAC,KAAA,CAAiE,CAAA,IAA3D3B,QAAQ,CAAA2B,KAAA,CAAR3B,QAAQ,CAAED,MAAM,CAAA4B,KAAA,CAAN5B,MAAM,CACzC,IAAA6B,aAAA,CAAuCvB,WAAW,EAAE,CAA5CwB,kBAAkB,CAAAD,aAAA,CAAlBC,kBAAkB,CAAEC,MAAM,CAAAF,aAAA,CAANE,MAAM,CAClC,IAAMC,SAAS,CAAGC,cAAK,CAACC,MAAM,CAAiB,IAAI,CAAC,CAEpDD,cAAK,CAACE,SAAS,CAAC,UAAM,CACpBL,kBAAkB,CAAC,IAAI,CAAC,CAE1B,CAAC,CAAE,EAAE,CAAC,CAEN,OACErB,GAAA,CAACC,OAAO,CAAAC,MAAA,CAAAC,MAAA,CAAA,CAENwB,GAAG,CAAEJ,SAAiB,EAClBK,cAAc,CAAC,CACjBC,IAAI,CAAExB,aAAa,EAAE,CAAGyB,SAAS,CAAG,OACtC,CAAC,CAAC,CAAA,CAAAtC,QAAA,CAEFQ,GAAA,CAAC+B,UAAU,CAAA,CAACrB,iBAAiB,CAAEC,aAAa,CAACqB,cAAe,CAACzC,MAAM,CAAEA,MAAO,CAAAC,QAAA,CAEzE8B,MAAM,CAAG9B,QAAQ,CAAG,IAAI,CACf,CAAC,EACN,CAAC,CAEd,CAAC,CAEK,IAAAwC,cAAc,CAAGhB,wBAAwB,CAACE,eAAe,CAAE,CAC/DD,WAAW,CAAE,gBACf,CAAC;;;;"}