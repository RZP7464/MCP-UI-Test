{"version":3,"file":"StyledBaseButton.native.js","sources":["../../../../../../src/components/Button/BaseButton/StyledBaseButton.native.tsx"],"sourcesContent":["import { Linking, Pressable } from 'react-native';\nimport Animated, { useAnimatedStyle, useSharedValue, withTiming } from 'react-native-reanimated';\nimport styled from 'styled-components/native';\nimport React from 'react';\nimport type { TextInput, GestureResponderEvent } from 'react-native';\nimport getStyledBaseButtonStyles from './getStyledBaseButtonStyles';\nimport type { StyledBaseButtonProps } from './types';\nimport getIn from '~utils/lodashButBetter/get';\nimport { useStyledProps } from '~components/Box/styledProps';\nimport { useTheme } from '~components/BladeProvider';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { logger } from '~utils/logger';\nimport { castNativeType } from '~utils';\n\nconst StyledPressable = styled(Animated.createAnimatedComponent(Pressable))<\n  Omit<StyledBaseButtonProps, 'accessibilityProps'>\n>((props) => {\n  const styledPropsCSSObject = useStyledProps(props);\n\n  return {\n    ...getStyledBaseButtonStyles(props),\n    alignSelf: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    ...styledPropsCSSObject,\n  };\n});\n\nconst openURL = async (href: string): Promise<void> => {\n  try {\n    const canOpen = await Linking.canOpenURL(href);\n    if (canOpen) {\n      await Linking.openURL(href);\n    }\n  } catch {\n    if (__DEV__) {\n      logger({\n        type: 'warn',\n        message: `Could not open the link \"href=${href}\"`,\n        moduleName: 'BaseButton',\n      });\n    }\n  }\n};\n\nconst _StyledBaseButton: React.ForwardRefRenderFunction<TextInput, StyledBaseButtonProps> = (\n  {\n    onClick,\n    href,\n    onBlur,\n    onKeyDown,\n    children,\n    variant,\n    minHeight,\n    buttonPaddingTop,\n    buttonPaddingBottom,\n    buttonPaddingLeft,\n    buttonPaddingRight,\n    isFullWidth,\n    disabled,\n    defaultBackgroundColor,\n    defaultBorderColor,\n    hoverBackgroundColor,\n    focusBackgroundColor,\n    focusRingColor,\n    hoverBorderColor,\n    focusBorderColor,\n    borderWidth,\n    borderRadius,\n    motionDuration,\n    motionEasing,\n    isLoading,\n    accessibilityProps,\n    testID,\n    onTouchStart,\n    onTouchEnd,\n    onPointerEnter,\n    onPointerDown,\n    onFocus,\n    ...styledProps\n  },\n  ref,\n) => {\n  const { theme } = useTheme();\n  const isPressed = useSharedValue(false);\n  const duration = getIn(theme.motion, motionDuration);\n  const easing = getIn(theme.motion, motionEasing);\n\n  const animatedStyles = useAnimatedStyle(() => {\n    return {\n      backgroundColor: withTiming(isPressed.value ? focusBackgroundColor : defaultBackgroundColor, {\n        duration,\n        easing,\n      }),\n      ...(variant !== 'tertiary' && {\n        borderColor: withTiming(isPressed.value ? focusBorderColor : defaultBorderColor, {\n          duration,\n          easing,\n        }),\n      }),\n    };\n  });\n\n  const handleOnPress = (event: GestureResponderEvent): void => {\n    if (href) {\n      void openURL(href);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return (\n    <StyledPressable\n      {...styledProps}\n      {...accessibilityProps}\n      ref={ref}\n      role=\"button\"\n      onTouchStart={castNativeType(onTouchStart)}\n      onTouchEnd={castNativeType(onTouchEnd)}\n      onPointerEnter={castNativeType(onPointerEnter)}\n      onPointerDown={castNativeType(onPointerDown)}\n      onFocus={castNativeType(onFocus)}\n      isLoading={isLoading}\n      onPress={handleOnPress}\n      style={animatedStyles}\n      minHeight={minHeight}\n      buttonPaddingTop={buttonPaddingTop}\n      buttonPaddingBottom={buttonPaddingBottom}\n      buttonPaddingLeft={buttonPaddingLeft}\n      buttonPaddingRight={buttonPaddingRight}\n      isFullWidth={isFullWidth}\n      disabled={disabled}\n      defaultBackgroundColor={defaultBackgroundColor}\n      defaultBorderColor={defaultBorderColor}\n      hoverBackgroundColor={hoverBackgroundColor}\n      focusBackgroundColor={focusBackgroundColor}\n      focusRingColor={focusRingColor}\n      hoverBorderColor={hoverBorderColor}\n      focusBorderColor={focusBorderColor}\n      borderWidth={borderWidth}\n      borderRadius={borderRadius}\n      motionDuration={motionDuration}\n      motionEasing={motionEasing}\n      testID={testID}\n    >\n      {/* eslint-disable-next-line @typescript-eslint/prefer-ts-expect-error */}\n      {/* @ts-ignore */}\n      {({ pressed }): React.ReactNode => {\n        isPressed.value = pressed;\n        return children;\n      }}\n    </StyledPressable>\n  );\n};\n\nconst StyledBaseButton = assignWithoutSideEffects(React.forwardRef(_StyledBaseButton), {\n  displayName: 'StyledBaseButton',\n});\n\nexport default StyledBaseButton;\n"],"names":["StyledPressable","styled","Animated","createAnimatedComponent","Pressable","props","styledPropsCSSObject","useStyledProps","Object","assign","getStyledBaseButtonStyles","alignSelf","display","flexDirection","openURL","_ref","_asyncToGenerator","href","canOpen","Linking","canOpenURL","_unused","__DEV__","logger","type","message","moduleName","_x","apply","arguments","_StyledBaseButton","_ref2","ref","onClick","onBlur","onKeyDown","children","variant","minHeight","buttonPaddingTop","buttonPaddingBottom","buttonPaddingLeft","buttonPaddingRight","isFullWidth","disabled","defaultBackgroundColor","defaultBorderColor","hoverBackgroundColor","focusBackgroundColor","focusRingColor","hoverBorderColor","focusBorderColor","borderWidth","borderRadius","motionDuration","motionEasing","isLoading","accessibilityProps","testID","onTouchStart","onTouchEnd","onPointerEnter","onPointerDown","onFocus","styledProps","_objectWithoutProperties","_excluded","_useTheme","useTheme","theme","isPressed","useSharedValue","duration","getIn","motion","easing","animatedStyles","useAnimatedStyle","backgroundColor","withTiming","value","borderColor","handleOnPress","event","_jsx","role","castNativeType","onPress","style","_ref3","pressed","StyledBaseButton","assignWithoutSideEffects","React","forwardRef","displayName"],"mappings":"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"}