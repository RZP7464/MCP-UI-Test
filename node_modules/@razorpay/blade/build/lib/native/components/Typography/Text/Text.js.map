{"version":3,"file":"Text.js","sources":["../../../../../../src/components/Typography/Text/Text.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { BaseText } from '../BaseText';\nimport type { BaseTextProps, BaseTextSizes } from '../BaseText/types';\nimport { useValidateAsProp } from '../utils';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport type { BladeElementRef, TestID, ElementTiming } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { throwBladeError } from '~utils/logger';\n\nconst validAsValues = ['p', 'span', 'div', 'abbr', 'figcaption', 'cite', 'q', 'label'] as const;\ntype TextCommonProps = {\n  as?: typeof validAsValues[number];\n  truncateAfterLines?: number;\n  children: React.ReactNode;\n  weight?: Extract<BaseTextProps['fontWeight'], 'regular' | 'medium' | 'semibold'>;\n  /**\n   * Overrides the color of the Text component.\n   *\n   * **Note** This takes priority over `type` and `contrast` prop to decide color of text\n   */\n  color?: BaseTextProps['color'];\n  textAlign?: BaseTextProps['textAlign'];\n  textTransform?: BaseTextProps['textTransform'];\n  textDecorationLine?: BaseTextProps['textDecorationLine'];\n  wordBreak?: BaseTextProps['wordBreak'];\n} & TestID &\n  ElementTiming &\n  StyledPropsBlade;\n\nexport type TextVariant = 'body' | 'caption';\n\ntype TextBodyVariant = TextCommonProps & {\n  variant?: Extract<TextVariant, 'body'>;\n  size?: Extract<BaseTextSizes, 'xsmall' | 'small' | 'medium' | 'large'>;\n};\n\ntype TextCaptionVariant = TextCommonProps & {\n  variant?: Extract<TextVariant, 'caption'>;\n  size?: Extract<BaseTextSizes, 'small' | 'medium'>;\n};\n\nexport type TextProps<T> = T extends { variant: infer Variant }\n  ? Variant extends 'caption'\n    ? TextCaptionVariant\n    : Variant extends 'body'\n    ? TextBodyVariant\n    : T\n  : T;\n\ntype GetTextPropsReturn = Omit<BaseTextProps, 'children'>;\ntype GetTextProps<T extends { variant: TextVariant }> = Pick<\n  TextProps<T>,\n  | 'variant'\n  | 'weight'\n  | 'size'\n  | 'color'\n  | 'testID'\n  | 'textAlign'\n  | 'textDecorationLine'\n  | 'textTransform'\n>;\n\nconst getTextProps = <T extends { variant: TextVariant }>({\n  variant,\n  weight,\n  size,\n  color = 'surface.text.gray.normal',\n  testID,\n  textAlign,\n  textDecorationLine,\n}: GetTextProps<T>): GetTextPropsReturn => {\n  const props: GetTextPropsReturn = {\n    color,\n    fontSize: 100,\n    fontWeight: weight ?? 'regular',\n    fontStyle: 'normal',\n    lineHeight: 100,\n    fontFamily: 'text',\n    componentName: 'text',\n    testID,\n    textAlign,\n    textDecorationLine,\n  };\n\n  if (variant === 'caption') {\n    // variant of caption can only have size of small\n    if (size && size !== 'small' && size !== 'medium') {\n      if (__DEV__) {\n        throwBladeError({\n          moduleName: 'Text',\n          message: `size cannot be '${size}' when variant is 'caption'`,\n        });\n      }\n      // Set size as small in case of invalid size\n      size = 'small';\n    }\n  } else if (variant !== 'caption' && !size) {\n    size = 'medium';\n  }\n\n  if (variant === 'body') {\n    if (size === 'xsmall') {\n      props.fontSize = 25;\n      props.lineHeight = 25;\n    }\n    if (size === 'small') {\n      props.fontSize = 75;\n      props.lineHeight = 75;\n    }\n    if (size === 'medium') {\n      props.fontSize = 100;\n      props.lineHeight = 100;\n    }\n    if (size === 'large') {\n      props.fontSize = 200;\n      props.lineHeight = 200;\n    }\n  }\n  if (variant === 'caption') {\n    if (size === 'small') {\n      props.fontSize = 50;\n      props.lineHeight = 50;\n      props.fontWeight = 'regular';\n    }\n    if (size === 'medium') {\n      props.fontSize = 100;\n      props.lineHeight = 50;\n      props.fontWeight = 'regular';\n    }\n  }\n\n  return props;\n};\n\nconst _Text = <T extends { variant: TextVariant }>(\n  {\n    as = 'p',\n    variant = 'body',\n    weight = 'regular',\n    size,\n    truncateAfterLines,\n    children,\n    color,\n    testID,\n    textAlign,\n    textDecorationLine,\n    wordBreak,\n    textTransform,\n    elementtiming,\n    ...styledProps\n  }: TextProps<T>,\n  ref: React.Ref<BladeElementRef>,\n): ReactElement => {\n  const props: Omit<BaseTextProps, 'children'> = {\n    as,\n    truncateAfterLines,\n    wordBreak,\n    textTransform,\n    elementtiming,\n    ...getTextProps({\n      variant,\n      weight,\n      color,\n      size,\n      testID,\n      textAlign,\n      textDecorationLine,\n    }),\n  };\n\n  useValidateAsProp({ componentName: 'Text', as, validAsValues });\n\n  return (\n    <BaseText ref={ref} {...props} {...getStyledProps(styledProps)}>\n      {children}\n    </BaseText>\n  );\n};\n\nconst Text = assignWithoutSideEffects(React.forwardRef(_Text), {\n  displayName: 'Text',\n  componentId: 'Text',\n});\n\nexport { Text, getTextProps };\n"],"names":["validAsValues","getTextProps","_ref","variant","weight","size","_ref$color","color","testID","textAlign","textDecorationLine","props","fontSize","fontWeight","fontStyle","lineHeight","fontFamily","componentName","__DEV__","throwBladeError","moduleName","message","_Text","_ref2","ref","_ref2$as","as","_ref2$variant","_ref2$weight","truncateAfterLines","children","wordBreak","textTransform","elementtiming","styledProps","_objectWithoutProperties","_excluded","Object","assign","useValidateAsProp","_jsx","BaseText","getStyledProps","Text","assignWithoutSideEffects","React","forwardRef","displayName","componentId"],"mappings":"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"}