{"version":3,"file":"useRadioGroup.js","sources":["../../../../../../src/components/Radio/RadioGroup/useRadioGroup.ts"],"sourcesContent":["import React from 'react';\nimport type { RadioGroupProps } from './RadioGroup';\nimport type { RadioGroupContextType } from './RadioContext';\nimport isUndefined from '~utils/lodashButBetter/isUndefined';\nimport { useControllableState } from '~utils/useControllable';\nimport { useTheme } from '~components/BladeProvider';\nimport { useId } from '~utils/useId';\n\ntype UseRadioGroupProps = Pick<\n  RadioGroupProps,\n  | 'isDisabled'\n  | 'isRequired'\n  | 'labelPosition'\n  | 'validationState'\n  | 'name'\n  | 'value'\n  | 'defaultValue'\n  | 'onChange'\n  | 'necessityIndicator'\n  | 'size'\n>;\n\nexport type State = {\n  value: string;\n  setValue(value: string, event: React.ChangeEvent<Element>): void;\n  removeValue(): void;\n  isChecked(value: string): boolean;\n};\n\ntype UseRadioGroupReturn = {\n  state: State;\n  contextValue: RadioGroupContextType;\n  ids: { labelId: string };\n};\n\nconst useRadioGroup = ({\n  value,\n  defaultValue,\n  isDisabled,\n  isRequired,\n  labelPosition,\n  onChange,\n  validationState,\n  necessityIndicator,\n  name,\n  size,\n}: UseRadioGroupProps): UseRadioGroupReturn => {\n  const { platform } = useTheme();\n  const idBase = useId('radio-group');\n  const labelId = `${idBase}-label`;\n  const fallbackName = name ?? idBase;\n  const [checkedValue, setValue] = useControllableState({\n    value,\n    defaultValue,\n    onChange: (v, event) => {\n      onChange?.({ value: v, name: fallbackName, event });\n    },\n  });\n\n  const state = React.useMemo<State>(() => {\n    return {\n      value: checkedValue,\n      setValue(v, event): void {\n        if (isDisabled) {\n          return;\n        }\n\n        setValue(() => v, false, event);\n      },\n      removeValue(): void {\n        if (isDisabled) {\n          return;\n        }\n\n        setValue(undefined!);\n      },\n      isChecked(v: string): boolean {\n        if (isUndefined(v) || isUndefined(checkedValue)) return false;\n        return checkedValue === v;\n      },\n    };\n  }, [checkedValue, isDisabled, setValue]);\n\n  const contextValue = React.useMemo<RadioGroupContextType>(() => {\n    return {\n      necessityIndicator,\n      validationState,\n      isDisabled,\n      isRequired,\n      labelPosition: platform === 'onMobile' ? 'top' : labelPosition,\n      name: fallbackName,\n      state,\n      size,\n    };\n  }, [\n    validationState,\n    isDisabled,\n    isRequired,\n    platform,\n    labelPosition,\n    state,\n    fallbackName,\n    necessityIndicator,\n    size,\n  ]);\n\n  return { state, contextValue, ids: { labelId } };\n};\n\nexport { useRadioGroup };\n"],"names":["useRadioGroup","_ref","value","defaultValue","isDisabled","isRequired","labelPosition","onChange","validationState","necessityIndicator","name","size","_useTheme","useTheme","platform","idBase","useId","labelId","fallbackName","_useControllableState","useControllableState","v","event","_useControllableState2","_slicedToArray","checkedValue","setValue","state","React","useMemo","_setValue","_x","_x2","apply","arguments","toString","removeValue","undefined","isChecked","isUndefined","contextValue","ids"],"mappings":"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"}