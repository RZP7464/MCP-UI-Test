{"version":3,"file":"Radio.js","sources":["../../../../../src/components/Radio/Radio.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/restrict-plus-operands */\n/* eslint-disable @typescript-eslint/no-shadow */\nimport React from 'react';\nimport type { OnChange } from './useRadio';\nimport { useRadio } from './useRadio';\nimport { RadioIcon } from './RadioIcon/RadioIcon';\nimport { useRadioGroupContext } from './RadioGroup/RadioContext';\nimport { radioHoverTokens, radioSizes } from './radioTokens';\nimport isEmpty from '~utils/lodashButBetter/isEmpty';\nimport { SelectorLabel } from '~components/Form/Selector/SelectorLabel';\nimport BaseBox from '~components/Box/BaseBox';\nimport { SelectorTitle } from '~components/Form/Selector/SelectorTitle';\nimport { SelectorSupportText } from '~components/Form/Selector/SelectorSupportText';\nimport { SelectorInput } from '~components/Form/Selector/SelectorInput';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport type {\n  BladeElementRef,\n  DataAnalyticsAttribute,\n  StringChildrenType,\n  TestID,\n} from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { getPlatformType, makeSize, useTheme } from '~utils';\nimport { MetaConstants } from '~utils/metaAttribute';\nimport { throwBladeError } from '~utils/logger';\nimport type { MotionMetaProp } from '~components/BaseMotion';\nimport { getInnerMotionRef, getOuterMotionRef } from '~utils/getMotionRefs';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype RadioProps = {\n  /**\n   * Sets the label text of the Radio\n   */\n  children?: StringChildrenType;\n  /**\n   * Help text for the Radio\n   */\n  helpText?: string;\n  /**\n   * The value to be used in the Radio input.\n   * This is the value that will be returned on form submission.\n   */\n  value: string;\n  /**\n   * If `true`, the Radio will be disabled\n   *\n   * @default false\n   */\n  isDisabled?: boolean;\n  /**\n   * Size of the radios\n   *\n   * @default \"medium\"\n   */\n  size?: 'small' | 'medium' | 'large';\n  /**\n   * @private\n   * Internal prop to hide the radio icon\n   * @default false\n   */\n  _hideRadioIcon?: boolean;\n} & TestID &\n  DataAnalyticsAttribute &\n  StyledPropsBlade &\n  MotionMetaProp;\n\nconst _Radio: React.ForwardRefRenderFunction<BladeElementRef, RadioProps> = (\n  {\n    value,\n    children,\n    helpText,\n    isDisabled,\n    size = 'medium',\n    _hideRadioIcon = false,\n    testID,\n    _motionMeta,\n    ...rest\n  },\n  ref,\n) => {\n  const { theme } = useTheme();\n  const groupProps = useRadioGroupContext();\n  const isInsideGroup = !isEmpty(groupProps);\n\n  if (__DEV__) {\n    if (!isInsideGroup) {\n      throwBladeError({\n        moduleName: 'Radio',\n        message: 'Cannot use <Radio /> outside of <RadioGroup />',\n      });\n    }\n  }\n\n  const isChecked = groupProps?.state?.isChecked(value);\n  const defaultChecked =\n    groupProps?.defaultValue === undefined ? undefined : groupProps?.defaultValue === value;\n  const validationState = groupProps?.validationState;\n  const hasError = validationState === 'error';\n  const _isDisabled = isDisabled ?? groupProps?.isDisabled;\n  const _isRequired = groupProps?.isRequired || groupProps?.necessityIndicator === 'required';\n  const name = groupProps?.name;\n  const showHelpText = helpText;\n  const isReactNative = getPlatformType() === 'react-native';\n  const _size = groupProps.size ?? size;\n\n  const handleChange: OnChange = ({ isChecked, value, event }) => {\n    if (isChecked) {\n      groupProps?.state?.setValue(value!, event);\n    } else {\n      groupProps?.state?.removeValue();\n    }\n  };\n\n  const { state, ids, inputProps } = useRadio({\n    defaultChecked,\n    isChecked,\n    hasError,\n    isDisabled: _isDisabled,\n    isRequired: _isRequired,\n    name,\n    value,\n    onChange: handleChange,\n  });\n\n  // radio icon's size & margin + margin-left of SelectorTitle which is 2\n  const helpTextLeftSpacing = makeSize(radioSizes.icon[size].width + theme.spacing[3]);\n\n  return (\n    <BaseBox ref={getOuterMotionRef({ _motionMeta, ref })} {...getStyledProps(rest)}>\n      <SelectorLabel\n        componentName={MetaConstants.RadioLabel}\n        inputProps={isReactNative ? inputProps : {}}\n        testID={testID}\n      >\n        <BaseBox display=\"flex\" flexDirection=\"column\">\n          <BaseBox display=\"flex\" alignItems=\"center\" flexDirection=\"row\">\n            <SelectorInput\n              hoverTokens={radioHoverTokens}\n              isChecked={state.isChecked}\n              isDisabled={_isDisabled}\n              hasError={hasError}\n              inputProps={inputProps}\n              ref={getInnerMotionRef({ _motionMeta, ref })}\n              {...makeAnalyticsAttribute(rest)}\n            />\n            {!_hideRadioIcon && (\n              <RadioIcon\n                size={_size}\n                isChecked={state.isChecked}\n                isDisabled={_isDisabled}\n                isNegative={hasError}\n              />\n            )}\n            {children ? (\n              <SelectorTitle size={_size} isDisabled={_isDisabled}>\n                {children}\n              </SelectorTitle>\n            ) : null}\n          </BaseBox>\n          {showHelpText && (\n            <BaseBox marginLeft={helpTextLeftSpacing}>\n              <SelectorSupportText size={_size} id={ids?.helpTextId}>\n                {helpText}\n              </SelectorSupportText>\n            </BaseBox>\n          )}\n        </BaseBox>\n      </SelectorLabel>\n    </BaseBox>\n  );\n};\n\nconst Radio = assignWithoutSideEffects(React.forwardRef(_Radio), { displayName: 'Radio' });\n\nexport type { RadioProps };\nexport { Radio };\n"],"names":["_Radio","_ref","ref","_groupProps$state","_groupProps$size","value","children","helpText","isDisabled","_ref$size","size","_ref$_hideRadioIcon","_hideRadioIcon","testID","_motionMeta","rest","_objectWithoutProperties","_excluded","_useTheme","useTheme","theme","groupProps","useRadioGroupContext","isInsideGroup","isEmpty","__DEV__","throwBladeError","moduleName","message","isChecked","state","defaultChecked","defaultValue","undefined","validationState","hasError","_isDisabled","_isRequired","isRequired","necessityIndicator","name","showHelpText","isReactNative","getPlatformType","_size","handleChange","_ref2","event","_groupProps$state2","setValue","_groupProps$state3","removeValue","_useRadio","useRadio","onChange","ids","inputProps","helpTextLeftSpacing","makeSize","radioSizes","icon","width","spacing","_jsx","BaseBox","Object","assign","getOuterMotionRef","getStyledProps","SelectorLabel","componentName","MetaConstants","RadioLabel","_jsxs","display","flexDirection","alignItems","SelectorInput","hoverTokens","radioHoverTokens","getInnerMotionRef","makeAnalyticsAttribute","RadioIcon","isNegative","SelectorTitle","marginLeft","SelectorSupportText","id","helpTextId","Radio","assignWithoutSideEffects","React","forwardRef","displayName"],"mappings":"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"}