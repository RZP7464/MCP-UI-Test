{"version":3,"file":"Badge.js","sources":["../../../../../src/components/Badge/Badge.tsx"],"sourcesContent":["import React from 'react';\nimport type { ReactElement } from 'react';\nimport type { StyledBadgeProps } from './types';\nimport { StyledBadge } from './StyledBadge';\nimport { iconPadding, iconSize, horizontalPadding, badgeHeight } from './badgeTokens';\nimport type { IconComponent, IconProps } from '~components/Icons';\nimport BaseBox from '~components/Box/BaseBox';\nimport type { FeedbackColors, SubtleOrIntense } from '~tokens/theme/theme';\nimport type { BaseTextProps } from '~components/Typography/BaseText/types';\nimport { Text } from '~components/Typography';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport type {\n  DataAnalyticsAttribute,\n  BladeElementRef,\n  StringChildrenType,\n  TestID,\n} from '~utils/types';\nimport { getStringFromReactText } from '~src/utils/getStringChildren';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { isReactNative, makeSize } from '~utils';\nimport { throwBladeError } from '~utils/logger';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype BadgeProps = {\n  /**\n   * Sets the label for the badge.\n   *\n   */\n  children: StringChildrenType;\n  /**\n   * Sets the color of the badge.\n   *\n   * @default 'neutral'\n   */\n  color?: FeedbackColors | 'primary';\n  /**\n   * Sets the contrast of the badge.\n   *\n   * @default 'subtle'\n   */\n  emphasis?: SubtleOrIntense;\n  /**\n   * Sets the size of the badge.\n   *\n   * @default 'medium'\n   */\n  size?: 'xsmall' | 'small' | 'medium' | 'large';\n  /**\n   * Icon to be displayed in the badge.\n   * Accepts a component of type `IconComponent` from Blade.\n   *\n   */\n  icon?: IconComponent;\n} & TestID &\n  StyledPropsBlade &\n  DataAnalyticsAttribute;\n\ntype ColorProps = {\n  iconColor: IconProps['color'];\n  textColor: BaseTextProps['color'];\n  backgroundColor: StyledBadgeProps['backgroundColor'];\n};\n\nconst getColorProps = ({\n  color,\n  emphasis,\n}: {\n  color: NonNullable<BadgeProps['color']>;\n  emphasis: NonNullable<BadgeProps['emphasis']>;\n}): ColorProps => {\n  const props: ColorProps = {\n    iconColor: 'feedback.icon.neutral.intense',\n    textColor: 'feedback.text.neutral.intense',\n    backgroundColor: 'feedback.background.neutral.subtle',\n  };\n\n  if (color === 'primary') {\n    // primary color badge\n    props.textColor =\n      emphasis === 'intense' ? `surface.text.staticWhite.normal` : `surface.text.primary.normal`;\n    props.iconColor =\n      emphasis === 'intense' ? `surface.icon.staticWhite.normal` : `surface.icon.primary.normal`;\n    props.backgroundColor = `surface.background.primary.${emphasis}`;\n  } else {\n    // feedback colors badge\n    props.textColor =\n      emphasis === 'intense' ? `surface.text.staticWhite.normal` : `feedback.text.${color}.intense`;\n    props.iconColor =\n      emphasis === 'intense' ? `surface.icon.staticWhite.normal` : `feedback.icon.${color}.intense`;\n    props.backgroundColor = `feedback.background.${color}.${emphasis}`;\n  }\n\n  return props;\n};\n\nconst _Badge = (\n  {\n    children,\n    emphasis = 'subtle',\n    icon: Icon,\n    size = 'medium',\n    color = 'neutral',\n    testID,\n    ...props\n  }: BadgeProps,\n  ref: React.Ref<BladeElementRef>,\n): ReactElement => {\n  const childrenString = getStringFromReactText(children);\n  if (__DEV__) {\n    if (!childrenString?.trim()) {\n      throwBladeError({\n        message: 'Text as children is required for Badge.',\n        moduleName: 'Badge',\n      });\n    }\n  }\n\n  const { backgroundColor, iconColor, textColor } = getColorProps({\n    color,\n    emphasis,\n  });\n\n  const badgeTextSizes = {\n    xsmall: {\n      variant: 'body',\n      size: 'xsmall',\n    },\n    small: {\n      variant: 'body',\n      size: 'xsmall',\n    },\n    medium: {\n      variant: 'body',\n      size: 'small',\n    },\n    large: {\n      variant: 'body',\n      size: 'small',\n    },\n  } as const;\n\n  return (\n    <BaseBox\n      ref={ref as never}\n      display={(isReactNative() ? 'flex' : 'inline-flex') as never}\n      {...metaAttribute({ name: MetaConstants.Badge, testID })}\n      {...getStyledProps(props)}\n      {...makeAnalyticsAttribute(props)}\n    >\n      <StyledBadge\n        height={makeSize(badgeHeight[size])}\n        backgroundColor={backgroundColor}\n        size={size}\n        textAlign={'left' as never}\n      >\n        <BaseBox\n          paddingX={horizontalPadding[size]}\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          overflow=\"hidden\"\n        >\n          {Icon ? (\n            <BaseBox paddingRight={Boolean(Icon) ? iconPadding[size] : 'spacing.0'} display=\"flex\">\n              <Icon color={iconColor} size={iconSize[size]} />\n            </BaseBox>\n          ) : null}\n          <Text {...badgeTextSizes[size]} weight=\"medium\" truncateAfterLines={1} color={textColor}>\n            {children}\n          </Text>\n        </BaseBox>\n      </StyledBadge>\n    </BaseBox>\n  );\n};\n\nconst Badge = assignWithoutSideEffects(React.forwardRef(_Badge), {\n  displayName: 'Badge',\n  componentId: 'Badge',\n});\n\nexport type { BadgeProps };\nexport { Badge };\n"],"names":["getColorProps","_ref","color","emphasis","props","iconColor","textColor","backgroundColor","_Badge","_ref2","ref","children","_ref2$emphasis","Icon","icon","_ref2$size","size","_ref2$color","testID","_objectWithoutProperties","_excluded","childrenString","getStringFromReactText","__DEV__","trim","throwBladeError","message","moduleName","_getColorProps","badgeTextSizes","xsmall","variant","small","medium","large","_jsx","BaseBox","Object","assign","display","isReactNative","metaAttribute","name","MetaConstants","Badge","getStyledProps","makeAnalyticsAttribute","StyledBadge","height","makeSize","badgeHeight","textAlign","_jsxs","paddingX","horizontalPadding","flexDirection","justifyContent","alignItems","overflow","paddingRight","Boolean","iconPadding","iconSize","Text","weight","truncateAfterLines","assignWithoutSideEffects","React","forwardRef","displayName","componentId"],"mappings":"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"}