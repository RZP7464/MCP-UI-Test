{"version":3,"file":"BaseHeader.js","sources":["../../../../../src/components/BaseHeaderFooter/BaseHeader.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport type { ReactDOMAttributes } from '@use-gesture/react/dist/declarations/src/types';\nimport { Divider } from '~components/Divider';\nimport type { DividerProps } from '~components/Divider';\nimport BaseBox from '~components/Box/BaseBox';\nimport { Heading, Text } from '~components/Typography';\nimport { IconButton } from '~components/Button/IconButton';\nimport { ChevronLeftIcon, CloseIcon } from '~components/Icons';\nimport type { DataAnalyticsAttribute, TestID, ElementTiming } from '~utils/types';\nimport type { BoxProps } from '~components/Box';\nimport { Box } from '~components/Box';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { getComponentId } from '~utils/isValidAllowedChildren';\nimport { isReactNative, makeSize } from '~utils';\nimport { metaAttribute } from '~utils/metaAttribute';\nimport { logger, throwBladeError } from '~utils/logger';\nimport { size as sizeToken } from '~tokens/global';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype BaseHeaderProps = {\n  title?: string;\n  subtitle?: string;\n  /**\n   * Leading part of the header placed at the left most side of the header\n   */\n  leading?: React.ReactNode;\n  /**\n   * Trailing part of the header placed at the right most side of the header\n   */\n  trailing?: React.ReactNode;\n  /**\n   * Placed adjacent to the title text\n   */\n  titleSuffix?: React.ReactNode;\n  /**\n   * @default true\n   */\n  showDivider?: boolean;\n  /**\n   * @default false\n   */\n  showBackButton?: boolean;\n\n  /**\n   * Slot for rendering any trailing interaction element into BaseHeader.\n   *\n   * E.g. Used in accordion to render CollapsibleChevronIcon\n   */\n  trailingInteractionElement?: React.ReactNode;\n\n  /**\n   * Decides size of the Header\n   */\n  size?: 'xlarge' | 'large' | 'medium';\n  /**\n   * @default true\n   */\n  showCloseButton?: boolean;\n\n  /**\n   * Disabled state of BaseHeader\n   *\n   * @default false\n   */\n  isDisabled?: boolean;\n\n  paddingX?: BoxProps['paddingX'];\n  marginY?: BoxProps['marginY'];\n  marginTop?: BoxProps['marginTop'];\n  marginBottom?: BoxProps['marginBottom'];\n  alignItems?: BoxProps['alignItems'];\n  dividerProps?: DividerProps;\n\n  onCloseButtonClick?: () => void;\n  onBackButtonClick?: () => void;\n  closeButtonRef?: React.MutableRefObject<any>;\n  backButtonRef?: React.MutableRefObject<any>;\n  metaComponentName?: string;\n  /**\n   * inner child of BottomSheetHeader. Meant to be used for AutoComplete only\n   */\n  children?: React.ReactElement | React.ReactElement[];\n  /**\n   * Background image of the header\n   *\n   * You can use this for adding gradients.\n   */\n  backgroundImage?: BoxProps['backgroundImage'];\n  /**\n   * So we add a wrapper with custom styles in elements like leading, trailing interaction elements and trailing.\n   * this props allows you to control that.\n   *\n   * For example, in Accordion, we add a wrapper with flex to center the icon (in some cases)\n   *\n   * @default false\n   */\n  shouldAlignLeadingAndTrailingElementsToCenter?: boolean;\n} & Pick<\n  ReactDOMAttributes,\n  | 'onClickCapture'\n  | 'onKeyDown'\n  | 'onKeyUp'\n  | 'onLostPointerCapture'\n  | 'onPointerCancel'\n  | 'onPointerDown'\n  | 'onPointerMove'\n  | 'onPointerUp'\n> &\n  TestID &\n  ElementTiming &\n  DataAnalyticsAttribute;\n\ntype TrailingComponents = 'Button' | 'Badge' | 'Link' | 'Text' | 'Amount';\n\nconst commonCenterBoxProps: BoxProps = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n};\n\nconst centerBoxProps: { xlarge: BoxProps; large: BoxProps; medium: BoxProps } = {\n  xlarge: {\n    ...commonCenterBoxProps,\n    height: '28px',\n  },\n  large: {\n    ...commonCenterBoxProps,\n    // We want to align title, icon, titleSuffix, trailing, closeButton to baseline\n    // But we also want to keep them center aligned to each other\n    // So we add a virtual Box around these slots with 28px and center align them to that box\n    // We have done similar thing in figma as well (which is where this 28px comes from)\n    height: '28px',\n  },\n  medium: {\n    ...commonCenterBoxProps,\n    height: '20px',\n  },\n};\n\nconst absolutePositionedButton = {\n  position: 'absolute',\n  top: 'spacing.0',\n  right: 'spacing.0',\n} as const;\n\nconst sizeTokensMapping = {\n  xlarge: {\n    title: 'small',\n    type: 'heading',\n  },\n  large: {\n    title: 'large',\n    type: 'text',\n  },\n  medium: {\n    title: 'medium',\n    type: 'text',\n  },\n} as const;\n\n// prop restriction map for corresponding sub components\nconst propRestrictionMap = {\n  large: {\n    Button: {\n      size: 'xsmall',\n      variant: 'tertiary',\n    },\n    IconButton: {\n      size: 'large',\n    },\n    Badge: {\n      size: 'medium',\n    },\n    Link: {\n      size: 'medium',\n    },\n    Text: {\n      size: 'medium',\n      variant: 'body',\n    },\n    Amount: {\n      type: 'body',\n      size: 'medium',\n    },\n  },\n  xlarge: {\n    Button: {\n      size: 'xsmall',\n      variant: 'tertiary',\n    },\n    IconButton: {\n      size: 'large',\n    },\n    Badge: {\n      size: 'medium',\n    },\n    Link: {\n      size: 'medium',\n    },\n    Text: {\n      size: 'medium',\n      variant: 'body',\n    },\n    Amount: {\n      type: 'body',\n      size: 'medium',\n    },\n  },\n  medium: {\n    Button: {\n      size: 'xsmall',\n      variant: 'tertiary',\n    },\n    IconButton: {\n      size: 'large',\n    },\n    Badge: {\n      size: 'small',\n    },\n    Link: {\n      size: 'small',\n    },\n    Text: {\n      size: 'small',\n      variant: 'body',\n    },\n    Amount: {\n      type: 'body',\n      size: 'small',\n    },\n  },\n} as const;\n\nconst useTrailingRestriction = ({\n  trailing,\n  size,\n}: {\n  size: NonNullable<BaseHeaderProps['size']>;\n  trailing: BaseHeaderProps['trailing'];\n}): React.ReactNode => {\n  const [\n    validatedTrailingComponent,\n    setValidatedTrailingComponent,\n  ] = React.useState<React.ReactElement | null>(null);\n\n  // validate and restrict sub component props in trailing prop\n  React.useEffect(() => {\n    if (React.isValidElement(trailing)) {\n      const trailingComponentType = getComponentId(trailing) as TrailingComponents;\n      const restrictedProps = propRestrictionMap[size][trailingComponentType];\n\n      const allowedComponents = Object.keys(propRestrictionMap[size]);\n      if (__DEV__) {\n        if (!restrictedProps) {\n          throwBladeError({\n            message: `Only one of \\`${allowedComponents.join(\n              ', ',\n            )}\\` component is accepted as trailing`,\n            moduleName: 'Header',\n          });\n        }\n      }\n\n      const restrictedPropKeys = Object.keys(propRestrictionMap[size][trailingComponentType]);\n      for (const prop of restrictedPropKeys) {\n        if (trailing?.props?.hasOwnProperty(prop)) {\n          logger({\n            message: `Do not pass \"${prop}\" to \"${trailingComponentType}\" while inside Header trailing, because we override it.`,\n            moduleName: 'Header',\n            type: 'warn',\n          });\n        }\n      }\n      setValidatedTrailingComponent(\n        React.cloneElement(trailing as React.ReactElement, restrictedProps),\n      );\n    }\n  }, [trailing, size]);\n\n  return validatedTrailingComponent;\n};\n\nconst _BaseHeader = ({\n  title,\n  subtitle,\n  leading,\n  titleSuffix,\n  trailing,\n  showDivider = true,\n  showBackButton = false,\n  showCloseButton = true,\n  onBackButtonClick,\n  onCloseButtonClick,\n  closeButtonRef,\n  backButtonRef,\n  testID,\n  onClickCapture,\n  onKeyDown,\n  onKeyUp,\n  onLostPointerCapture,\n  onPointerCancel,\n  onPointerDown,\n  onPointerMove,\n  onPointerUp,\n  metaComponentName,\n  paddingX,\n  marginY,\n  marginBottom,\n  marginTop,\n  size = 'large',\n  isDisabled,\n  children,\n  trailingInteractionElement,\n  backgroundImage,\n  alignItems = 'flex-start',\n  dividerProps,\n  shouldAlignLeadingAndTrailingElementsToCenter = false,\n  ...rest\n}: BaseHeaderProps): React.ReactElement => {\n  const validatedTrailingComponent = useTrailingRestriction({ trailing, size });\n  const shouldWrapTitle = titleSuffix && trailing && showBackButton && showCloseButton;\n  const hasOnlyChildren = children && !(title || subtitle || titleSuffix || leading);\n\n  const webOnlyEventHandlers: Record<string, any> = isReactNative()\n    ? {}\n    : {\n        onClickCapture,\n        onKeyDown,\n        onKeyUp,\n        onLostPointerCapture,\n        onPointerCancel,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n      };\n\n  const renderTrailingInteractionElementWithChildren = (): React.ReactNode => {\n    if (trailingInteractionElement && children) {\n      return (\n        <Box\n          alignSelf={shouldAlignLeadingAndTrailingElementsToCenter ? 'center' : 'flex-start'}\n          {...centerBoxProps[size]}\n        >\n          {trailingInteractionElement}\n        </Box>\n      );\n    }\n    return null;\n  };\n\n  const renderTrailingInteractionElementWithoutChildren = (): React.ReactNode => {\n    if (trailingInteractionElement && !children) {\n      return (\n        <Box\n          {...centerBoxProps[size]}\n          alignSelf={shouldAlignLeadingAndTrailingElementsToCenter ? 'center' : undefined}\n        >\n          {trailingInteractionElement}\n        </Box>\n      );\n    }\n    return null;\n  };\n\n  const renderLeadingElement = (): React.ReactNode => {\n    if (Boolean(leading)) {\n      return (\n        <BaseBox\n          marginRight=\"spacing.3\"\n          {...centerBoxProps[size]}\n          alignSelf={shouldAlignLeadingAndTrailingElementsToCenter ? 'center' : undefined}\n        >\n          {leading}\n        </BaseBox>\n      );\n    }\n    return null;\n  };\n\n  const renderTrailingElement = (): React.ReactNode => {\n    if (shouldAlignLeadingAndTrailingElementsToCenter && validatedTrailingComponent) {\n      return (\n        <BaseBox marginRight=\"spacing.5\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n          <Box {...centerBoxProps[size]}>{validatedTrailingComponent}</Box>\n        </BaseBox>\n      );\n    }\n    if (validatedTrailingComponent) {\n      return (\n        <BaseBox marginRight=\"spacing.5\">\n          <Box {...centerBoxProps[size]}>{validatedTrailingComponent}</Box>\n        </BaseBox>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <BaseBox\n      {...metaAttribute({ name: metaComponentName, testID })}\n      {...makeAnalyticsAttribute(rest)}\n      backgroundImage={backgroundImage}\n    >\n      <BaseBox\n        marginY={marginY ?? { base: 'spacing.5', m: 'spacing.6' }}\n        paddingX={paddingX ?? { base: 'spacing.5', m: 'spacing.6' }}\n        marginTop={marginTop}\n        marginBottom={marginBottom}\n        touchAction=\"none\"\n        {...webOnlyEventHandlers}\n      >\n        <BaseBox position=\"relative\" display=\"flex\" flexDirection=\"row\" userSelect=\"none\">\n          {showBackButton ? (\n            <BaseBox overflow=\"visible\" marginRight=\"spacing.5\">\n              <Box {...centerBoxProps[size]}>\n                <IconButton\n                  ref={backButtonRef}\n                  size=\"large\"\n                  icon={ChevronLeftIcon}\n                  onClick={() => onBackButtonClick?.()}\n                  accessibilityLabel=\"Back\"\n                />\n              </Box>\n            </BaseBox>\n          ) : null}\n          {hasOnlyChildren ? null : (\n            <BaseBox\n              paddingRight=\"spacing.5\"\n              marginRight=\"auto\"\n              flex=\"auto\"\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems={alignItems}\n            >\n              {renderLeadingElement()}\n              <BaseBox flex=\"auto\">\n                <BaseBox\n                  // Explicitly setting maxWidth in React Native because text is not being wrapped properly when multiple fix width components are rendered in header\n                  // In web, flex containers seem to work a expected\n                  // @todo: resolve this if we figure out some better solution later\n                  maxWidth={isReactNative() && shouldWrapTitle ? '100px' : undefined}\n                  flexShrink={0}\n                  display=\"flex\"\n                  flexDirection=\"row\"\n                >\n                  {title ? (\n                    sizeTokensMapping[size].type === 'heading' ? (\n                      <Heading\n                        as=\"h2\"\n                        marginTop={makeSize(sizeToken['1'])}\n                        size={sizeTokensMapping[size].title}\n                        weight=\"semibold\"\n                        color={\n                          isDisabled ? 'surface.text.gray.disabled' : 'surface.text.gray.normal'\n                        }\n                        wordBreak=\"break-word\"\n                      >\n                        {title}\n                      </Heading>\n                    ) : (\n                      <Text\n                        size={sizeTokensMapping[size].title}\n                        marginTop={makeSize(sizeToken['1'])}\n                        weight=\"semibold\"\n                        color={\n                          isDisabled ? 'surface.text.gray.disabled' : 'surface.text.gray.normal'\n                        }\n                        wordBreak=\"break-word\"\n                      >\n                        {title}\n                      </Text>\n                    )\n                  ) : null}\n                  {titleSuffix && (\n                    <BaseBox marginLeft=\"spacing.3\">\n                      <Box {...centerBoxProps[size]}>{titleSuffix}</Box>\n                    </BaseBox>\n                  )}\n                </BaseBox>\n                {subtitle ? (\n                  <Text\n                    variant=\"body\"\n                    size=\"small\"\n                    weight=\"regular\"\n                    color={isDisabled ? 'surface.text.gray.disabled' : 'surface.text.gray.muted'}\n                  >\n                    {subtitle}\n                  </Text>\n                ) : null}\n              </BaseBox>\n            </BaseBox>\n          )}\n          {renderTrailingElement()}\n\n          {showCloseButton ? (\n            <Box {...(hasOnlyChildren ? absolutePositionedButton : centerBoxProps[size])}>\n              <IconButton\n                ref={closeButtonRef}\n                size=\"large\"\n                icon={CloseIcon}\n                accessibilityLabel=\"Close\"\n                onClick={() => onCloseButtonClick?.()}\n              />\n            </Box>\n          ) : null}\n          {renderTrailingInteractionElementWithoutChildren()}\n        </BaseBox>\n        <BaseBox\n          display=\"flex\"\n          width=\"100%\"\n          flexDirection=\"row\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n        >\n          <Box width=\"100%\">{children}</Box>\n          {renderTrailingInteractionElementWithChildren()}\n        </BaseBox>\n      </BaseBox>\n      {showDivider ? <Divider {...dividerProps} /> : null}\n    </BaseBox>\n  );\n};\n\nconst BaseHeader = assignWithoutSideEffects(_BaseHeader, {\n  componentId: 'BaseHeader',\n});\n\nexport type { BaseHeaderProps };\nexport { BaseHeader };\n"],"names":["commonCenterBoxProps","display","alignItems","justifyContent","centerBoxProps","xlarge","Object","assign","height","large","medium","absolutePositionedButton","position","top","right","sizeTokensMapping","title","type","propRestrictionMap","Button","size","variant","IconButton","Badge","Link","Text","Amount","useTrailingRestriction","_ref","trailing","_React$useState","React","useState","_React$useState2","_slicedToArray","validatedTrailingComponent","setValidatedTrailingComponent","useEffect","isValidElement","trailingComponentType","getComponentId","restrictedProps","allowedComponents","keys","__DEV__","throwBladeError","message","join","moduleName","restrictedPropKeys","prop","_trailing$props","props","hasOwnProperty","logger","cloneElement","_BaseHeader","_ref2","subtitle","leading","titleSuffix","_ref2$showDivider","showDivider","_ref2$showBackButton","showBackButton","_ref2$showCloseButton","showCloseButton","onBackButtonClick","onCloseButtonClick","closeButtonRef","backButtonRef","testID","onClickCapture","onKeyDown","onKeyUp","onLostPointerCapture","onPointerCancel","onPointerDown","onPointerMove","onPointerUp","metaComponentName","paddingX","marginY","marginBottom","marginTop","_ref2$size","isDisabled","children","trailingInteractionElement","backgroundImage","_ref2$alignItems","dividerProps","_ref2$shouldAlignLead","shouldAlignLeadingAndTrailingElementsToCenter","rest","_objectWithoutProperties","_excluded","shouldWrapTitle","hasOnlyChildren","webOnlyEventHandlers","isReactNative","renderTrailingInteractionElementWithChildren","_jsx","Box","alignSelf","renderTrailingInteractionElementWithoutChildren","undefined","renderLeadingElement","Boolean","BaseBox","marginRight","renderTrailingElement","_jsxs","metaAttribute","name","makeAnalyticsAttribute","base","m","touchAction","flexDirection","userSelect","overflow","ref","icon","ChevronLeftIcon","onClick","accessibilityLabel","paddingRight","flex","maxWidth","flexShrink","Heading","as","makeSize","sizeToken","weight","color","wordBreak","marginLeft","CloseIcon","width","Divider","BaseHeader","assignWithoutSideEffects","componentId"],"mappings":"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"}