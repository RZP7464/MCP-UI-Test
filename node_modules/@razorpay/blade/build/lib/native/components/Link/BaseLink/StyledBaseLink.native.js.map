{"version":3,"file":"StyledBaseLink.native.js","sources":["../../../../../../src/components/Link/BaseLink/StyledBaseLink.native.tsx"],"sourcesContent":["import React from 'react';\nimport type { ReactElement } from 'react';\nimport type { GestureResponderEvent } from 'react-native';\nimport { Linking } from 'react-native';\nimport styled from 'styled-components/native';\nimport type { StyledBaseLinkProps } from './types';\nimport getStyledLinkStyles from './getStyledLinkStyles';\nimport { useStyledProps } from '~components/Box/styledProps';\nimport type { BladeElementRef } from '~utils/types';\nimport { castNativeType } from '~utils';\nimport { logger } from '~utils/logger';\n\nconst StyledNativeLink = styled.Pressable((props) => {\n  const styledPropsCSSObject = useStyledProps(props);\n  return {\n    ...getStyledLinkStyles({}),\n    alignSelf: 'flex-start',\n    ...styledPropsCSSObject,\n  };\n});\n\nconst openURL = async (href: string): Promise<void> => {\n  try {\n    const canOpen = await Linking.canOpenURL(href);\n    if (canOpen) {\n      await Linking.openURL(href);\n    }\n  } catch {\n    if (__DEV__) {\n      logger({\n        message: `Could not open the link \"href=${href}\"`,\n        moduleName: 'BaseLink',\n        type: 'warn',\n      });\n    }\n  }\n};\n\nconst _StyledLink: React.ForwardRefRenderFunction<\n  BladeElementRef,\n  StyledBaseLinkProps & { children: React.ReactNode }\n> = (\n  {\n    variant,\n    disabled,\n    href,\n    onClick,\n    children,\n    setCurrentInteraction,\n    accessibilityProps,\n    // @ts-expect-error avoid exposing to public\n    style,\n    testID,\n    hitSlop,\n    onTouchStart,\n    onTouchEnd,\n  },\n  ref,\n): ReactElement => {\n  const handleOnPress = (event: GestureResponderEvent): void => {\n    if (href && variant === 'anchor') {\n      void openURL(href);\n    }\n\n    if (onClick) {\n      /*\n      React Native's Pressable's onClick returns a GestureResponderEvent but our types expect a SyntheticEvent.\n      Until we have a way to handle platform specific types, we will have to ignore this TS error.\n      */\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      //@ts-expect-error\n      onClick(event);\n    }\n  };\n\n  return (\n    <StyledNativeLink\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ref={ref as any}\n      {...accessibilityProps}\n      disabled={disabled}\n      onPress={handleOnPress}\n      onPressIn={(): void => setCurrentInteraction('focus')}\n      onPressOut={(): void => setCurrentInteraction('default')}\n      onTouchStart={castNativeType(onTouchStart)}\n      onTouchEnd={castNativeType(onTouchEnd)}\n      style={style}\n      testID={testID}\n      hitSlop={hitSlop}\n    >\n      {children}\n    </StyledNativeLink>\n  );\n};\n\nconst StyledLink = React.forwardRef(_StyledLink);\n\nexport default StyledLink;\n"],"names":["StyledNativeLink","styled","Pressable","props","styledPropsCSSObject","useStyledProps","Object","assign","getStyledLinkStyles","alignSelf","openURL","_ref","_asyncToGenerator","href","canOpen","Linking","canOpenURL","_unused","__DEV__","logger","message","moduleName","type","_x","apply","arguments","_StyledLink","_ref2","ref","variant","disabled","onClick","children","setCurrentInteraction","accessibilityProps","style","testID","hitSlop","onTouchStart","onTouchEnd","handleOnPress","event","_jsx","onPress","onPressIn","onPressOut","castNativeType","StyledLink","React","forwardRef"],"mappings":";;;;;;;;;;;;AAYA,IAAMA,gBAAgB,CAAGC,MAAM,CAACC,SAAS,CAAC,SAACC,KAAK,CAAK,CACnD,IAAMC,oBAAoB,CAAGC,cAAc,CAACF,KAAK,CAAC,CAClD,OAAAG,MAAA,CAAAC,MAAA,CAAA,EAAA,CACKC,mBAAmB,CAAC,EAAE,CAAC,CAAA,CAC1BC,SAAS,CAAE,YAAY,EACpBL,oBAAoB,CAAA,CAE3B,CAAC,CAAC,CAEF,IAAMM,OAAO,gBAAAC,IAAA,CAAAC,iBAAA,CAAG,UAAOC,IAAY,CAAoB,CACrD,GAAI,CACF,IAAMC,OAAO,CAAA,MAASC,OAAO,CAACC,UAAU,CAACH,IAAI,CAAC,CAC9C,GAAIC,OAAO,CAAE,CACX,MAAMC,OAAO,CAACL,OAAO,CAACG,IAAI,CAAC,CAC7B,CACF,CAAE,MAAAI,OAAA,CAAM,CACN,GAAIC,OAAO,CAAE,CACXC,MAAM,CAAC,CACLC,OAAO,CAAE,iCAAiCP,IAAI,CAAA,CAAA,CAAG,CACjDQ,UAAU,CAAE,UAAU,CACtBC,IAAI,CAAE,MACR,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAA,CAAA,OAAA,SAfKZ,OAAOA,CAAAa,EAAA,CAAAZ,CAAAA,OAAAA,IAAA,CAAAa,KAAA,CAAA,IAAA,CAAAC,SAAA,CAeZ,CAAA,CAAA,CAAA,CAAA,EAAA,CAED,IAAMC,WAGL,CAAG,SAHEA,WAGLA,CAAAC,KAAA,CAgBCC,GAAG,CACc,KAffC,OAAO,CAAAF,KAAA,CAAPE,OAAO,CACPC,QAAQ,CAAAH,KAAA,CAARG,QAAQ,CACRjB,IAAI,CAAAc,KAAA,CAAJd,IAAI,CACJkB,OAAO,CAAAJ,KAAA,CAAPI,OAAO,CACPC,QAAQ,CAAAL,KAAA,CAARK,QAAQ,CACRC,qBAAqB,CAAAN,KAAA,CAArBM,qBAAqB,CACrBC,kBAAkB,CAAAP,KAAA,CAAlBO,kBAAkB,CAElBC,KAAK,CAAAR,KAAA,CAALQ,KAAK,CACLC,MAAM,CAAAT,KAAA,CAANS,MAAM,CACNC,OAAO,CAAAV,KAAA,CAAPU,OAAO,CACPC,YAAY,CAAAX,KAAA,CAAZW,YAAY,CACZC,UAAU,CAAAZ,KAAA,CAAVY,UAAU,CAIZ,IAAMC,aAAa,CAAG,SAAhBA,aAAaA,CAAIC,KAA4B,CAAW,CAC5D,GAAI5B,IAAI,EAAIgB,OAAO,GAAK,QAAQ,CAAE,CAChC,KAAKnB,OAAO,CAACG,IAAI,CAAC,CACpB,CAEA,GAAIkB,OAAO,CAAE,CAOXA,OAAO,CAACU,KAAK,CAAC,CAChB,CACF,CAAC,CAED,OACEC,GAAA,CAAC1C,gBAAgB,CAAAM,MAAA,CAAAC,MAAA,CAAA,CAEfqB,GAAG,CAAEA,GAAW,EACZM,kBAAkB,CAAA,CACtBJ,QAAQ,CAAEA,QAAS,CACnBa,OAAO,CAAEH,aAAc,CACvBI,SAAS,CAAE,SAAAA,SAAAA,UAAYX,qBAAqB,CAAC,OAAO,CAAC,EAAC,CACtDY,UAAU,CAAE,SAAAA,UAAAA,UAAYZ,qBAAqB,CAAC,SAAS,CAAC,EAAC,CACzDK,YAAY,CAAEQ,cAAc,CAACR,YAAY,CAAE,CAC3CC,UAAU,CAAEO,cAAc,CAACP,UAAU,CAAE,CACvCJ,KAAK,CAAEA,KAAM,CACbC,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CAAAL,QAAA,CAEhBA,QAAQ,CACO,CAAA,CAAC,CAEvB,CAAC,CAEK,IAAAe,UAAU,CAAGC,cAAK,CAACC,UAAU,CAACvB,WAAW;;;;"}