{"version":3,"file":"getA11yRoles.js","sources":["../../../../../src/components/ActionList/getA11yRoles.ts"],"sourcesContent":["import type { DropdownProps } from '~components/Dropdown';\nimport { dropdownComponentIds } from '~components/Dropdown/dropdownComponentIds';\nimport type { DropdownContextType } from '~components/Dropdown/useDropdown';\nimport { isReactNative } from '~utils';\n\n/**\n * is the role supposed to be `menu`\n */\nexport const isRoleMenu = (\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n): boolean => {\n  return (\n    isReactNative() ||\n    (dropdownTriggerer !== dropdownComponentIds.triggers.SelectInput &&\n      dropdownTriggerer !== dropdownComponentIds.triggers.AutoComplete)\n  );\n};\n\n/**\n * We switch between accessibility of `dialog` with `listbox` and buttons as a child and just `listbox` when there are action items on footer\n *\n * Not announcing `dialog` helps not throw users off for simple dropdowns.\n *\n * and having `dialog` is neccessary when there are buttons on footer\n *\n * `menu` role is required for react native.\n */\nexport const getActionListContainerRole = (\n  hasFooterAction: boolean,\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n): 'dialog' | 'listbox' | 'menu' => {\n  if (isReactNative()) {\n    return 'menu';\n  }\n\n  if (hasFooterAction) {\n    return 'dialog';\n  }\n\n  if (isRoleMenu(dropdownTriggerer)) {\n    return 'menu';\n  }\n\n  return 'listbox';\n};\n\nexport const getActionListSectionRole = (): 'group' | undefined => {\n  if (isReactNative()) {\n    return undefined;\n  }\n\n  return 'group';\n};\n\nexport const getActionListItemWrapperRole = (\n  hasFooterAction: boolean,\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n): 'listbox' | undefined => {\n  if (isRoleMenu(dropdownTriggerer)) {\n    return undefined;\n  }\n\n  if (hasFooterAction) {\n    return 'listbox';\n  }\n\n  return undefined;\n};\n\nexport const getActionListItemRole = (\n  dropdownTriggerer: DropdownContextType['dropdownTriggerer'],\n  href?: string,\n  selectionType?: DropdownProps['selectionType'],\n): 'menuitem' | 'menuitemcheckbox' | 'option' | 'link' => {\n  if (href) {\n    return 'link';\n  }\n\n  if (isRoleMenu(dropdownTriggerer)) {\n    if (selectionType === 'multiple') {\n      return 'menuitemcheckbox';\n    }\n\n    return 'menuitem';\n  }\n\n  return 'option';\n};\n"],"names":["isRoleMenu","dropdownTriggerer","isReactNative","dropdownComponentIds","triggers","SelectInput","AutoComplete","getActionListContainerRole","hasFooterAction","getActionListSectionRole","undefined","getActionListItemWrapperRole","getActionListItemRole","href","selectionType"],"mappings":";;;;;;;AAQa,IAAAA,UAAU,CAAG,SAAbA,UAAUA,CACrBC,iBAA2D,CAC/C,CACZ,OACEC,aAAa,EAAE,EACdD,iBAAiB,GAAKE,oBAAoB,CAACC,QAAQ,CAACC,WAAW,EAC9DJ,iBAAiB,GAAKE,oBAAoB,CAACC,QAAQ,CAACE,YAAa,CAEvE,EAWa,IAAAC,0BAA0B,CAAG,SAA7BA,0BAA0BA,CACrCC,eAAwB,CACxBP,iBAA2D,CACzB,CAClC,GAAIC,aAAa,EAAE,CAAE,CACnB,OAAO,MAAM,CACf,CAEA,GAAIM,eAAe,CAAE,CACnB,OAAO,QAAQ,CACjB,CAEA,GAAIR,UAAU,CAACC,iBAAiB,CAAC,CAAE,CACjC,OAAO,MAAM,CACf,CAEA,OAAO,SAAS,CAClB,EAEa,IAAAQ,wBAAwB,CAAG,SAA3BA,wBAAwBA,EAA8B,CACjE,GAAIP,aAAa,EAAE,CAAE,CACnB,OAAOQ,SAAS,CAClB,CAEA,OAAO,OAAO,CAChB,EAEa,IAAAC,4BAA4B,CAAG,SAA/BA,4BAA4BA,CACvCH,eAAwB,CACxBP,iBAA2D,CACjC,CAC1B,GAAID,UAAU,CAACC,iBAAiB,CAAC,CAAE,CACjC,OAAOS,SAAS,CAClB,CAEA,GAAIF,eAAe,CAAE,CACnB,OAAO,SAAS,CAClB,CAEA,OAAOE,SAAS,CAClB,EAEa,IAAAE,qBAAqB,CAAG,SAAxBA,qBAAqBA,CAChCX,iBAA2D,CAC3DY,IAAa,CACbC,aAA8C,CACU,CACxD,GAAID,IAAI,CAAE,CACR,OAAO,MAAM,CACf,CAEA,GAAIb,UAAU,CAACC,iBAAiB,CAAC,CAAE,CACjC,GAAIa,aAAa,GAAK,UAAU,CAAE,CAChC,OAAO,kBAAkB,CAC3B,CAEA,OAAO,UAAU,CACnB,CAEA,OAAO,QAAQ,CACjB;;;;"}