{"version":3,"file":"ActionListBox.native.js","sources":["../../../../../src/components/ActionList/ActionListBox.native.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable react/display-name */\nimport React from 'react';\nimport { BottomSheetSectionList as GorhomBottomSheetSectionList } from '@gorhom/bottom-sheet';\nimport { SectionList } from 'react-native';\nimport { StyledListBoxWrapper } from './styles/StyledListBoxWrapper';\nimport { ActionListItem, ActionListSection } from './ActionListItem';\nimport type { SectionData } from './actionListUtils';\nimport { useBottomSheetContext } from '~components/BottomSheet/BottomSheetContext';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { Divider } from '~components/Divider';\n\ntype ActionListBoxProps = {\n  childrenWithId?: React.ReactNode[] | null;\n  sectionData: SectionData;\n  actionListItemWrapperRole: 'listbox' | 'menu' | undefined;\n  isMultiSelectable: boolean;\n  isInBottomSheet: boolean;\n};\n\nconst _ActionListBox = React.forwardRef<SectionList, ActionListBoxProps>(\n  ({ sectionData, actionListItemWrapperRole, isMultiSelectable, isInBottomSheet }, ref) => {\n    const { footerHeight, setContentHeight } = useBottomSheetContext();\n\n    const renderActionListItem = React.useCallback(({ item }: any) => {\n      return <ActionListItem {...item} />;\n    }, []);\n\n    const renderActionListSectionHeader = React.useCallback(({ section: { title } }: any) => {\n      if (!title) return null;\n      return <ActionListSection title={title} _hideDivider={true} children={undefined} />;\n    }, []);\n\n    const renderActionListSectionDivider = React.useCallback(\n      ({ section: { title, hideDivider } }: any) => {\n        if (!title) return null;\n        if (hideDivider) return null;\n        return <Divider />;\n      },\n      [],\n    );\n\n    return (\n      <StyledListBoxWrapper\n        // Render either the Gorhom or RN Section list depending on where we are\n        // We can't simply use RNSectionList because GorhomSectionList handles extra bottomsheet specific logic internally\n        as={isInBottomSheet ? GorhomBottomSheetSectionList : SectionList}\n        isInBottomSheet={Boolean(isInBottomSheet)}\n        // Setting footerHeight as bottom margin for ActionListBox\n        // otherwise the footer hides few list items under it, this will offset it\n        marginBottom={footerHeight}\n        sections={sectionData}\n        windowSize={5}\n        keyExtractor={(item: any) => {\n          return item.value;\n        }}\n        stickySectionHeadersEnabled={false}\n        renderSectionHeader={renderActionListSectionHeader}\n        renderSectionFooter={renderActionListSectionDivider}\n        renderItem={renderActionListItem}\n        ref={ref as any}\n        onContentSizeChange={(_width, height) => {\n          setContentHeight(height);\n        }}\n        {...makeAccessible({\n          role: actionListItemWrapperRole,\n          multiSelectable: actionListItemWrapperRole === 'listbox' ? isMultiSelectable : undefined,\n        })}\n      />\n    );\n  },\n);\n\nconst ActionListBox = assignWithoutSideEffects(_ActionListBox, { displayName: 'ActionListBox' });\n\nexport { ActionListBox, ActionListBox as ActionListVirtualizedBox };\n"],"names":["_ActionListBox","React","forwardRef","_ref","ref","sectionData","actionListItemWrapperRole","isMultiSelectable","isInBottomSheet","_useBottomSheetContex","useBottomSheetContext","footerHeight","setContentHeight","renderActionListItem","useCallback","_ref2","item","_jsx","ActionListItem","Object","assign","renderActionListSectionHeader","_ref3","title","section","ActionListSection","_hideDivider","children","undefined","renderActionListSectionDivider","_ref4","_ref4$section","hideDivider","Divider","StyledListBoxWrapper","as","GorhomBottomSheetSectionList","SectionList","Boolean","marginBottom","sections","windowSize","keyExtractor","value","stickySectionHeadersEnabled","renderSectionHeader","renderSectionFooter","renderItem","onContentSizeChange","_width","height","makeAccessible","role","multiSelectable","ActionListBox","assignWithoutSideEffects","displayName"],"mappings":";;;;;;;;;;;AAqBA,IAAMA,cAAc,CAAGC,cAAK,CAACC,UAAU,CACrC,SAAAC,IAAA,CAAiFC,GAAG,CAAK,CAAtF,IAAAC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,yBAAyB,CAAAH,IAAA,CAAzBG,yBAAyB,CAAEC,iBAAiB,CAAAJ,IAAA,CAAjBI,iBAAiB,CAAEC,eAAe,CAAAL,IAAA,CAAfK,eAAe,CAC3E,IAAAC,qBAAA,CAA2CC,qBAAqB,EAAE,CAA1DC,YAAY,CAAAF,qBAAA,CAAZE,YAAY,CAAEC,gBAAgB,CAAAH,qBAAA,CAAhBG,gBAAgB,CAEtC,IAAMC,oBAAoB,CAAGZ,cAAK,CAACa,WAAW,CAAC,SAAAC,KAAA,CAAmB,KAAhBC,IAAI,CAAAD,KAAA,CAAJC,IAAI,CACpD,OAAOC,GAAA,CAACC,cAAc,CAAAC,MAAA,CAAAC,MAAA,CAAA,EAAA,CAAKJ,IAAI,CAAG,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,IAAMK,6BAA6B,CAAGpB,cAAK,CAACa,WAAW,CAAC,SAAAQ,KAAA,CAAiC,CAAA,IAAnBC,KAAK,CAAAD,KAAA,CAAhBE,OAAO,CAAID,KAAK,CACzE,GAAI,CAACA,KAAK,CAAE,OAAO,IAAI,CACvB,OAAON,GAAA,CAACQ,iBAAiB,EAACF,KAAK,CAAEA,KAAM,CAACG,YAAY,CAAE,IAAK,CAACC,QAAQ,CAAEC,SAAU,CAAE,CAAC,CACrF,CAAC,CAAE,EAAE,CAAC,CAEN,IAAMC,8BAA8B,CAAG5B,cAAK,CAACa,WAAW,CACtD,SAAAgB,KAAA,CAA8C,CAAAC,IAAAA,aAAA,CAAAD,KAAA,CAA3CN,OAAO,CAAID,KAAK,CAAAQ,aAAA,CAALR,KAAK,CAAES,WAAW,CAAAD,aAAA,CAAXC,WAAW,CAC9B,GAAI,CAACT,KAAK,CAAE,OAAW,IAAA,CACvB,GAAIS,WAAW,CAAE,OAAW,IAAA,CAC5B,OAAOf,GAAA,CAACgB,OAAO,CAAA,EAAE,CAAC,CACpB,CAAC,CACD,EACF,CAAC,CAED,OACEhB,GAAA,CAACiB,oBAAoB,CAAAf,MAAA,CAAAC,MAAA,CAGnBe,CAAAA,EAAE,CAAE3B,eAAe,CAAG4B,sBAA4B,CAAGC,WAAY,CACjE7B,eAAe,CAAE8B,OAAO,CAAC9B,eAAe,CAAE,CAG1C+B,YAAY,CAAE5B,YAAa,CAC3B6B,QAAQ,CAAEnC,WAAY,CACtBoC,UAAU,CAAE,CAAE,CACdC,YAAY,CAAE,SAAAA,YAAAA,CAAC1B,IAAS,CAAK,CAC3B,OAAOA,IAAI,CAAC2B,KAAK,CACnB,CAAE,CACFC,2BAA2B,CAAE,KAAM,CACnCC,mBAAmB,CAAExB,6BAA8B,CACnDyB,mBAAmB,CAAEjB,8BAA+B,CACpDkB,UAAU,CAAElC,oBAAqB,CACjCT,GAAG,CAAEA,GAAW,CAChB4C,mBAAmB,CAAE,SAAAA,mBAACC,CAAAA,MAAM,CAAEC,MAAM,CAAK,CACvCtC,gBAAgB,CAACsC,MAAM,CAAC,CAC1B,CAAE,CACEC,CAAAA,cAAc,CAAC,CACjBC,IAAI,CAAE9C,yBAAyB,CAC/B+C,eAAe,CAAE/C,yBAAyB,GAAK,SAAS,CAAGC,iBAAiB,CAAGqB,SACjF,CAAC,CAAC,CACH,CAAC,CAEN,CACF,CAAC,CAEK,IAAA0B,aAAa,CAAGC,wBAAwB,CAACvD,cAAc,CAAE,CAAEwD,WAAW,CAAE,eAAgB,CAAC;;;;"}