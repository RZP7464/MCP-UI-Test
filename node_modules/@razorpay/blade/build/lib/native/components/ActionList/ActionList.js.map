{"version":3,"file":"ActionList.js","sources":["../../../../../src/components/ActionList/ActionList.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport { getActionListContainerRole, getActionListItemWrapperRole } from './getA11yRoles';\nimport { getActionListProperties } from './actionListUtils';\nimport { ActionListBox as ActionListNormalBox, ActionListVirtualizedBox } from './ActionListBox';\nimport { componentIds } from './componentIds';\nimport { ActionListNoResults } from './ActionListNoResults';\nimport { useDropdown } from '~components/Dropdown/useDropdown';\nimport { useBottomSheetContext } from '~components/BottomSheet/BottomSheetContext';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport type { DataAnalyticsAttribute, TestID } from '~utils/types';\nimport BaseBox from '~components/Box/BaseBox';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { dropdownComponentIds } from '~components/Dropdown/dropdownComponentIds';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype ActionListProps = {\n  children: React.ReactNode[];\n  isVirtualized?: boolean;\n} & TestID &\n  DataAnalyticsAttribute;\n\nconst _ActionList = ({\n  children,\n  testID,\n  isVirtualized,\n  ...rest\n}: ActionListProps): React.ReactElement => {\n  const {\n    setOptions,\n    actionListItemRef,\n    selectionType,\n    dropdownBaseId,\n    dropdownTriggerer,\n    hasFooterAction,\n    filteredValues,\n  } = useDropdown();\n\n  const ActionListBox = isVirtualized ? ActionListVirtualizedBox : ActionListNormalBox;\n\n  const { isInBottomSheet } = useBottomSheetContext();\n\n  const { sectionData, childrenWithId, actionListOptions } = React.useMemo(\n    () => getActionListProperties(children),\n    [children],\n  );\n\n  React.useEffect(() => {\n    setOptions(actionListOptions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [actionListOptions]);\n\n  if (\n    filteredValues.length <= 0 &&\n    dropdownTriggerer === dropdownComponentIds.triggers.AutoComplete\n  ) {\n    return <ActionListNoResults />;\n  }\n\n  const actionListContainerRole = getActionListContainerRole(hasFooterAction, dropdownTriggerer);\n  const actionListItemWrapperRole = getActionListItemWrapperRole(\n    hasFooterAction,\n    dropdownTriggerer,\n  );\n  const isMultiSelectable = selectionType === 'multiple';\n\n  // If we are inside BottomSheet, we don't render The StyledActionList wrapper\n  // This is to ensure:\n  // 1. We don't render the box wrapper styles which includes shadows, padding, border etc\n  // 2. to ensure GorhomBottomSheetSectionList works as expected, if we add extra wrappers GorhomBottomSheet won't render the content inside\n  // NOTE: That this also means inside BottomSheet, ActionList won't render any ActionListHeader or Footer.\n  return isInBottomSheet ? (\n    <ActionListBox\n      isInBottomSheet={isInBottomSheet}\n      actionListItemWrapperRole={actionListItemWrapperRole}\n      childrenWithId={childrenWithId}\n      sectionData={sectionData}\n      isMultiSelectable={isMultiSelectable}\n      ref={actionListItemRef as any}\n      {...makeAnalyticsAttribute(rest)}\n    />\n  ) : (\n    <BaseBox\n      id={`${dropdownBaseId}-actionlist`}\n      {...makeAccessible({\n        role: actionListContainerRole,\n        multiSelectable: actionListContainerRole === 'listbox' ? isMultiSelectable : undefined,\n        labelledBy: `${dropdownBaseId}-label`,\n      })}\n      {...metaAttribute({ name: MetaConstants.ActionList, testID })}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <ActionListBox\n        isInBottomSheet={isInBottomSheet}\n        actionListItemWrapperRole={actionListItemWrapperRole}\n        childrenWithId={childrenWithId}\n        sectionData={sectionData}\n        isMultiSelectable={isMultiSelectable}\n        ref={actionListItemRef as any}\n      />\n    </BaseBox>\n  );\n};\n\n/**\n * ### ActionList\n *\n * List of multiple actionable items. Can be used as menu items inside `Dropdown`,\n * `BottomSheet` and as selectable items when combined with `SelectInput`\n *\n * #### Usage\n *\n * ```jsx\n * <Dropdown>\n *  <SelectInput label=\"Select Action\" />\n *  <DropdownOverlay>\n *    <DropdownHeader title=\"Header Title\" />\n *    <ActionList>\n *      <ActionListItem\n *        title=\"Home\"\n *        value=\"home\"\n *        leading={<ActionListItemIcon icon={HomeIcon} />}\n *      />\n *      <ActionListItem\n *        title=\"Pricing\"\n *        value=\"pricing\"\n *        leading={<ActionListItemAsset src=\"https://flagcdn.com/w20/in.png\" alt=\"India Flag\" />}\n *      />\n *    </ActionList>\n *    <DropdownFooter><Button>Apply</Button></DropdownFooter>\n *  </DropdownOverlay>\n * </Dropdown>\n * ```\n *\n */\nconst ActionList = assignWithoutSideEffects(React.memo(_ActionList), {\n  displayName: componentIds.ActionList,\n  componentId: componentIds.ActionList,\n});\n\nexport type { ActionListProps };\nexport { ActionList };\n"],"names":["_ActionList","_ref","children","testID","isVirtualized","rest","_objectWithoutProperties","_excluded","_useDropdown","useDropdown","setOptions","actionListItemRef","selectionType","dropdownBaseId","dropdownTriggerer","hasFooterAction","filteredValues","ActionListBox","ActionListVirtualizedBox","ActionListNormalBox","_useBottomSheetContex","useBottomSheetContext","isInBottomSheet","_React$useMemo","React","useMemo","getActionListProperties","sectionData","childrenWithId","actionListOptions","useEffect","length","dropdownComponentIds","triggers","AutoComplete","_jsx","ActionListNoResults","actionListContainerRole","getActionListContainerRole","actionListItemWrapperRole","getActionListItemWrapperRole","isMultiSelectable","Object","assign","ref","makeAnalyticsAttribute","BaseBox","id","makeAccessible","role","multiSelectable","undefined","labelledBy","metaAttribute","name","MetaConstants","ActionList","assignWithoutSideEffects","memo","displayName","componentIds","componentId"],"mappings":"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"}