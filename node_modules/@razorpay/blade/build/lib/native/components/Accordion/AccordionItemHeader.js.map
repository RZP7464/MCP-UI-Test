{"version":3,"file":"AccordionItemHeader.js","sources":["../../../../../src/components/Accordion/AccordionItemHeader.tsx"],"sourcesContent":["import React from 'react';\nimport { useAccordion, useAccordionItemIndex } from './AccordionContext';\nimport { componentIds } from './componentIds';\nimport type { BaseHeaderProps } from '~components/BaseHeaderFooter/BaseHeader';\nimport { BaseHeader } from '~components/BaseHeaderFooter/BaseHeader';\nimport { Text } from '~components/Typography';\nimport BaseBox from '~components/Box/BaseBox';\nimport { CollapsibleChevronIcon } from '~components/Collapsible/CollapsibleChevronIcon';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport type { DataAnalyticsAttribute } from '~utils/types';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { isIconComponent } from '~utils/isIconComponent';\nimport type { BoxProps } from '~components/Box';\nimport { makeSize } from '~utils/makeSize';\nimport { size as sizeToken } from '~tokens/global';\n\nconst getLeadingElementMaxHeightAndWidth = (\n  size: BaseHeaderProps['size'],\n): BoxProps['maxHeight'] => {\n  if (size === 'large') return makeSize(sizeToken['32']);\n  return makeSize(sizeToken['24']);\n};\n\nconst _AccordionItemHeader = ({\n  title,\n  subtitle,\n  leading,\n  children,\n  trailing,\n  titleSuffix,\n  ...rest\n}: Pick<\n  BaseHeaderProps,\n  'title' | 'subtitle' | 'leading' | 'children' | 'trailing' | 'titleSuffix'\n> &\n  DataAnalyticsAttribute): React.ReactElement => {\n  const { size, showNumberPrefix, expandedIndex } = useAccordion();\n  const { index, isDisabled } = useAccordionItemIndex();\n\n  const isLeadingIcon =\n    React.isValidElement(leading) &&\n    typeof leading.type === 'function' &&\n    leading.type.name?.endsWith('Icon');\n\n  const isLeadingNumberOrIcon = React.useMemo(() => {\n    // Check if leading is a number\n    if (showNumberPrefix && typeof index === 'number') return true;\n\n    // Check if leading is an Icon component (name ends with \"Icon\")\n    if (leading && React.isValidElement(leading) && isIconComponent(leading)) return true;\n    if (isLeadingIcon) return true;\n\n    return false;\n  }, [showNumberPrefix, index, leading, isLeadingIcon]);\n\n  const shouldAlignHeaderItemsInCenter = Boolean(\n    children || (Boolean(leading) && !isLeadingNumberOrIcon),\n  );\n\n  const leadingElement = React.useMemo(() => {\n    if (showNumberPrefix && typeof index === 'number') {\n      return (\n        <Text size={size} weight=\"semibold\" marginTop=\"-2px\" as=\"span\">\n          {index + 1}.\n        </Text>\n      );\n    }\n    if (leading) {\n      return (\n        <BaseBox\n          marginRight={isLeadingIcon ? 'spacing.0' : 'spacing.3'}\n          marginTop=\"spacing.1\"\n          // So in design, we have set max height and width for the leading element, doing same here\n          maxHeight={getLeadingElementMaxHeightAndWidth(size)}\n          maxWidth={getLeadingElementMaxHeightAndWidth(size)}\n          overflow=\"hidden\"\n        >\n          {leading}\n        </BaseBox>\n      );\n    }\n    return null;\n  }, [showNumberPrefix, index, leading, size, isLeadingIcon]);\n\n  return (\n    <BaseBox {...metaAttribute({ name: MetaConstants.AccordionItemHeader })} flex=\"1\">\n      <BaseHeader\n        leading={leadingElement}\n        title={title}\n        subtitle={subtitle}\n        trailing={trailing}\n        titleSuffix={titleSuffix}\n        isDisabled={isDisabled}\n        showBackButton={false}\n        showCloseButton={false}\n        showDivider={expandedIndex === index}\n        paddingX=\"spacing.5\"\n        marginY=\"spacing.5\"\n        size={size}\n        alignItems={!subtitle && !isLeadingNumberOrIcon ? 'center' : 'flex-start'}\n        dividerProps={{\n          thickness: 'thinner',\n          marginX: 'spacing.5',\n        }}\n        trailingInteractionElement={\n          <CollapsibleChevronIcon\n            color={isDisabled ? 'interactive.icon.gray.disabled' : 'interactive.icon.gray.muted'}\n            size=\"large\"\n          />\n        }\n        shouldAlignLeadingAndTrailingElementsToCenter={shouldAlignHeaderItemsInCenter}\n        {...makeAnalyticsAttribute(rest)}\n      >\n        {children}\n      </BaseHeader>\n    </BaseBox>\n  );\n};\n\nconst AccordionItemHeader = assignWithoutSideEffects(_AccordionItemHeader, {\n  componentId: componentIds.AccordionItemHeader,\n});\n\nexport { AccordionItemHeader };\n"],"names":["getLeadingElementMaxHeightAndWidth","size","makeSize","sizeToken","_AccordionItemHeader","_ref","_leading$type$name","title","subtitle","leading","children","trailing","titleSuffix","rest","_objectWithoutProperties","_excluded","_useAccordion","useAccordion","showNumberPrefix","expandedIndex","_useAccordionItemInde","useAccordionItemIndex","index","isDisabled","isLeadingIcon","React","isValidElement","type","name","endsWith","isLeadingNumberOrIcon","useMemo","isIconComponent","shouldAlignHeaderItemsInCenter","Boolean","leadingElement","_jsxs","Text","weight","marginTop","as","_jsx","BaseBox","marginRight","maxHeight","maxWidth","overflow","Object","assign","metaAttribute","MetaConstants","AccordionItemHeader","flex","BaseHeader","showBackButton","showCloseButton","showDivider","paddingX","marginY","alignItems","dividerProps","thickness","marginX","trailingInteractionElement","CollapsibleChevronIcon","color","shouldAlignLeadingAndTrailingElementsToCenter","makeAnalyticsAttribute","assignWithoutSideEffects","componentId","componentIds"],"mappings":"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"}