{"version":3,"file":"useCheckboxGroup.js","sources":["../../../../../../src/components/Checkbox/CheckboxGroup/useCheckboxGroup.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\nimport React from 'react';\nimport type { CheckboxGroupProps } from './CheckboxGroup';\nimport type { CheckboxGroupContextType } from './CheckboxGroupContext';\nimport { useControllableState } from '~utils/useControllable';\nimport { useTheme } from '~components/BladeProvider';\nimport { useFormId } from '~components/Form/useFormId';\n\ntype UseCheckboxGroupProps = Pick<\n  CheckboxGroupProps,\n  | 'isDisabled'\n  | 'isRequired'\n  | 'labelPosition'\n  | 'validationState'\n  | 'name'\n  | 'necessityIndicator'\n  | 'value'\n  | 'defaultValue'\n  | 'onChange'\n  | 'size'\n>;\n\nexport type State = {\n  value: string[];\n  setValue(value: string[]): void;\n  isChecked(value: string): boolean;\n  addValue(value: string): void;\n  removeValue(value: string): void;\n};\n\nconst useCheckboxGroup = ({\n  value,\n  defaultValue,\n  isDisabled,\n  isRequired,\n  labelPosition,\n  onChange,\n  validationState,\n  name,\n  necessityIndicator,\n  size,\n}: UseCheckboxGroupProps) => {\n  const { platform } = useTheme();\n  const { labelId } = useFormId('checkbox-group');\n  const [checkedValues, setValue] = useControllableState({\n    value,\n    defaultValue: defaultValue || [],\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    onChange: (values: string[]) => onChange?.({ values, name: name! }),\n  });\n\n  const state = React.useMemo<State>(() => {\n    return {\n      value: checkedValues,\n      setValue(value: string[]) {\n        if (isDisabled) {\n          return;\n        }\n\n        setValue(() => value);\n      },\n      isChecked(value: string) {\n        return checkedValues.includes(value);\n      },\n      addValue(value: string) {\n        if (isDisabled) {\n          return;\n        }\n        if (!checkedValues.includes(value)) {\n          setValue(() => checkedValues.concat(value));\n        }\n      },\n      removeValue(value: string) {\n        if (isDisabled) {\n          return;\n        }\n        if (checkedValues.includes(value)) {\n          setValue(() => checkedValues.filter((existingValue) => existingValue !== value));\n        }\n      },\n    };\n  }, [checkedValues, isDisabled, setValue]);\n\n  const contextValue = React.useMemo<CheckboxGroupContextType>(() => {\n    return {\n      validationState,\n      isDisabled,\n      isRequired,\n      labelPosition: platform === 'onMobile' ? 'top' : labelPosition,\n      name,\n      necessityIndicator,\n      state,\n      size,\n    };\n  }, [\n    validationState,\n    isDisabled,\n    isRequired,\n    platform,\n    labelPosition,\n    name,\n    necessityIndicator,\n    state,\n    size,\n  ]);\n\n  return { state, contextValue, ids: { labelId } };\n};\n\nexport { useCheckboxGroup };\n"],"names":["useCheckboxGroup","_ref","value","defaultValue","isDisabled","isRequired","labelPosition","onChange","validationState","name","necessityIndicator","size","_useTheme","useTheme","platform","_useFormId","useFormId","labelId","_useControllableState","useControllableState","values","_useControllableState2","_slicedToArray","checkedValues","setValue","state","React","useMemo","_setValue","_x","apply","arguments","toString","isChecked","includes","addValue","concat","removeValue","filter","existingValue","contextValue","ids"],"mappings":"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"}