{"version":3,"file":"AutoComplete.js","sources":["../../../../../../src/components/Input/DropdownInputTriggers/AutoComplete.tsx"],"sourcesContent":["import React from 'react';\nimport { useDropdown } from '../../Dropdown/useDropdown';\nimport type { AutoCompleteProps, BaseDropdownInputTriggerProps } from './types';\nimport { BaseDropdownInputTrigger } from './BaseDropdownInputTrigger';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport BaseBox from '~components/Box/BaseBox';\nimport type { BladeElementRef } from '~utils/types';\nimport { dropdownComponentIds } from '~components/Dropdown/dropdownComponentIds';\nimport { isReactNative } from '~utils';\n\nconst useAutoComplete = ({\n  props,\n  inputValue,\n  setInputValue,\n  getOptionValues,\n}: {\n  props: AutoCompleteProps;\n  setInputValue: (inputValue: string) => void;\n  inputValue: string;\n  getOptionValues: () => string[];\n}): {\n  onTriggerKeydown: BaseDropdownInputTriggerProps['onTriggerKeydown'];\n  onSelectionChange: BaseDropdownInputTriggerProps['onChange'];\n  onInputValueChange: BaseDropdownInputTriggerProps['onInputValueChange'];\n} => {\n  const {\n    onTriggerKeydown: onBaseDropdownInputKeydown,\n    isOpen,\n    setIsOpen,\n    selectedIndices,\n    setSelectedIndices,\n    setControlledValueIndices,\n    isControlled,\n    options,\n    setFilteredValues: setGlobalFilteredValues,\n    activeTagIndex,\n    setActiveTagIndex,\n    setActiveIndex,\n    filteredValues: globalFilteredValues,\n    selectionType,\n    triggererRef,\n    hasAutoCompleteInHeader,\n  } = useDropdown();\n\n  const resetFilters = (): void => setGlobalFilteredValues(getOptionValues());\n\n  // Makes sure that first item is always in focus\n  React.useEffect((): void => {\n    const firstItemOptionIndex = options.findIndex(\n      (option) => option.value === globalFilteredValues[0],\n    );\n\n    if (firstItemOptionIndex >= 0) {\n      setActiveIndex(firstItemOptionIndex);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalFilteredValues.length, options.length]);\n\n  // When input is empty or its single select, we want all items to be shown in filter on open of dropdown\n  React.useEffect(() => {\n    if (isOpen && !inputValue) {\n      resetFilters();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, options]);\n\n  React.useEffect(() => {\n    if (isOpen && selectionType === 'single') {\n      resetFilters();\n    }\n\n    // Just setting autoFocus is setting the input in focus state but its not showing keyboard active.\n    // We do this in web to get around that\n    if (hasAutoCompleteInHeader && isOpen && !isReactNative()) {\n      triggererRef.current?.focus();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  const onInputValueChange: BaseDropdownInputTriggerProps['onInputValueChange'] = ({\n    name,\n    value,\n  }) => {\n    setInputValue(value ?? '');\n    props.onInputValueChange?.({ name, value });\n    setActiveTagIndex(-1);\n\n    if (!isOpen) {\n      setIsOpen(true);\n    }\n\n    // default filtering when filteredValues is uncontrolled\n    if (!props.filteredValues) {\n      // eslint-disable-next-line no-lonely-if\n      if (value && options && options.length > 0) {\n        const filteredOptions = getOptionValues().filter((optionValue) =>\n          String(optionValue).toLowerCase().includes(value.toLowerCase()),\n        );\n        setGlobalFilteredValues(filteredOptions);\n      } else {\n        resetFilters();\n      }\n    }\n  };\n\n  const onTriggerKeydown: BaseDropdownInputTriggerProps['onTriggerKeydown'] = (e) => {\n    // Pressing backspace on empty input should remove the last tag\n    if (e.key === 'Backspace' && !inputValue && activeTagIndex < 0 && selectedIndices.length > 0) {\n      if (isControlled) {\n        setControlledValueIndices(selectedIndices.slice(0, -1));\n      } else {\n        setSelectedIndices(selectedIndices.slice(0, -1));\n      }\n    }\n    onBaseDropdownInputKeydown?.(e);\n  };\n\n  const onSelectionChange: BaseDropdownInputTriggerProps['onChange'] = ({ values }) => {\n    console.log('selection change', values);\n    if (selectionType === 'multiple') {\n      setInputValue('');\n      props.onInputValueChange?.({ name: props.name, value: '' });\n      setActiveTagIndex(-1);\n      resetFilters();\n    } else {\n      const displayText = options.find((option) => option.value === values[0])?.title;\n      props.onInputValueChange?.({\n        name: props.name,\n        value: displayText,\n      });\n      // Use displayText as inputValue only if its not controlled by user\n      if (hasAutoCompleteInHeader) {\n        setInputValue('');\n      } else if (typeof props.value === 'undefined') {\n        setInputValue(displayText ?? '');\n      }\n    }\n    props.onChange?.({ name: props.name, values });\n  };\n  return {\n    onSelectionChange,\n    onTriggerKeydown,\n    onInputValueChange,\n  };\n};\n\nconst _AutoComplete = (\n  props: AutoCompleteProps,\n  ref: React.ForwardedRef<BladeElementRef>,\n): React.ReactElement => {\n  const [uncontrolledInputValue, setInputValue] = React.useState('');\n  const inputValue = props.inputValue ?? uncontrolledInputValue;\n\n  const {\n    options,\n    setFilteredValues: setGlobalFilteredValues,\n    hasAutoCompleteInHeader,\n    setHasAutoCompleteInHeader,\n    onTriggerClick,\n    dropdownTriggerer,\n  } = useDropdown();\n\n  const getOptionValues = React.useCallback(() => {\n    return options.map((option) => option.value);\n  }, [options]);\n\n  const { onSelectionChange, onTriggerKeydown, onInputValueChange } = useAutoComplete({\n    props,\n    inputValue,\n    setInputValue,\n    getOptionValues,\n  });\n\n  React.useEffect(() => {\n    if (dropdownTriggerer !== dropdownComponentIds.triggers.AutoComplete) {\n      // When AutoComplete is mounted but not as trigger,\n      // it has to be somewhere in the BottomSheet (most likely header based on UI but works in other parts too)\n      setHasAutoCompleteInHeader(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // handles controlled filteredValues state (syncs it with our global filteredValues)\n  React.useEffect(() => {\n    if (props.filteredValues) {\n      setGlobalFilteredValues(props.filteredValues);\n    }\n  }, [props.filteredValues, setGlobalFilteredValues]);\n\n  // set autoFocus to true when used inside bottomsheet\n  const defaultAutoFocusState = hasAutoCompleteInHeader ? true : undefined;\n\n  return (\n    <BaseBox position=\"relative\">\n      <BaseDropdownInputTrigger\n        {...props}\n        // eslint-disable-next-line jsx-a11y/no-autofocus\n        autoFocus={props.autoFocus ?? defaultAutoFocusState}\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ref={ref as any}\n        onChange={onSelectionChange}\n        isSelectInput={false}\n        inputValue={inputValue}\n        syncInputValueWithSelection={(value) => {\n          if (!value) {\n            setInputValue('');\n            return;\n          }\n          const selectedOption = options.find((option) => option.value === value);\n          setInputValue(selectedOption?.title ?? '');\n        }}\n        onTriggerKeydown={onTriggerKeydown}\n        onInputValueChange={onInputValueChange}\n        onTriggerClick={(triggerEvent) => {\n          if (!hasAutoCompleteInHeader) {\n            // we don't want clicking on autocomplete to open / close Dropdown when it is used inside BottomSheet's header\n            onTriggerClick();\n          }\n          props?.onClick?.(triggerEvent);\n        }}\n      />\n    </BaseBox>\n  );\n};\n\n/**\n * ### AutoComplete\n *\n * Extension on top of SelectInput which allows you type and filter between ActionList items\n *\n * To be used in combination of `Dropdown` and `ActionList` component\n *\n * ---\n *\n * #### Usage in Desktop\n *\n * ```diff\n * <Dropdown>\n * + <AutoComplete label=\"Select Fruits\" />\n *   <DropdownOverlay>\n *     <ActionList>\n *       <ActionListItem title=\"Mango\" value=\"mango\" />\n *       <ActionListItem title=\"Apple\" value=\"apple\" />\n *     </ActionList>\n *   </DropdownOverlay>\n * </Dropdown>\n * ```\n *\n * #### Usage in Mobile\n *\n * ```diff\n * <Dropdown>\n * + <SelectInput label=\"Select Fruits\" />\n *   <BottomSheet>\n *      <BottomSheetHeader>\n * +      <AutoComplete label=\"Select Fruits\" />\n *      </BottomSheetHeader>\n *      <BottomSheetBody>\n *       <ActionList>\n *         <ActionListItem title=\"Mango\" value=\"mango\" />\n *         <ActionListItem title=\"Apple\" value=\"apple\" />\n *       </ActionList>\n *      </BottomSheetBody>\n *   </BottomSheet>\n * </Dropdown>\n * ```\n *\n * ---\n *\n * Checkout {@link https://blade.razorpay.com/?path=/docs/components-dropdown-with-autocomplete--with-single-select AutoComplete Documentation}.\n */\nconst AutoComplete = assignWithoutSideEffects(React.forwardRef(_AutoComplete), {\n  componentId: dropdownComponentIds.triggers.AutoComplete,\n});\n\nexport { AutoComplete };\n"],"names":["useAutoComplete","_ref","props","inputValue","setInputValue","getOptionValues","_useDropdown","useDropdown","onBaseDropdownInputKeydown","onTriggerKeydown","isOpen","setIsOpen","selectedIndices","setSelectedIndices","setControlledValueIndices","isControlled","options","setGlobalFilteredValues","setFilteredValues","activeTagIndex","setActiveTagIndex","setActiveIndex","globalFilteredValues","filteredValues","selectionType","triggererRef","hasAutoCompleteInHeader","resetFilters","React","useEffect","firstItemOptionIndex","findIndex","option","value","length","isReactNative","_triggererRef$current","current","focus","onInputValueChange","_ref2","name","filteredOptions","filter","optionValue","String","toLowerCase","includes","e","key","slice","onSelectionChange","_ref3","values","console","log","_options$find","displayText","find","title","onChange","_AutoComplete","ref","_props$inputValue","_props$autoFocus","_React$useState","useState","_React$useState2","_slicedToArray","uncontrolledInputValue","_useDropdown2","setHasAutoCompleteInHeader","onTriggerClick","dropdownTriggerer","useCallback","map","_useAutoComplete","dropdownComponentIds","triggers","AutoComplete","defaultAutoFocusState","undefined","_jsx","BaseBox","position","children","BaseDropdownInputTrigger","Object","assign","autoFocus","isSelectInput","syncInputValueWithSelection","_selectedOption$title","selectedOption","triggerEvent","onClick","assignWithoutSideEffects","forwardRef","componentId"],"mappings":"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"}