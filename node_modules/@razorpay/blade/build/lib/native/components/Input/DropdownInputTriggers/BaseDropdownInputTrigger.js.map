{"version":3,"file":"BaseDropdownInputTrigger.js","sources":["../../../../../../src/components/Input/DropdownInputTriggers/BaseDropdownInputTrigger.tsx"],"sourcesContent":["import React from 'react';\nimport { BaseInput } from '../BaseInput';\nimport type { BaseInputProps } from '../BaseInput';\nimport { InputChevronIcon } from './InputChevronIcon';\nimport type { BaseDropdownInputTriggerProps } from './types';\nimport { useDropdown } from '~components/Dropdown/useDropdown';\nimport { isReactNative } from '~utils';\nimport { getActionListContainerRole } from '~components/ActionList/getA11yRoles';\nimport { MetaConstants } from '~utils/metaAttribute';\nimport { getTagsGroup } from '~components/Tag/getTagsGroup';\nimport type { BladeElementRef } from '~utils/types';\nimport { useTableContext } from '~components/Table/TableContext';\nimport {\n  rowDensityToIsTableInputCellMapping,\n  tableEditableCellRowDensityToInputSizeMap,\n  validationStateToInputTrailingIconMap,\n} from '~components/Table/tokens';\nimport { useTableEditableCell } from '~components/Table/TableEditableCellContext';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { dropdownComponentIds } from '~components/Dropdown/dropdownComponentIds';\nimport { useControlledDropdownInput } from '~utils/useControlledDropdownInput';\n\nconst _BaseDropdownInputTrigger = (\n  props: BaseDropdownInputTriggerProps,\n  ref: React.ForwardedRef<BladeElementRef>,\n): React.ReactElement => {\n  const {\n    isOpen,\n    activeTagIndex,\n    setActiveTagIndex,\n    displayValue,\n    selectionType,\n    dropdownTriggerer,\n    dropdownBaseId,\n    selectedIndices,\n    triggererRef,\n    headerAutoCompleteRef,\n    triggererWrapperRef,\n    isTagDismissedRef,\n    onTriggerClick,\n    value,\n    shouldIgnoreBlurAnimation,\n    setShouldIgnoreBlurAnimation,\n    activeIndex,\n    hasFooterAction,\n    options,\n    removeOption,\n    setChangeCallbackTriggerer,\n    changeCallbackTriggerer,\n  } = useDropdown();\n  const { rowDensity } = useTableContext();\n  const { isInsideTableEditableCell } = useTableEditableCell();\n\n  const dropdownTriggerPlaceholder = props.placeholder ?? 'Select Option';\n  const isAutoCompleteInHeader =\n    !props.isSelectInput && dropdownTriggerer !== dropdownComponentIds.triggers.AutoComplete;\n\n  const getShowAllTags = React.useCallback((): boolean => {\n    if (isAutoCompleteInHeader) {\n      // When AutoComplete is in bottomsheet header, we never want to show all tags in outer select input\n      if (props.isSelectInput) {\n        return false;\n      }\n\n      // ... And we always want to show all tags in inner AutoComplete\n      return true;\n    }\n\n    return isOpen;\n  }, [isAutoCompleteInHeader, props.isSelectInput, isOpen]);\n\n  useControlledDropdownInput({\n    onChange: props.onChange,\n    name: props.name,\n    value: props.value,\n    defaultValue: props.defaultValue,\n    syncInputValueWithSelection: props.syncInputValueWithSelection,\n    isSelectInput: props.isSelectInput,\n    triggererRef,\n  });\n\n  const getValue = (): string | undefined => {\n    let prefix = '';\n    if (props.labelPosition === 'inside-input' && props.label) {\n      prefix = `${props.label}: `;\n    }\n\n    if (props.isSelectInput) {\n      if (selectionType === 'single') {\n        return `${prefix}${displayValue}`;\n      }\n\n      // In multiselect, we return tags so no display value is required\n      return undefined;\n    }\n\n    // In AutoComplete, input has a special value too\n    return props.inputValue;\n  };\n\n  const getTags = React.useMemo(\n    () => ({ size }: { size: NonNullable<BaseInputProps['size']> }) => {\n      if (selectionType === 'single') {\n        return undefined;\n      }\n\n      return getTagsGroup({\n        size,\n        tags: selectedIndices.map((selectedIndex) => options[selectedIndex]?.title),\n        activeTagIndex,\n        isDisabled: props.isDisabled,\n        onDismiss: ({ tagIndex }) => {\n          if (isTagDismissedRef.current) {\n            isTagDismissedRef.current.value = true;\n          }\n\n          if (!isReactNative()) {\n            triggererRef.current?.focus();\n          }\n\n          removeOption(selectedIndices[tagIndex]);\n          setChangeCallbackTriggerer(Number(changeCallbackTriggerer) + 1);\n        },\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [selectedIndices, selectionType, activeTagIndex, changeCallbackTriggerer, options],\n  );\n\n  const tableInputProps: Partial<BaseInputProps> = {\n    isTableInputCell: rowDensityToIsTableInputCellMapping[rowDensity],\n    id: 'table-editable-cell-input',\n    size: tableEditableCellRowDensityToInputSizeMap[rowDensity],\n    trailingIcon: validationStateToInputTrailingIconMap[props.validationState ?? 'none'],\n    showHintsAsTooltip: true,\n  };\n\n  const isValidationStateNone =\n    props.validationState === 'none' || props.validationState === undefined;\n\n  return (\n    <BaseInput\n      as={props.isSelectInput ? 'button' : 'input'}\n      ref={\n        (isReactNative()\n          ? null\n          : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (node: any) => {\n              if (isAutoCompleteInHeader) {\n                headerAutoCompleteRef.current = node;\n              } else {\n                triggererRef.current = node;\n              }\n\n              if (ref) {\n                if (typeof ref === 'function') {\n                  ref(node);\n                } else {\n                  ref.current = node;\n                }\n              }\n            }) as never\n      }\n      isDropdownTrigger={true}\n      setInputWrapperRef={(wrapperNode) => {\n        // when autocomplete is in header, its not a trigger but a component inside of DropdownOverlay\n        if (!isAutoCompleteInHeader) {\n          triggererWrapperRef.current = wrapperNode;\n        }\n      }}\n      maxTagRows={props.maxRows ?? 'single'}\n      tags={getTags({ size: props.size || 'medium' })}\n      showAllTags={getShowAllTags()}\n      activeTagIndex={activeTagIndex}\n      setActiveTagIndex={setActiveTagIndex}\n      shouldIgnoreBlurAnimation={shouldIgnoreBlurAnimation}\n      setShouldIgnoreBlurAnimation={setShouldIgnoreBlurAnimation}\n      textAlign=\"left\"\n      // Form Props\n      label={props.label as string}\n      placeholder={\n        selectionType === 'multiple' && selectedIndices.length > 0\n          ? undefined\n          : dropdownTriggerPlaceholder\n      }\n      hideLabelText={props.label?.length === 0}\n      accessibilityLabel={props.accessibilityLabel}\n      labelPosition={props.labelPosition === 'inside-input' ? undefined : props.labelPosition}\n      isLabelInsideInput={props.labelPosition === 'inside-input'}\n      necessityIndicator={props.necessityIndicator}\n      autoCompleteSuggestionType=\"none\"\n      validationState={props.validationState}\n      helpText={props.helpText}\n      errorText={props.errorText}\n      successText={props.successText}\n      name={props.name}\n      isDisabled={props.isDisabled}\n      isRequired={props.isRequired}\n      prefix={props.prefix}\n      suffix={props.suffix}\n      valueSuffix={\n        typeof props.valueSuffix === 'function'\n          ? props.valueSuffix({\n              values: options\n                .filter((option, index) => selectedIndices.includes(index))\n                .map((option) => option.value),\n            })\n          : undefined\n      }\n      autoFocus={props.autoFocus} // eslint-disable-line jsx-a11y/no-autofocus\n      value={getValue()}\n      onClick={(e) => {\n        if (props.isDisabled) {\n          return;\n        }\n        props.onTriggerClick?.(e);\n      }}\n      onFocus={props.onFocus}\n      onBlur={({ name }) => {\n        props.onBlur?.({ name, value });\n      }}\n      leadingIcon={props.icon}\n      // Meta Props\n      componentName={props.isSelectInput ? MetaConstants.SelectInput : MetaConstants.AutoComplete}\n      testID={props.testID}\n      // a11y Props\n      id={`${dropdownBaseId}-trigger`}\n      labelId={`${dropdownBaseId}-label`}\n      role={isAutoCompleteInHeader ? 'searchbox' : 'combobox'}\n      hasPopup={\n        isAutoCompleteInHeader\n          ? false\n          : getActionListContainerRole(hasFooterAction, dropdownTriggerer)\n      }\n      isPopupExpanded={isOpen}\n      activeDescendant={activeIndex >= 0 ? `${dropdownBaseId}-${activeIndex}` : undefined}\n      popupId={isAutoCompleteInHeader ? undefined : `${dropdownBaseId}-actionlist`}\n      // Special Props for Unique behaviour between Select and AutoComplete\n      onChange={props.isSelectInput ? undefined : props.onInputValueChange}\n      onKeyDown={props.onTriggerKeydown}\n      size={props.size}\n      {...makeAnalyticsAttribute(props)}\n      onTrailingInteractionElementClick={() => {\n        if (!props.isDisabled) {\n          // Icon onClicks to the SelectInput itself\n          if (!isReactNative()) {\n            triggererRef.current?.focus();\n          }\n          onTriggerClick();\n        }\n      }}\n      trailingInteractionElement={\n        isAutoCompleteInHeader || (isInsideTableEditableCell && !isValidationStateNone) ? null : (\n          <InputChevronIcon isDisabled={props.isDisabled} isOpen={isOpen} />\n        )\n      }\n      {...(isInsideTableEditableCell ? tableInputProps : undefined)}\n      // When AutoComplete is present inside DropdownOverlay, the floating ui adds tabIndex -1 internally. We override it with tabIndex 0 here\n      tabIndex={isAutoCompleteInHeader ? 0 : undefined}\n    />\n  );\n};\n\nconst BaseDropdownInputTrigger = React.forwardRef(_BaseDropdownInputTrigger);\n\nexport { BaseDropdownInputTrigger };\n"],"names":["_BaseDropdownInputTrigger","props","ref","_props$placeholder","_props$validationStat","_props$maxRows","_props$label","_useDropdown","useDropdown","isOpen","activeTagIndex","setActiveTagIndex","displayValue","selectionType","dropdownTriggerer","dropdownBaseId","selectedIndices","triggererRef","headerAutoCompleteRef","triggererWrapperRef","isTagDismissedRef","onTriggerClick","value","shouldIgnoreBlurAnimation","setShouldIgnoreBlurAnimation","activeIndex","hasFooterAction","options","removeOption","setChangeCallbackTriggerer","changeCallbackTriggerer","_useTableContext","useTableContext","rowDensity","_useTableEditableCell","useTableEditableCell","isInsideTableEditableCell","dropdownTriggerPlaceholder","placeholder","isAutoCompleteInHeader","isSelectInput","dropdownComponentIds","triggers","AutoComplete","getShowAllTags","React","useCallback","useControlledDropdownInput","onChange","name","defaultValue","syncInputValueWithSelection","getValue","prefix","labelPosition","label","undefined","inputValue","getTags","useMemo","_ref","size","getTagsGroup","tags","map","selectedIndex","_options$selectedInde","title","isDisabled","onDismiss","_ref2","tagIndex","current","isReactNative","_triggererRef$current","focus","Number","tableInputProps","isTableInputCell","rowDensityToIsTableInputCellMapping","id","tableEditableCellRowDensityToInputSizeMap","trailingIcon","validationStateToInputTrailingIconMap","validationState","showHintsAsTooltip","isValidationStateNone","_jsx","BaseInput","Object","assign","as","node","isDropdownTrigger","setInputWrapperRef","wrapperNode","maxTagRows","maxRows","showAllTags","textAlign","length","hideLabelText","accessibilityLabel","isLabelInsideInput","necessityIndicator","autoCompleteSuggestionType","helpText","errorText","successText","isRequired","suffix","valueSuffix","values","filter","option","index","includes","autoFocus","onClick","e","onFocus","onBlur","_ref3","leadingIcon","icon","componentName","MetaConstants","SelectInput","testID","labelId","role","hasPopup","getActionListContainerRole","isPopupExpanded","activeDescendant","popupId","onInputValueChange","onKeyDown","onTriggerKeydown","makeAnalyticsAttribute","onTrailingInteractionElementClick","_triggererRef$current2","trailingInteractionElement","InputChevronIcon","tabIndex","BaseDropdownInputTrigger","forwardRef"],"mappings":"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"}