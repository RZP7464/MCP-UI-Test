{"version":3,"file":"SpinningBox.native.js","sources":["../../../../../../src/components/Spinner/BaseSpinner/SpinningBox.native.tsx"],"sourcesContent":["import React from 'react';\nimport type { EasingFactoryFn } from 'react-native-reanimated';\nimport Animated, {\n  withTiming,\n  cancelAnimation,\n  useAnimatedStyle,\n  useSharedValue,\n  withRepeat,\n} from 'react-native-reanimated';\nimport { motion as spinnerMotion } from './spinnerTokens';\nimport getIn from '~utils/lodashButBetter/get';\nimport { useTheme } from '~components/BladeProvider';\nimport { castNativeType } from '~utils';\nimport BaseBox from '~components/Box/BaseBox';\nimport { makeMotionTime } from '~utils/makeMotionTime';\n\nconst SpinningBox = ({ children }: { children: React.ReactNode }): React.ReactElement => {\n  const { theme } = useTheme();\n  const duration = castNativeType(makeMotionTime(getIn(theme.motion, spinnerMotion.duration)));\n  const easing = getIn(theme.motion, spinnerMotion.easing) as EasingFactoryFn;\n\n  const rotation = useSharedValue(0);\n  const animatedStyles = useAnimatedStyle(() => {\n    return {\n      transform: [\n        {\n          rotateZ: `${rotation.value}deg`,\n        },\n      ],\n    };\n  }, [rotation.value]);\n\n  React.useEffect(() => {\n    rotation.value = withRepeat(\n      withTiming(360, {\n        duration,\n        easing,\n      }),\n      -1,\n    );\n    return (): void => {\n      cancelAnimation(rotation);\n    };\n  }, [duration, easing, rotation]);\n\n  return (\n    <BaseBox alignSelf=\"center\">\n      <Animated.View style={animatedStyles}>{children}</Animated.View>\n    </BaseBox>\n  );\n};\n\nexport { SpinningBox };\n"],"names":["SpinningBox","_ref","children","_useTheme","useTheme","theme","duration","castNativeType","makeMotionTime","getIn","motion","spinnerMotion","easing","rotation","useSharedValue","animatedStyles","useAnimatedStyle","transform","rotateZ","value","React","useEffect","withRepeat","withTiming","cancelAnimation","_jsx","BaseBox","alignSelf","Animated","View","style"],"mappings":";;;;;;;;;;;;;;;;AAgBM,IAAAA,WAAW,CAAG,SAAdA,WAAWA,CAAAC,IAAA,CAAwE,CAAA,IAAlEC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC7B,IAAAC,SAAA,CAAkBC,QAAQ,EAAE,CAApBC,KAAK,CAAAF,SAAA,CAALE,KAAK,CACb,IAAMC,QAAQ,CAAGC,cAAc,CAACC,cAAc,CAACC,KAAK,CAACJ,KAAK,CAACK,MAAM,CAAEC,MAAa,CAACL,QAAQ,CAAC,CAAC,CAAC,CAC5F,IAAMM,MAAM,CAAGH,KAAK,CAACJ,KAAK,CAACK,MAAM,CAAEC,MAAa,CAACC,MAAM,CAAoB,CAE3E,IAAMC,QAAQ,CAAGC,cAAc,CAAC,CAAC,CAAC,CAClC,IAAMC,cAAc,CAAGC,gBAAgB,CAAC,UAAM,CAC5C,OAAO,CACLC,SAAS,CAAE,CACT,CACEC,OAAO,CAAE,CAAGL,EAAAA,QAAQ,CAACM,KAAK,CAC5B,GAAA,CAAA,CAAC,CAEL,CAAC,CACH,CAAC,CAAE,CAACN,QAAQ,CAACM,KAAK,CAAC,CAAC,CAEpBC,cAAK,CAACC,SAAS,CAAC,UAAM,CACpBR,QAAQ,CAACM,KAAK,CAAGG,UAAU,CACzBC,UAAU,CAAC,GAAG,CAAE,CACdjB,QAAQ,CAARA,QAAQ,CACRM,MAAM,CAANA,MACF,CAAC,CAAC,CACF,CAAC,CACH,CAAC,CACD,OAAmB,UAAA,CACjBY,eAAe,CAACX,QAAQ,CAAC,CAC3B,CAAC,CACH,CAAC,CAAE,CAACP,QAAQ,CAAEM,MAAM,CAAEC,QAAQ,CAAC,CAAC,CAEhC,OACEY,GAAA,CAACC,OAAO,CAACC,CAAAA,SAAS,CAAC,QAAQ,CAAAzB,QAAA,CACzBuB,GAAA,CAACG,QAAQ,CAACC,IAAI,CAACC,CAAAA,KAAK,CAAEf,cAAe,CAAAb,QAAA,CAAEA,QAAQ,CAAgB,CAAC,CACzD,CAAC,CAEd;;;;"}