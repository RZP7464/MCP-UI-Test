{"version":3,"file":"Indicator.js","sources":["../../../../../src/components/Indicator/Indicator.tsx"],"sourcesContent":["import React from 'react';\nimport type { ReactElement, Ref } from 'react';\nimport { indicatorDotSizes, textSizeMapping } from './indicatorTokens';\nimport { useTheme } from '~components/BladeProvider';\nimport BaseBox from '~components/Box/BaseBox';\nimport Svg from '~components/Icons/_Svg';\nimport Circle from '~components/Icons/_Svg/Circle';\nimport { Text } from '~components/Typography';\nimport { getStringFromReactText } from '~src/utils/getStringChildren';\nimport type {\n  DataAnalyticsAttribute,\n  BladeElementRef,\n  StringChildrenType,\n  TestID,\n} from '~utils/types';\nimport type { FeedbackColors } from '~tokens/theme/theme';\nimport { isReactNative } from '~utils';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype IndicatorProps = {\n  /**\n   * Sets the color tone\n   *\n   * @default neutral\n   */\n  color?: FeedbackColors | 'primary';\n\n  /**\n   * Sets the emphasis of the indicator\n   *\n   * If set to intense it will show a background circle\n   *\n   * @default subtle\n   */\n  emphasis?: 'subtle' | 'intense';\n\n  /**\n   * Size of the indicator\n   *\n   * @default medium\n   */\n  size?: 'small' | 'medium' | 'large';\n  /**\n   * A text label to show alongside the indicator dot\n   */\n  children?: StringChildrenType;\n  /**\n   * a11y label for screen readers\n   */\n  accessibilityLabel?: string;\n} & TestID &\n  DataAnalyticsAttribute &\n  StyledPropsBlade;\n\nconst _Indicator = (\n  {\n    accessibilityLabel,\n    children,\n    size = 'medium',\n    color = 'neutral',\n    emphasis = 'subtle',\n    testID,\n    ...rest\n  }: IndicatorProps,\n  ref: Ref<BladeElementRef>,\n): ReactElement => {\n  const { theme } = useTheme();\n  const childrenString = getStringFromReactText(children);\n  const isIntense = emphasis === 'intense';\n  const isPrimary = color === 'primary';\n\n  const fillColorOuter = isPrimary\n    ? theme.colors.surface.background.primary.subtle\n    : theme.colors.feedback.background[color].subtle;\n  const fillColorInner = isPrimary\n    ? theme.colors.surface.icon.primary.normal\n    : theme.colors.feedback.icon[color].intense;\n\n  const isWeb = !isReactNative();\n  const a11yProps = makeAccessible({\n    label: accessibilityLabel ?? childrenString,\n    ...(isWeb && { role: 'status' }),\n  });\n\n  const svgSize = isIntense\n    ? indicatorDotSizes[emphasis][size].outer\n    : indicatorDotSizes[emphasis][size].inner;\n\n  return (\n    <BaseBox\n      ref={ref as never}\n      display={(isWeb ? 'inline-flex' : 'flex') as never}\n      {...a11yProps}\n      {...metaAttribute({ name: MetaConstants.Indicator, testID })}\n      {...getStyledProps(rest)}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <BaseBox display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n        <Svg width={String(svgSize)} height={String(svgSize)} viewBox=\"0 0 10 10\" fill=\"none\">\n          {isIntense ? (\n            <>\n              <Circle cx=\"5\" cy=\"5\" r=\"5\" fill={fillColorOuter} />\n              <Circle cx=\"5\" cy=\"5\" r=\"2.5\" fill={fillColorInner} />\n            </>\n          ) : (\n            <Circle cx=\"5\" cy=\"5\" r=\"5\" fill={fillColorInner} />\n          )}\n        </Svg>\n        <BaseBox marginLeft={childrenString ? 'spacing.2' : 'spacing.0'}>\n          <Text\n            weight=\"medium\"\n            color=\"surface.text.gray.subtle\"\n            textAlign=\"left\"\n            size={textSizeMapping[size]}\n          >\n            {children}\n          </Text>\n        </BaseBox>\n      </BaseBox>\n    </BaseBox>\n  );\n};\n\nconst Indicator = assignWithoutSideEffects(React.forwardRef(_Indicator), {\n  componentId: 'Indicator',\n});\n\nexport type { IndicatorProps };\nexport { Indicator };\n"],"names":["_Indicator","_ref","ref","accessibilityLabel","children","_ref$size","size","_ref$color","color","_ref$emphasis","emphasis","testID","rest","_objectWithoutProperties","_excluded","_useTheme","useTheme","theme","childrenString","getStringFromReactText","isIntense","isPrimary","fillColorOuter","colors","surface","background","primary","subtle","feedback","fillColorInner","icon","normal","intense","isWeb","isReactNative","a11yProps","makeAccessible","Object","assign","label","role","svgSize","indicatorDotSizes","outer","inner","_jsx","BaseBox","display","metaAttribute","name","MetaConstants","Indicator","getStyledProps","makeAnalyticsAttribute","_jsxs","flexDirection","alignItems","Svg","width","String","height","viewBox","fill","_Fragment","Circle","cx","cy","r","marginLeft","Text","weight","textAlign","textSizeMapping","assignWithoutSideEffects","React","forwardRef","componentId"],"mappings":"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"}