{"version":3,"file":"useBladeProvider.js","sources":["../../../../../src/components/BladeProvider/useBladeProvider.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport type { Theme } from './index';\nimport { useColorScheme, useBreakpoint } from '~utils';\nimport type { ColorSchemeNames, ColorSchemeNamesInput, ThemeTokens } from '~tokens/theme';\nimport { colorSchemeNamesInput } from '~tokens/theme/theme';\nimport type { TypographyPlatforms } from '~tokens/global';\nimport type { ColorSchemeModes } from '~tokens/theme/theme';\nimport { toTitleCase } from '~utils/toTitleCase';\nimport { throwBladeError } from '~utils/logger';\n\ntype ThemeContextValue = {\n  theme: Theme;\n  colorScheme: ColorSchemeNames;\n  setColorScheme: (colorScheme: ColorSchemeNamesInput) => void;\n  platform: TypographyPlatforms;\n};\n\n/**\n * Reusable hook to be used in BladeProvider.native & BladeProvider.web file\n *\n * This hook processes incoming themeTokens & initialColorScheme\n * And validates & returns the theme values\n */\nconst useBladeProvider = ({\n  themeTokens,\n  initialColorScheme,\n}: {\n  themeTokens: ThemeTokens;\n  initialColorScheme?: ColorSchemeNamesInput;\n}): { theme: Theme; themeContextValue: ThemeContextValue } => {\n  if (__DEV__) {\n    if (!themeTokens) {\n      throwBladeError({\n        message: `Expected valid themeTokens of type ThemeTokens to be passed but found ${typeof themeTokens}`,\n        moduleName: 'BladeProvider',\n      });\n    }\n\n    if (initialColorScheme && !colorSchemeNamesInput.includes(initialColorScheme)) {\n      throwBladeError({\n        message: `Expected color scheme to be one of [${colorSchemeNamesInput.toString()}] but received ${initialColorScheme}`,\n        moduleName: 'BladeProvider',\n      });\n    }\n  }\n\n  const { colorScheme, setColorScheme } = useColorScheme(initialColorScheme);\n  const { matchedDeviceType } = useBreakpoint({\n    breakpoints: themeTokens.breakpoints,\n  });\n\n  const onColorMode = `on${toTitleCase(colorScheme)}` as ColorSchemeModes;\n  const onDeviceType = `on${toTitleCase(matchedDeviceType)}` as TypographyPlatforms;\n\n  const theme: Theme = {\n    ...themeTokens,\n    colors: themeTokens.colors[onColorMode],\n    elevation: themeTokens.elevation[onColorMode],\n    typography: themeTokens.typography[onDeviceType],\n  };\n\n  const themeContextValue = {\n    theme,\n    colorScheme,\n    setColorScheme,\n    platform: onDeviceType,\n  };\n\n  return { themeContextValue, theme };\n};\n\nexport { useBladeProvider };\n"],"names":["useBladeProvider","_ref","themeTokens","initialColorScheme","__DEV__","throwBladeError","message","moduleName","colorSchemeNamesInput","includes","toString","_useColorScheme","useColorScheme","colorScheme","setColorScheme","_useBreakpoint","useBreakpoint","breakpoints","matchedDeviceType","onColorMode","toTitleCase","onDeviceType","theme","Object","assign","colors","elevation","typography","themeContextValue","platform"],"mappings":";;;;;;;;;AAuBM,IAAAA,gBAAgB,CAAG,SAAnBA,gBAAgBA,CAAAC,IAAA,CAMwC,CAL5D,IAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CACXC,kBAAkB,CAAAF,IAAA,CAAlBE,kBAAkB,CAKlB,GAAIC,OAAO,CAAE,CACX,GAAI,CAACF,WAAW,CAAE,CAChBG,eAAe,CAAC,CACdC,OAAO,CAAE,CAAyE,sEAAA,EAAA,OAAOJ,WAAW,CAAE,CAAA,CACtGK,UAAU,CAAE,eACd,CAAC,CAAC,CACJ,CAEA,GAAIJ,kBAAkB,EAAI,CAACK,qBAAqB,CAACC,QAAQ,CAACN,kBAAkB,CAAC,CAAE,CAC7EE,eAAe,CAAC,CACdC,OAAO,CAAE,CAAuCE,oCAAAA,EAAAA,qBAAqB,CAACE,QAAQ,EAAE,kBAAkBP,kBAAkB,CAAA,CAAE,CACtHI,UAAU,CAAE,eACd,CAAC,CAAC,CACJ,CACF,CAEA,IAAAI,eAAA,CAAwCC,cAAc,CAACT,kBAAkB,CAAC,CAAlEU,WAAW,CAAAF,eAAA,CAAXE,WAAW,CAAEC,cAAc,CAAAH,eAAA,CAAdG,cAAc,CACnC,IAAAC,cAAA,CAA8BC,aAAa,CAAC,CAC1CC,WAAW,CAAEf,WAAW,CAACe,WAC3B,CAAC,CAAC,CAFMC,iBAAiB,CAAAH,cAAA,CAAjBG,iBAAiB,CAIzB,IAAMC,WAAW,CAAG,CAAKC,EAAAA,EAAAA,WAAW,CAACP,WAAW,CAAC,CAAsB,CAAA,CACvE,IAAMQ,YAAY,CAAG,CAAKD,EAAAA,EAAAA,WAAW,CAACF,iBAAiB,CAAC,CAAA,CAAyB,CAEjF,IAAMI,KAAY,CAAAC,MAAA,CAAAC,MAAA,CAAA,EAAA,CACbtB,WAAW,CAAA,CACduB,MAAM,CAAEvB,WAAW,CAACuB,MAAM,CAACN,WAAW,CAAC,CACvCO,SAAS,CAAExB,WAAW,CAACwB,SAAS,CAACP,WAAW,CAAC,CAC7CQ,UAAU,CAAEzB,WAAW,CAACyB,UAAU,CAACN,YAAY,CAAC,CACjD,CAAA,CAED,IAAMO,iBAAiB,CAAG,CACxBN,KAAK,CAALA,KAAK,CACLT,WAAW,CAAXA,WAAW,CACXC,cAAc,CAAdA,cAAc,CACde,QAAQ,CAAER,YACZ,CAAC,CAED,OAAO,CAAEO,iBAAiB,CAAjBA,iBAAiB,CAAEN,KAAK,CAALA,KAAM,CAAC,CACrC;;;;"}