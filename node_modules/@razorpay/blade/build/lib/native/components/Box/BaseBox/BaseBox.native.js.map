{"version":3,"file":"BaseBox.native.js","sources":["../../../../../../src/components/Box/BaseBox/BaseBox.native.tsx"],"sourcesContent":["import { View } from 'react-native';\nimport type { DefaultTheme } from 'styled-components/native';\nimport styled from 'styled-components/native';\nimport React from 'react';\nimport type { StyledComponent } from 'styled-components';\nimport { getBaseBoxStyles, getElevationValue } from './baseBoxStyles';\nimport type { BaseBoxProps } from './types';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { useTheme } from '~components/BladeProvider';\nimport type { ElevationStyles } from '~tokens/global/elevation';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\n\n/**\n * Some prop go to React Native DOM and fail with type errors.\n *\n * We're sending these props to styled components, we just don't put them on DOM\n */\nconst isSupportedOnReactNativeElement = (prop: string): boolean => {\n  return !prop.startsWith('padding') && !prop.startsWith('margin') && prop !== 'flex';\n};\n\nconst StyledBaseBox = styled(View)\n  .attrs<BaseBoxProps>((props) => {\n    return {\n      ...metaAttribute({\n        name: (props as never)['data-blade-component'] || MetaConstants.BaseBox,\n      }),\n    };\n  })\n  .withConfig({\n    shouldForwardProp: (prop, defaultValidator) =>\n      isSupportedOnReactNativeElement(prop) && defaultValidator(prop),\n  })<BaseBoxProps>((props) => {\n  const cssObject = getBaseBoxStyles(props);\n  return cssObject;\n});\n\n// @ts-expect-error we have to use `as StyledComponent<>` to type this otherwise `as` prop's types break\n// Since we loose the generic nature of the component\nconst _BaseBox = (props, ref): React.ReactElement => {\n  const { theme } = useTheme();\n  const shadow = (getElevationValue(props.elevation, theme) as unknown) as ElevationStyles;\n  return (\n    <StyledBaseBox ref={ref} {...props} style={shadow ? [shadow, props.style] : props.style} />\n  );\n};\n\nconst BaseBox = assignWithoutSideEffects(React.forwardRef(_BaseBox), {\n  displayName: 'BaseBox',\n}) as StyledComponent<typeof View, DefaultTheme, BaseBoxProps>;\n\nexport { BaseBox };\n"],"names":["isSupportedOnReactNativeElement","prop","startsWith","StyledBaseBox","styled","View","attrs","props","Object","assign","metaAttribute","name","MetaConstants","BaseBox","withConfig","shouldForwardProp","defaultValidator","cssObject","getBaseBoxStyles","_BaseBox","ref","_useTheme","useTheme","theme","shadow","getElevationValue","elevation","_jsx","style","assignWithoutSideEffects","React","forwardRef","displayName"],"mappings":";;;;;;;;;;;;;;AAiBA,IAAMA,+BAA+B,CAAG,SAAlCA,+BAA+BA,CAAIC,IAAY,CAAc,CACjE,OAAO,CAACA,IAAI,CAACC,UAAU,CAAC,SAAS,CAAC,EAAI,CAACD,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAID,IAAI,GAAK,MAAM,CACrF,CAAC,CAED,IAAME,aAAa,CAAGC,MAAM,CAACC,IAAI,CAAC,CAC/BC,KAAK,CAAe,SAACC,KAAK,CAAK,CAC9B,OAAAC,MAAA,CAAAC,MAAA,CAAA,EAAA,CACKC,aAAa,CAAC,CACfC,IAAI,CAAGJ,KAAK,CAAW,sBAAsB,CAAC,EAAIK,aAAa,CAACC,OAClE,CAAC,CAAC,CAAA,CAEN,CAAC,CAAC,CACDC,UAAU,CAAC,CACVC,iBAAiB,CAAE,SAAAA,iBAAAA,CAACd,IAAI,CAAEe,gBAAgB,CAAA,CAAA,OACxChB,+BAA+B,CAACC,IAAI,CAAC,EAAIe,gBAAgB,CAACf,IAAI,CAAC,CACnE,CAAA,CAAC,CAAC,CAAe,SAACM,KAAK,CAAK,CAC5B,IAAMU,SAAS,CAAGC,gBAAgB,CAACX,KAAK,CAAC,CACzC,OAAOU,SAAS,CAClB,CAAC,CAAC,CAIF,IAAME,QAAQ,CAAG,SAAXA,QAAQA,CAAIZ,KAAK,CAAEa,GAAG,CAAyB,CACnD,IAAAC,SAAA,CAAkBC,QAAQ,EAAE,CAApBC,KAAK,CAAAF,SAAA,CAALE,KAAK,CACb,IAAMC,MAAM,CAAIC,iBAAiB,CAAClB,KAAK,CAACmB,SAAS,CAAEH,KAAK,CAAgC,CACxF,OACEI,GAAA,CAACxB,aAAa,CAAAK,MAAA,CAAAC,MAAA,CAACW,CAAAA,GAAG,CAAEA,GAAI,CAAKb,CAAAA,KAAK,CAAEqB,CAAAA,KAAK,CAAEJ,MAAM,CAAG,CAACA,MAAM,CAAEjB,KAAK,CAACqB,KAAK,CAAC,CAAGrB,KAAK,CAACqB,KAAM,CAAE,CAAA,CAAC,CAE/F,CAAC,CAEK,IAAAf,OAAO,CAAGgB,wBAAwB,CAACC,cAAK,CAACC,UAAU,CAACZ,QAAQ,CAAC,CAAE,CACnEa,WAAW,CAAE,SACf,CAAC;;;;"}