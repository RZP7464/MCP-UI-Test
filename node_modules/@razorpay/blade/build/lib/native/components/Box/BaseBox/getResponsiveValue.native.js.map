{"version":3,"file":"getResponsiveValue.native.js","sources":["../../../../../../src/components/Box/BaseBox/getResponsiveValue.native.ts"],"sourcesContent":["import { Animated } from 'react-native';\nimport type { DimensionValue } from 'react-native';\nimport type { MakeValueResponsive } from './types';\nimport isEmpty from '~utils/lodashButBetter/isEmpty';\nimport type { Breakpoints } from '~tokens/global';\n\n/**\n * A helper function that returns the exact value for that breakpoint on passing the prop and breakpoint\n *\n * ## Usage\n *\n * ### Get base value of prop\n *\n * ```ts\n * getResponsiveValue(props.yourProp, 'base');\n * // yourProp=\"hi\" -> \"hi\"\n * // yourProp={{ base: 'hello', m: 'hi' }} -> \"hello\"\n * // yourProp={{ m: 'hi' }} -> undefined\n * ```\n *\n * ### Get value of particular breakpoint\n *\n *\n * ```ts\n * getResponsiveValue(props.yourProp, 'm');\n * // yourProp=\"hi\" -> undefined\n * // yourProp={{ base: 'hello', m: 'hi' }} -> \"hi\"\n * // yourProp={{ m: 'hi' }} -> \"hi\"\n * ```\n */\nconst getResponsiveValue = <T extends string | number | string[] | DimensionValue>(\n  value: MakeValueResponsive<T> | undefined,\n  breakpoint: keyof Breakpoints = 'base',\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): any | undefined => {\n  if (value === undefined || value === null) {\n    return undefined;\n  }\n\n  if (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    Array.isArray(value) ||\n    typeof value === typeof Animated.AnimatedNode\n  ) {\n    /**\n     * Flat values like string or number should only be added in `base` styles.\n     *\n     * E.g. if you pass `display=\"block\"`, it should only put that style in base style and not in media queries\n     * ```js\n     * // Output should be just this-\n     * display: block;\n     *\n     * // And not this-\n     * display: block;\n     * media (min-width: s) {\n     *   display: block;\n     * }\n     *\n     * media (min-width: m) {\n     *   display: block\n     * }\n     * //  and more ...\n     * ```\n     */\n    if (breakpoint === 'base') {\n      return value;\n    }\n\n    return undefined;\n  }\n\n  if (isEmpty(value)) {\n    return undefined;\n  }\n  // In React Native, we map the value `s` token on priority (since the breakpoint maps to mobiles in useBreakpoint hook).\n  // We further look into smaller sizes, then we check base size.\n  // Then we return the first non-undefined value in this priority\n  //@ts-expect-error TODO: fix this - typeguard is not working and AnimatedNode is persisting even after the check above\n  const priorityArray = [value.s, value.xs, value.base];\n  return priorityArray.find((val) => val !== undefined);\n};\n\nexport { getResponsiveValue };\n"],"names":["getResponsiveValue","value","breakpoint","arguments","length","undefined","Array","isArray","Animated","AnimatedNode","isEmpty","priorityArray","s","xs","base","find","val"],"mappings":";;;AA8BM,IAAAA,kBAAkB,CAAG,SAArBA,kBAAkBA,CACtBC,KAAyC,CAGrB,CAFpB,IAAAC,UAA6B,CAAAC,SAAA,CAAAC,MAAA,CAAAD,CAAAA,EAAAA,SAAA,MAAAE,SAAA,CAAAF,SAAA,CAAA,CAAA,CAAA,CAAG,MAAM,CAGtC,GAAIF,KAAK,GAAKI,SAAS,EAAIJ,KAAK,GAAK,IAAI,CAAE,CACzC,OAAOI,SAAS,CAClB,CAEA,GACE,OAAOJ,KAAK,GAAK,QAAQ,EACzB,OAAOA,KAAK,GAAK,QAAQ,EACzBK,KAAK,CAACC,OAAO,CAACN,KAAK,CAAC,EACpB,OAAOA,KAAK,GAAK,OAAOO,QAAQ,CAACC,YAAY,CAC7C,CAqBA,GAAIP,UAAU,GAAK,MAAM,CAAE,CACzB,OAAOD,KAAK,CACd,CAEA,OAAOI,SAAS,CAClB,CAEA,GAAIK,OAAO,CAACT,KAAK,CAAC,CAAE,CAClB,OAAOI,SAAS,CAClB,CAKA,IAAMM,aAAa,CAAG,CAACV,KAAK,CAACW,CAAC,CAAEX,KAAK,CAACY,EAAE,CAAEZ,KAAK,CAACa,IAAI,CAAC,CACrD,OAAOH,aAAa,CAACI,IAAI,CAAC,SAACC,GAAG,CAAK,CAAA,OAAAA,GAAG,GAAKX,SAAS,CAAC,CAAA,CAAA,CACvD;;;;"}