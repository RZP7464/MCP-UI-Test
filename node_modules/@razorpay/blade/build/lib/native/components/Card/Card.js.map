{"version":3,"file":"Card.js","sources":["../../../../../src/components/Card/Card.tsx"],"sourcesContent":["import React from 'react';\nimport type { GestureResponderEvent } from 'react-native';\nimport type { CSSObject } from 'styled-components';\nimport { CardSurface } from './CardSurface';\nimport { CardProvider, useVerifyInsideCard } from './CardContext';\nimport { LinkOverlay } from './LinkOverlay';\nimport { CardRoot } from './CardRoot';\nimport type { CardSpacingValueType, LinkOverlayProps } from './types';\nimport { CARD_LINK_OVERLAY_ID } from './constants';\nimport BaseBox from '~components/Box/BaseBox';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport { getStyledProps } from '~components/Box/styledProps';\nimport type { StyledPropsBlade } from '~components/Box/styledProps';\nimport type { DataAnalyticsAttribute, BladeElementRef, TestID } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport type { Elevation } from '~tokens/global';\nimport type { BoxProps } from '~components/Box';\nimport { makeAccessible } from '~utils/makeAccessible';\nimport { useVerifyAllowedChildren } from '~utils/useVerifyAllowedChildren/useVerifyAllowedChildren';\nimport type { Platform } from '~utils';\nimport { isReactNative } from '~utils';\nimport type { Theme } from '~components/BladeProvider';\nimport type { DotNotationToken } from '~utils/lodashButBetter/get';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\nimport { useCheckboxGroupContext } from '~components/Checkbox/CheckboxGroup/CheckboxGroupContext';\nimport { useRadioGroupContext } from '~components/Radio/RadioGroup/RadioContext';\nimport type { CheckboxGroupContextType } from '~components/Checkbox/CheckboxGroup/CheckboxGroupContext';\nimport type { RadioGroupContextType } from '~components/Radio/RadioGroup/RadioContext';\n\nexport const ComponentIds = {\n  CardHeader: 'CardHeader',\n  CardHeaderTrailing: 'CardHeaderTrailing',\n  CardHeaderLeading: 'CardHeaderLeading',\n  CardFooter: 'CardFooter',\n  CardFooterTrailing: 'CardFooterTrailing',\n  CardFooterLeading: 'CardFooterLeading',\n  CardBody: 'CardBody',\n  CardHeaderIcon: 'CardHeaderIcon',\n  CardHeaderCounter: 'CardHeaderCounter',\n  CardHeaderBadge: 'CardHeaderBadge',\n  CardHeaderAmount: 'CardHeaderAmount',\n  CardHeaderText: 'CardHeaderText',\n  CardHeaderLink: 'CardHeaderLink',\n  CardHeaderIconButton: 'CardHeaderIconButton',\n};\n\ntype CardSurfaceBackgroundColors = `surface.background.gray.${DotNotationToken<\n  Theme['colors']['surface']['background']['gray']\n>}`;\n\nexport type CardProps = {\n  /**\n   * Card contents\n   */\n  children: React.ReactNode;\n  /**\n   * Sets the background color of the Card\n   *\n   * @default `surface.background.gray.intense`\n   */\n  backgroundColor?: CardSurfaceBackgroundColors;\n  /**\n   * Sets the border radius of the Card\n   *\n   * @default `medium`\n   */\n  borderRadius?: Extract<BoxProps['borderRadius'], 'medium' | 'large' | 'xlarge'>;\n  /**\n   * Sets the elevation for Cards\n   *\n   * eg: `theme.elevation.midRaised`\n   *\n   * @default `theme.elevation.lowRaised`\n   *\n   * **Links:**\n   * - Docs: https://blade.razorpay.com/?path=/docs/tokens-elevation--docs\n   */\n  elevation?: keyof Elevation;\n  /**\n   * Sets the padding equally on all sides. Only few `spacing` tokens are allowed deliberately\n   * @default `spacing.7`\n   *\n   * **Links:**\n   * - Docs: https://blade.razorpay.com/?path=/docs/tokens-spacing--docs\n   */\n  padding?: CardSpacingValueType;\n  /**\n   * Sets the width of the card\n   */\n  width?: BoxProps['width'];\n  /**\n   * Sets the height of the card\n   */\n  height?: BoxProps['height'];\n  /**\n   * Sets minimum height of the card\n   */\n  minHeight?: BoxProps['minHeight'];\n  /**\n   * Sets minimum width of the card\n   */\n  minWidth?: BoxProps['minWidth'];\n  /**\n   * Sets maximum width of the card\n   */\n  maxWidth?: BoxProps['maxWidth'];\n  /**\n   * If `true`, the card will be in selected state\n   * Card will have a primary color border around it.\n   *\n   * @default false\n   */\n  isSelected?: boolean;\n  /**\n   * Makes the Card linkable by setting the `href` prop\n   *\n   * @default undefined\n   */\n  href?: string;\n  /**\n   * Sets the `target` attribute for the linkable card\n   */\n  target?: string;\n  /**\n   * Sets the `rel` attribute for the linkable card\n   */\n  rel?: string;\n  /**\n   * Sets the accessibility label for the card\n   * This is useful when the card has an `href` or `onClick` prop\n   * Setting this will announce the label when the card is focused\n   */\n  accessibilityLabel?: string;\n  /**\n   * If `true`, the card will scale up on hover\n   *\n   * On mobile devices it will scale down on press\n   *\n   * **This prop is deprecated in favour of motion presets released in v12**\n   *\n   * ### Migration\n   *\n   * ```diff\n   * - <Card\n   * -  shouldScaleOnHover\n   * - />\n   *\n   * + <Scale motionTriggers={['hover']}>\n   * +   <Card />\n   * + </Scale>\n   * ```\n   *\n   * @default false\n   *\n   * @deprecated This prop is deprecated in favour of motion presets released in v12\n   */\n  shouldScaleOnHover?: boolean;\n  /**\n   * Callback triggered when the card is hovered\n   */\n  onHover?: () => void;\n  /**\n   * Sets the size of the card header title\n   *\n   * @default 'large'\n   */\n  size?: 'large' | 'medium';\n  /**\n   * Callback triggered when the card is clicked\n   */\n  onClick?: (\n    event: Platform.Select<{\n      web: React.MouseEvent;\n      native: GestureResponderEvent;\n    }>,\n  ) => void;\n  /**\n   * Sets the HTML element for the Card\n   *\n   * When `as` is set to `label`, the card will be rendered as a label element\n   * This can be used to create a custom checkbox or radio button using the card\n   *\n   * @default undefined\n   */\n  as?: 'label';\n  cursor?: Platform.Select<{\n    web: CSSObject['cursor'];\n    native: undefined;\n  }>;\n} & TestID &\n  DataAnalyticsAttribute &\n  StyledPropsBlade;\n\nconst _Card: React.ForwardRefRenderFunction<BladeElementRef, CardProps> = (\n  {\n    children,\n    backgroundColor = 'surface.background.gray.intense',\n    borderRadius = 'medium',\n    elevation = 'lowRaised',\n    testID,\n    padding = 'spacing.7',\n    width,\n    height,\n    minHeight,\n    minWidth,\n    maxWidth,\n    onClick,\n    isSelected = false,\n    accessibilityLabel,\n    shouldScaleOnHover = false,\n    onHover,\n    href,\n    target,\n    rel,\n    as,\n    size = 'large',\n    cursor,\n    ...rest\n  },\n  ref,\n): React.ReactElement => {\n  const [isFocused, setIsFocused] = React.useState(false);\n\n  useVerifyAllowedChildren({\n    children,\n    componentName: 'Card',\n    allowedComponents: [ComponentIds.CardHeader, ComponentIds.CardBody, ComponentIds.CardFooter],\n  });\n\n  const linkOverlayProps: LinkOverlayProps = {\n    ...metaAttribute({ name: CARD_LINK_OVERLAY_ID }),\n    ...makeAccessible({ label: accessibilityLabel, pressed: href ? undefined : isSelected }),\n    onFocus: () => {\n      setIsFocused(true);\n    },\n    onBlur: () => {\n      setIsFocused(false);\n    },\n  };\n  const defaultRel = target && target === '_blank' ? 'noreferrer noopener' : undefined;\n\n  const checkboxGroupProps = useCheckboxGroupContext();\n  const radioGroupProps = useRadioGroupContext();\n\n  const getGroupProps = (): CheckboxGroupContextType | RadioGroupContextType | undefined => {\n    if (Object.keys(checkboxGroupProps).length > 0) return checkboxGroupProps;\n    if (Object.keys(radioGroupProps).length > 0) return radioGroupProps;\n    return undefined;\n  };\n\n  const groupProps = getGroupProps();\n\n  const _validationState = groupProps?.validationState;\n\n  return (\n    <CardProvider size={size}>\n      <CardRoot\n        as={as}\n        ref={ref as never}\n        display={'block' as never}\n        borderRadius={borderRadius}\n        onMouseEnter={onHover as never}\n        shouldScaleOnHover={shouldScaleOnHover}\n        isSelected={isSelected}\n        isFocused={isFocused}\n        // on react native we need to pass onClick to root, because we don't need the LinkOverlay in RN\n        onClick={isReactNative() ? onClick : undefined}\n        width={width}\n        height={height}\n        minHeight={minHeight}\n        minWidth={minWidth}\n        maxWidth={maxWidth}\n        href={href}\n        accessibilityLabel={accessibilityLabel}\n        validationState={_validationState}\n        cursor={isReactNative() ? undefined : cursor}\n        {...metaAttribute({ name: MetaConstants.Card, testID })}\n        {...getStyledProps(rest)}\n        {...makeAnalyticsAttribute(rest)}\n      >\n        <CardSurface\n          height={height}\n          minHeight={minHeight}\n          padding={padding}\n          borderRadius={borderRadius}\n          elevation={elevation}\n          textAlign={'left' as never}\n          backgroundColor={backgroundColor}\n        >\n          {href ? (\n            <LinkOverlay\n              onClick={onClick}\n              href={href}\n              target={target}\n              rel={rel ?? defaultRel}\n              {...linkOverlayProps}\n            />\n          ) : null}\n          {!href && onClick ? (\n            <LinkOverlay as=\"button\" onClick={onClick} {...linkOverlayProps} />\n          ) : null}\n          {children}\n        </CardSurface>\n      </CardRoot>\n    </CardProvider>\n  );\n};\n\ntype CardBodyProps = {\n  children: React.ReactNode;\n  height?: BoxProps['height'];\n} & TestID &\n  DataAnalyticsAttribute;\n\nconst _CardBody = ({ height, children, testID, ...rest }: CardBodyProps): React.ReactElement => {\n  useVerifyInsideCard('CardBody');\n\n  return (\n    <BaseBox\n      {...metaAttribute({ name: MetaConstants.CardBody, testID })}\n      {...makeAnalyticsAttribute(rest)}\n      height={height}\n    >\n      {children}\n    </BaseBox>\n  );\n};\n\nconst Card = React.forwardRef(_Card);\nconst CardBody = assignWithoutSideEffects(_CardBody, { componentId: ComponentIds.CardBody });\n\nexport { Card, CardBody };\n"],"names":["ComponentIds","CardHeader","CardHeaderTrailing","CardHeaderLeading","CardFooter","CardFooterTrailing","CardFooterLeading","CardBody","CardHeaderIcon","CardHeaderCounter","CardHeaderBadge","CardHeaderAmount","CardHeaderText","CardHeaderLink","CardHeaderIconButton","_Card","_ref","ref","children","_ref$backgroundColor","backgroundColor","_ref$borderRadius","borderRadius","_ref$elevation","elevation","testID","_ref$padding","padding","width","height","minHeight","minWidth","maxWidth","onClick","_ref$isSelected","isSelected","accessibilityLabel","_ref$shouldScaleOnHov","shouldScaleOnHover","onHover","href","target","rel","as","_ref$size","size","cursor","rest","_objectWithoutProperties","_excluded","_React$useState","React","useState","_React$useState2","_slicedToArray","isFocused","setIsFocused","useVerifyAllowedChildren","componentName","allowedComponents","linkOverlayProps","Object","assign","metaAttribute","name","CARD_LINK_OVERLAY_ID","makeAccessible","label","pressed","undefined","onFocus","onBlur","defaultRel","checkboxGroupProps","useCheckboxGroupContext","radioGroupProps","useRadioGroupContext","getGroupProps","keys","length","groupProps","_validationState","validationState","_jsx","CardProvider","CardRoot","display","onMouseEnter","isReactNative","MetaConstants","Card","getStyledProps","makeAnalyticsAttribute","_jsxs","CardSurface","textAlign","LinkOverlay","_CardBody","_ref2","_excluded2","useVerifyInsideCard","BaseBox","forwardRef","assignWithoutSideEffects","componentId"],"mappings":"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"}