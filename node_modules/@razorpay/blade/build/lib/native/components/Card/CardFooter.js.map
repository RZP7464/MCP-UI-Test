{"version":3,"file":"CardFooter.js","sources":["../../../../../src/components/Card/CardFooter.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useVerifyInsideCard } from './CardContext';\nimport { ComponentIds } from './Card';\nimport type { CardSpacingValueType } from './types';\nimport type { ButtonProps } from '~components/Button';\nimport { Button } from '~components/Button';\nimport { Divider } from '~components/Divider';\nimport BaseBox from '~components/Box/BaseBox';\nimport { Text } from '~components/Typography';\nimport { metaAttribute, MetaConstants } from '~utils/metaAttribute';\nimport type { DataAnalyticsAttribute, TestID } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { useIsMobile } from '~utils/useIsMobile';\nimport { throwBladeError } from '~utils/logger';\nimport { useVerifyAllowedChildren } from '~utils/useVerifyAllowedChildren/useVerifyAllowedChildren';\nimport { MAKE_ANALYTICS_CONSTANTS, makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\nexport type CardFooterAction = Pick<\n  ButtonProps,\n  'type' | 'accessibilityLabel' | 'isLoading' | 'isDisabled' | 'icon' | 'iconPosition' | 'onClick'\n> & {\n  text: ButtonProps['children'];\n};\n\ntype CardFooterProps = {\n  children?: React.ReactNode;\n  /**\n   * For spacing between divider and footer title\n   */\n  paddingTop?: CardSpacingValueType;\n  /**\n   * For spacing between body content and divider\n   */\n  marginTop?: CardSpacingValueType;\n  /**\n   * @default true\n   */\n  showDivider?: boolean;\n} & TestID &\n  DataAnalyticsAttribute;\n\nconst _CardFooter = ({\n  children,\n  testID,\n  marginTop = 'spacing.4',\n  paddingTop = 'spacing.4',\n  showDivider = true,\n  ...props\n}: CardFooterProps): React.ReactElement => {\n  const isMobile = useIsMobile();\n  useVerifyInsideCard('CardFooter');\n  useVerifyAllowedChildren({\n    children,\n    componentName: 'CardFooter',\n    allowedComponents: [ComponentIds.CardFooterLeading, ComponentIds.CardFooterTrailing],\n  });\n\n  const footerChildrensArray = React.Children.toArray(children);\n  if (__DEV__) {\n    if (!React.isValidElement(footerChildrensArray[0])) {\n      throwBladeError({\n        message: `Invalid React Element ${footerChildrensArray}`,\n        moduleName: 'CardFooter',\n      });\n    }\n  }\n\n  // the reason why we are checking for actions here is, because we want the footerTrailing\n  // to always be aligned to the right\n  // if we don't check for action here, and if we do not have footerTrailing and only footerLeading\n  // then the content of footerLeading will be justified to the end.\n  const baseBoxJustifyContent =\n    footerChildrensArray.length === 2 || !(footerChildrensArray[0] as ReactElement)?.props?.actions\n      ? 'space-between'\n      : 'flex-end';\n\n  return (\n    <BaseBox\n      marginTop={marginTop}\n      {...metaAttribute({ name: MetaConstants.CardFooter, testID })}\n      {...makeAnalyticsAttribute(props)}\n    >\n      {showDivider ? <Divider /> : null}\n      <BaseBox\n        paddingTop={paddingTop}\n        display=\"flex\"\n        flexDirection={isMobile ? 'column' : 'row'}\n        justifyContent={baseBoxJustifyContent}\n        alignItems={isMobile ? 'stretch' : 'center'}\n      >\n        {children}\n      </BaseBox>\n    </BaseBox>\n  );\n};\nconst CardFooter = assignWithoutSideEffects(_CardFooter, { componentId: ComponentIds.CardFooter });\n\ntype CardFooterLeadingProps = {\n  title?: string;\n  subtitle?: string;\n} & DataAnalyticsAttribute;\nconst _CardFooterLeading = ({\n  title,\n  subtitle,\n  ...rest\n}: CardFooterLeadingProps): React.ReactElement => {\n  useVerifyInsideCard('CardFooterLeading');\n\n  return (\n    <BaseBox textAlign={'left' as never} {...makeAnalyticsAttribute(rest)}>\n      {title && (\n        <Text color=\"surface.text.gray.normal\" size=\"medium\" weight=\"semibold\">\n          {title}\n        </Text>\n      )}\n      {subtitle && (\n        <Text color=\"surface.text.gray.subtle\" size=\"small\" weight=\"regular\">\n          {subtitle}\n        </Text>\n      )}\n    </BaseBox>\n  );\n};\nconst CardFooterLeading = assignWithoutSideEffects(_CardFooterLeading, {\n  componentId: ComponentIds.CardFooterLeading,\n});\n\ntype CardFooterTrailingProps = {\n  actions?: {\n    primary?: CardFooterAction;\n    secondary?: CardFooterAction;\n  };\n} & DataAnalyticsAttribute;\nconst _CardFooterTrailing = ({ actions, ...rest }: CardFooterTrailingProps): React.ReactElement => {\n  const isMobile = useIsMobile();\n  useVerifyInsideCard('CardFooterTrailing');\n\n  return (\n    <BaseBox\n      display=\"flex\"\n      flexDirection=\"row\"\n      alignSelf={isMobile ? 'auto' : 'center'}\n      marginTop={isMobile ? 'spacing.5' : 'spacing.0'}\n      marginLeft={isMobile ? 'spacing.0' : 'spacing.5'}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      <BaseBox flexGrow={1}>\n        {actions?.secondary ? (\n          <Button\n            isFullWidth\n            size=\"medium\"\n            variant=\"secondary\"\n            {...actions.secondary}\n            data-analytics-name={MAKE_ANALYTICS_CONSTANTS.CARD.FOOTER_SECONDARY_ACTION_BUTTON}\n          >\n            {actions.secondary.text!}\n          </Button>\n        ) : null}\n      </BaseBox>\n      <BaseBox marginLeft=\"spacing.5\" />\n      <BaseBox flexGrow={1}>\n        {actions?.primary ? (\n          <Button\n            isFullWidth\n            size=\"medium\"\n            {...actions.primary}\n            data-analytics-name={MAKE_ANALYTICS_CONSTANTS.CARD.FOOTER_PRIMARY_ACTION_BUTTON}\n          >\n            {actions.primary.text!}\n          </Button>\n        ) : null}\n      </BaseBox>\n    </BaseBox>\n  );\n};\nconst CardFooterTrailing = assignWithoutSideEffects(_CardFooterTrailing, {\n  componentId: ComponentIds.CardFooterTrailing,\n});\n\nexport { CardFooter, CardFooterLeading, CardFooterTrailing };\n"],"names":["_CardFooter","_ref","_footerChildrensArray","_footerChildrensArray2","children","testID","_ref$marginTop","marginTop","_ref$paddingTop","paddingTop","_ref$showDivider","showDivider","props","_objectWithoutProperties","_excluded","isMobile","useIsMobile","useVerifyInsideCard","useVerifyAllowedChildren","componentName","allowedComponents","ComponentIds","CardFooterLeading","CardFooterTrailing","footerChildrensArray","React","Children","toArray","__DEV__","isValidElement","throwBladeError","message","moduleName","baseBoxJustifyContent","length","actions","_jsxs","BaseBox","Object","assign","metaAttribute","name","MetaConstants","CardFooter","makeAnalyticsAttribute","_jsx","Divider","display","flexDirection","justifyContent","alignItems","assignWithoutSideEffects","componentId","_CardFooterLeading","_ref2","title","subtitle","rest","_excluded2","textAlign","Text","color","size","weight","_CardFooterTrailing","_ref3","_excluded3","alignSelf","marginLeft","flexGrow","secondary","Button","isFullWidth","variant","MAKE_ANALYTICS_CONSTANTS","CARD","FOOTER_SECONDARY_ACTION_BUTTON","text","primary","FOOTER_PRIMARY_ACTION_BUTTON"],"mappings":"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"}