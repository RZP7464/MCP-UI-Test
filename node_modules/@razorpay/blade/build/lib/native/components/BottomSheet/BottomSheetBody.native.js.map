{"version":3,"file":"BottomSheetBody.native.js","sources":["../../../../../src/components/BottomSheet/BottomSheetBody.native.tsx"],"sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport { BottomSheetScrollView } from '@gorhom/bottom-sheet';\nimport { ComponentIds } from './componentIds';\nimport { useBottomSheetContext } from './BottomSheetContext';\nimport type { BottomSheetBodyProps } from './types';\nimport BaseBox from '~components/Box/BaseBox';\nimport { componentIds } from '~components/ActionList/componentIds';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { isValidAllowedChildren } from '~utils/isValidAllowedChildren';\nimport { size } from '~tokens/global';\n\nconst _BottomSheetBody = ({\n  children,\n  padding = 'spacing.5',\n}: BottomSheetBodyProps): React.ReactElement => {\n  const {\n    footerHeight,\n    setContentHeight,\n    setHasBodyPadding,\n    isHeaderFloating,\n  } = useBottomSheetContext();\n  const [bottomSheetHasActionList, setBottomSheetHasActionList] = React.useState<\n    boolean | undefined\n  >(undefined);\n\n  React.useEffect(() => {\n    setBottomSheetHasActionList(false);\n    React.Children.forEach(children, (child) => {\n      if (isValidAllowedChildren(child, componentIds.ActionList)) {\n        setBottomSheetHasActionList(true);\n      }\n    });\n  }, [children]);\n\n  React.useEffect(() => {\n    if (padding === 'spacing.0') {\n      setHasBodyPadding(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [padding]);\n\n  if (bottomSheetHasActionList === undefined) return <></>;\n  // If we are rendering ActionList, then we don't wrap the ActionList with extra wrappers\n  // This is to ensure that GorhomBottomSheetSectionList work as expected, adding extra wrappers breaks gorhom's rendering\n  return (\n    <>\n      {bottomSheetHasActionList ? (\n        children\n      ) : (\n        <BottomSheetScrollView\n          onContentSizeChange={(_width: number, height: number) => {\n            setContentHeight(height);\n          }}\n          style={{ marginBottom: footerHeight, borderRadius: isHeaderFloating ? size[16] : 0 }}\n        >\n          <BaseBox flexShrink={1} flexGrow={1} overflow=\"hidden\">\n            <BaseBox\n              paddingLeft={bottomSheetHasActionList ? 'spacing.3' : padding}\n              paddingRight={bottomSheetHasActionList ? 'spacing.3' : padding}\n              paddingTop={bottomSheetHasActionList ? 'spacing.3' : padding}\n              paddingBottom={bottomSheetHasActionList ? 'spacing.3' : padding}\n              overflow=\"hidden\"\n            >\n              {children}\n            </BaseBox>\n          </BaseBox>\n        </BottomSheetScrollView>\n      )}\n    </>\n  );\n};\n\nconst BottomSheetBody = assignWithoutSideEffects(_BottomSheetBody, {\n  componentId: ComponentIds.BottomSheetBody,\n});\n\nexport { BottomSheetBody };\n"],"names":["_BottomSheetBody","_ref","children","_ref$padding","padding","_useBottomSheetContex","useBottomSheetContext","footerHeight","setContentHeight","setHasBodyPadding","isHeaderFloating","_React$useState","React","useState","undefined","_React$useState2","_slicedToArray","bottomSheetHasActionList","setBottomSheetHasActionList","useEffect","Children","forEach","child","isValidAllowedChildren","componentIds","ActionList","_jsx","_Fragment","BottomSheetScrollView","onContentSizeChange","_width","height","style","marginBottom","borderRadius","size","BaseBox","flexShrink","flexGrow","overflow","paddingLeft","paddingRight","paddingTop","paddingBottom","BottomSheetBody","assignWithoutSideEffects","componentId","ComponentIds"],"mappings":";;;;;;;;;;;;;;AAaA,IAAMA,gBAAgB,CAAG,SAAnBA,gBAAgBA,CAAAC,IAAA,CAG0B,KAF9CC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAAC,YAAA,CAAAF,IAAA,CACRG,OAAO,CAAPA,OAAO,CAAAD,YAAA,GAAG,KAAA,CAAA,CAAA,WAAW,CAAAA,YAAA,CAErB,IAAAE,qBAAA,CAKIC,qBAAqB,EAAE,CAJzBC,YAAY,CAAAF,qBAAA,CAAZE,YAAY,CACZC,gBAAgB,CAAAH,qBAAA,CAAhBG,gBAAgB,CAChBC,iBAAiB,CAAAJ,qBAAA,CAAjBI,iBAAiB,CACjBC,gBAAgB,CAAAL,qBAAA,CAAhBK,gBAAgB,CAElB,IAAAC,eAAA,CAAgEC,cAAK,CAACC,QAAQ,CAE5EC,SAAS,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAL,eAAA,CAFLM,CAAAA,CAAAA,CAAAA,wBAAwB,CAAAF,gBAAA,CAAA,CAAA,CAAA,CAAEG,2BAA2B,CAAAH,gBAAA,IAI5DH,cAAK,CAACO,SAAS,CAAC,UAAM,CACpBD,2BAA2B,CAAC,KAAK,CAAC,CAClCN,cAAK,CAACQ,QAAQ,CAACC,OAAO,CAACnB,QAAQ,CAAE,SAACoB,KAAK,CAAK,CAC1C,GAAIC,sBAAsB,CAACD,KAAK,CAAEE,YAAY,CAACC,UAAU,CAAC,CAAE,CAC1DP,2BAA2B,CAAC,IAAI,CAAC,CACnC,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,CAAChB,QAAQ,CAAC,CAAC,CAEdU,cAAK,CAACO,SAAS,CAAC,UAAM,CACpB,GAAIf,OAAO,GAAK,WAAW,CAAE,CAC3BK,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAEF,CAAC,CAAE,CAACL,OAAO,CAAC,CAAC,CAEb,GAAIa,wBAAwB,GAAKH,SAAS,CAAE,OAAOY,GAAA,CAAAC,QAAA,CAAI,EAAA,CAAC,CAGxD,OACED,GAAA,CAAAC,QAAA,EAAAzB,QAAA,CACGe,wBAAwB,CACvBf,QAAQ,CAERwB,GAAA,CAACE,qBAAqB,CAAA,CACpBC,mBAAmB,CAAE,SAAAA,oBAACC,MAAc,CAAEC,MAAc,CAAK,CACvDvB,gBAAgB,CAACuB,MAAM,CAAC,CAC1B,CAAE,CACFC,KAAK,CAAE,CAAEC,YAAY,CAAE1B,YAAY,CAAE2B,YAAY,CAAExB,gBAAgB,CAAGyB,IAAI,CAAC,EAAE,CAAC,CAAG,CAAE,CAAE,CAAAjC,QAAA,CAErFwB,GAAA,CAACU,OAAO,EAACC,UAAU,CAAE,CAAE,CAACC,QAAQ,CAAE,CAAE,CAACC,QAAQ,CAAC,QAAQ,CAAArC,QAAA,CACpDwB,GAAA,CAACU,OAAO,CACNI,CAAAA,WAAW,CAAEvB,wBAAwB,CAAG,WAAW,CAAGb,OAAQ,CAC9DqC,YAAY,CAAExB,wBAAwB,CAAG,WAAW,CAAGb,OAAQ,CAC/DsC,UAAU,CAAEzB,wBAAwB,CAAG,WAAW,CAAGb,OAAQ,CAC7DuC,aAAa,CAAE1B,wBAAwB,CAAG,WAAW,CAAGb,OAAQ,CAChEmC,QAAQ,CAAC,QAAQ,CAAArC,QAAA,CAEhBA,QAAQ,CACF,CAAC,CACH,CAAC,CACW,CACxB,CACD,CAAC,CAEP,CAAC,CAEK,IAAA0C,eAAe,CAAGC,wBAAwB,CAAC7C,gBAAgB,CAAE,CACjE8C,WAAW,CAAEC,YAAY,CAACH,eAC5B,CAAC;;;;"}