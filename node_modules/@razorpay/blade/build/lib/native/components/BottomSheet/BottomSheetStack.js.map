{"version":3,"file":"BottomSheetStack.js","sources":["../../../../../src/components/BottomSheet/BottomSheetStack.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-empty-function */\nimport React from 'react';\n\ntype BottomSheetStackType = {\n  stack: string[];\n  addBottomSheetToStack: (id: string) => void;\n  removeBottomSheetFromStack: (id: string) => void;\n  getTopOfTheStack: () => string | null;\n  getCurrentStackIndexById: (id: string) => number;\n};\n\nconst BottomSheetStackContext = React.createContext<BottomSheetStackType>({\n  stack: [],\n  addBottomSheetToStack: () => {},\n  removeBottomSheetFromStack: () => {},\n  getTopOfTheStack: () => {\n    return null;\n  },\n  getCurrentStackIndexById: () => -1,\n});\n\ntype BottomSheetStackProviderType = {\n  children: React.ReactNode;\n};\nconst BottomSheetStackProvider = ({\n  children,\n}: BottomSheetStackProviderType): React.ReactElement => {\n  const [stack, setStack] = React.useState<string[]>([]);\n\n  const getTopOfTheStack = React.useCallback(() => {\n    return stack[0] || null;\n  }, [stack]);\n\n  const addBottomSheetToStack = React.useCallback((id?: string) => {\n    // id can be undefined since useId returns `undefined` on first render,\n    // if we push undefined to the stack the `removeBottomSheetFromStack` will break\n    // since it will try to match top of the stack with undefined\n    if (id === undefined) return;\n    setStack((prev) => [id, ...prev]);\n  }, []);\n\n  const removeBottomSheetFromStack = React.useCallback((id: string) => {\n    setStack((prev) => {\n      const newStack = [...prev];\n      const popped = newStack.shift();\n      // only pop the stack if the passed in id is matched to the top of the stack\n      if (popped === id) return newStack;\n      return newStack;\n    });\n  }, []);\n\n  const getCurrentStackIndexById = React.useCallback(\n    (id: string) => {\n      return stack.findIndex((stackId) => stackId === id);\n    },\n    [stack],\n  );\n\n  const value = React.useMemo(() => {\n    return {\n      stack,\n      addBottomSheetToStack,\n      removeBottomSheetFromStack,\n      getTopOfTheStack,\n      getCurrentStackIndexById,\n    };\n  }, [\n    addBottomSheetToStack,\n    getCurrentStackIndexById,\n    getTopOfTheStack,\n    removeBottomSheetFromStack,\n    stack,\n  ]);\n\n  return (\n    <BottomSheetStackContext.Provider value={value}>{children}</BottomSheetStackContext.Provider>\n  );\n};\n\nconst useBottomSheetStack = (): BottomSheetStackType => {\n  const context = React.useContext(BottomSheetStackContext);\n\n  return context;\n};\n\nexport { BottomSheetStackProvider, useBottomSheetStack };\n"],"names":["BottomSheetStackContext","React","createContext","stack","addBottomSheetToStack","removeBottomSheetFromStack","getTopOfTheStack","getCurrentStackIndexById","BottomSheetStackProvider","_ref","children","_React$useState","useState","_React$useState2","_slicedToArray","setStack","useCallback","id","undefined","prev","concat","_toConsumableArray","newStack","popped","shift","findIndex","stackId","value","useMemo","_jsx","Provider","useBottomSheetStack","context","useContext"],"mappings":";;;;;AAWA,IAAMA,uBAAuB,CAAGC,cAAK,CAACC,aAAa,CAAuB,CACxEC,KAAK,CAAE,EAAE,CACTC,qBAAqB,CAAE,SAAAA,qBAAA,EAAM,EAAE,CAC/BC,0BAA0B,CAAE,SAAAA,4BAAM,EAAE,CACpCC,gBAAgB,CAAE,SAAAA,gBAAAA,EAAM,CACtB,OAAW,IAAA,CACb,CAAC,CACDC,wBAAwB,CAAE,SAAAA,wBAAAA,EAAM,CAAA,OAAA,CAAC,CAAC,CACpC,CAAA,CAAC,CAAC,CAKI,IAAAC,wBAAwB,CAAG,SAA3BA,wBAAwBA,CAAAC,IAAA,CAE0B,CADtD,IAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAER,IAAAC,eAAA,CAA0BV,cAAK,CAACW,QAAQ,CAAW,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,CAA/CR,CAAAA,CAAAA,CAAAA,KAAK,CAAAU,gBAAA,CAAA,CAAA,CAAA,CAAEE,QAAQ,CAAAF,gBAAA,CAEtB,CAAA,CAAA,CAAA,IAAMP,gBAAgB,CAAGL,cAAK,CAACe,WAAW,CAAC,UAAM,CAC/C,OAAOb,KAAK,CAAC,CAAC,CAAC,EAAI,IAAI,CACzB,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,IAAMC,qBAAqB,CAAGH,cAAK,CAACe,WAAW,CAAC,SAACC,EAAW,CAAK,CAI/D,GAAIA,EAAE,GAAKC,SAAS,CAAE,OACtBH,QAAQ,CAAC,SAACI,IAAI,CAAA,CAAA,OAAA,CAAMF,EAAE,CAAAG,CAAAA,MAAA,CAAAC,kBAAA,CAAKF,IAAI,CAAA,CAAA,CAAA,CAAC,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,IAAMd,0BAA0B,CAAGJ,cAAK,CAACe,WAAW,CAAC,SAACC,EAAU,CAAK,CACnEF,QAAQ,CAAC,SAACI,IAAI,CAAK,CACjB,IAAMG,QAAQ,CAAAD,kBAAA,CAAOF,IAAI,CAAC,CAC1B,IAAMI,MAAM,CAAGD,QAAQ,CAACE,KAAK,EAAE,CAE/B,GAAID,MAAM,GAAKN,EAAE,CAAE,OAAOK,QAAQ,CAClC,OAAOA,QAAQ,CACjB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,IAAMf,wBAAwB,CAAGN,cAAK,CAACe,WAAW,CAChD,SAACC,EAAU,CAAK,CACd,OAAOd,KAAK,CAACsB,SAAS,CAAC,SAACC,OAAO,CAAK,CAAA,OAAAA,OAAO,GAAKT,EAAE,GAAC,CACrD,CAAC,CACD,CAACd,KAAK,CACR,CAAC,CAED,IAAMwB,KAAK,CAAG1B,cAAK,CAAC2B,OAAO,CAAC,UAAM,CAChC,OAAO,CACLzB,KAAK,CAALA,KAAK,CACLC,qBAAqB,CAArBA,qBAAqB,CACrBC,0BAA0B,CAA1BA,0BAA0B,CAC1BC,gBAAgB,CAAhBA,gBAAgB,CAChBC,wBAAwB,CAAxBA,wBACF,CAAC,CACH,CAAC,CAAE,CACDH,qBAAqB,CACrBG,wBAAwB,CACxBD,gBAAgB,CAChBD,0BAA0B,CAC1BF,KAAK,CACN,CAAC,CAEF,OACE0B,GAAA,CAAC7B,uBAAuB,CAAC8B,QAAQ,CAAA,CAACH,KAAK,CAAEA,KAAM,CAAAjB,QAAA,CAAEA,QAAQ,CAAmC,CAAC,CAEjG,EAEM,IAAAqB,mBAAmB,CAAG,SAAtBA,mBAAmBA,EAA+B,CACtD,IAAMC,OAAO,CAAG/B,cAAK,CAACgC,UAAU,CAACjC,uBAAuB,CAAC,CAEzD,OAAOgC,OAAO,CAChB;;;;"}