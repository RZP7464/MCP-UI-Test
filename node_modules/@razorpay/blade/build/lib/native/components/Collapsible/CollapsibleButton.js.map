{"version":3,"file":"CollapsibleButton.js","sources":["../../../../../src/components/Collapsible/CollapsibleButton.tsx"],"sourcesContent":["import type { ReactElement } from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport { useCollapsible } from './CollapsibleContext';\nimport { componentIds } from './componentIds';\nimport type { ButtonProps } from '~components/Button';\nimport type { IconComponent } from '~components/Icons';\nimport BaseButton from '~components/Button/BaseButton';\nimport type { BladeElementRef, DataAnalyticsAttribute } from '~utils/types';\nimport { assignWithoutSideEffects } from '~utils/assignWithoutSideEffects';\nimport { isReactNative } from '~utils';\nimport { makeAnalyticsAttribute } from '~utils/makeAnalyticsAttribute';\n\ntype CollapsibleButtonProps = Pick<\n  ButtonProps,\n  | 'variant'\n  | 'size'\n  | 'iconPosition'\n  | 'isDisabled'\n  | 'testID'\n  | 'accessibilityLabel'\n  | 'icon'\n  | 'children'\n> &\n  DataAnalyticsAttribute;\n\nconst _CollapsibleButton: React.ForwardRefRenderFunction<\n  BladeElementRef,\n  CollapsibleButtonProps\n> = (\n  { children, variant, size, icon, iconPosition, isDisabled, testID, accessibilityLabel, ...rest },\n  ref,\n): ReactElement => {\n  const { onExpandChange, isExpanded, collapsibleBodyId } = useCollapsible();\n\n  const toggleIsExpanded = useCallback(() => onExpandChange(!isExpanded), [\n    onExpandChange,\n    isExpanded,\n  ]);\n\n  return (\n    <BaseButton\n      variant={variant}\n      size={size}\n      // Button handles case of icon and children so we don't care about icon type safety here\n      icon={icon as IconComponent}\n      iconPosition={iconPosition}\n      isDisabled={isDisabled}\n      testID={testID}\n      ref={ref}\n      onClick={toggleIsExpanded}\n      alignSelf={isReactNative() ? 'flex-start' : undefined}\n      accessibilityProps={{\n        label: accessibilityLabel,\n        controls: collapsibleBodyId,\n        expanded: isExpanded,\n      }}\n      {...makeAnalyticsAttribute(rest)}\n    >\n      {children}\n    </BaseButton>\n  );\n};\n\nconst CollapsibleButton = assignWithoutSideEffects(forwardRef(_CollapsibleButton), {\n  displayName: 'CollapsibleButton',\n  componentId: componentIds.CollapsibleButton,\n});\n\nexport type { CollapsibleButtonProps };\nexport { CollapsibleButton };\n"],"names":["_CollapsibleButton","_ref","ref","children","variant","size","icon","iconPosition","isDisabled","testID","accessibilityLabel","rest","_objectWithoutProperties","_excluded","_useCollapsible","useCollapsible","onExpandChange","isExpanded","collapsibleBodyId","toggleIsExpanded","useCallback","_jsx","BaseButton","Object","assign","onClick","alignSelf","isReactNative","undefined","accessibilityProps","label","controls","expanded","makeAnalyticsAttribute","CollapsibleButton","assignWithoutSideEffects","forwardRef","displayName","componentId","componentIds"],"mappings":";;;;;;;;;;;;;AACA,IAAA,SAAA,CAAA,CAAA,UAAA,CAAA,SAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,QAAA,CAAA,oBAAA,CAAA,CAwBA,IAAMA,kBAGL,CAAG,SAHEA,kBAGLA,CAAAC,IAAA,CAECC,GAAG,CACc,CAFf,IAAAC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CAAEC,IAAI,CAAAJ,IAAA,CAAJI,IAAI,CAAEC,IAAI,CAAAL,IAAA,CAAJK,IAAI,CAAEC,YAAY,CAAAN,IAAA,CAAZM,YAAY,CAAEC,UAAU,CAAAP,IAAA,CAAVO,UAAU,CAAEC,MAAM,CAAAR,IAAA,CAANQ,MAAM,CAAEC,kBAAkB,CAAAT,IAAA,CAAlBS,kBAAkB,CAAKC,IAAI,CAAAC,wBAAA,CAAAX,IAAA,CAAAY,SAAA,CAAA,CAG9F,IAAAC,eAAA,CAA0DC,cAAc,EAAE,CAAlEC,cAAc,CAAAF,eAAA,CAAdE,cAAc,CAAEC,UAAU,CAAAH,eAAA,CAAVG,UAAU,CAAEC,iBAAiB,CAAAJ,eAAA,CAAjBI,iBAAiB,CAErD,IAAMC,gBAAgB,CAAGC,WAAW,CAAC,UAAA,CAAA,OAAMJ,cAAc,CAAC,CAACC,UAAU,CAAC,CAAE,CAAA,CAAA,CACtED,cAAc,CACdC,UAAU,CACX,CAAC,CAEF,OACEI,GAAA,CAACC,UAAU,CAAAC,MAAA,CAAAC,MAAA,CAAA,CACTpB,OAAO,CAAEA,OAAQ,CACjBC,IAAI,CAAEA,IAAK,CAEXC,IAAI,CAAEA,IAAsB,CAC5BC,YAAY,CAAEA,YAAa,CAC3BC,UAAU,CAAEA,UAAW,CACvBC,MAAM,CAAEA,MAAO,CACfP,GAAG,CAAEA,GAAI,CACTuB,OAAO,CAAEN,gBAAiB,CAC1BO,SAAS,CAAEC,aAAa,EAAE,CAAG,YAAY,CAAGC,SAAU,CACtDC,kBAAkB,CAAE,CAClBC,KAAK,CAAEpB,kBAAkB,CACzBqB,QAAQ,CAAEb,iBAAiB,CAC3Bc,QAAQ,CAAEf,UACZ,CAAE,CAAA,CACEgB,sBAAsB,CAACtB,IAAI,CAAC,CAAAR,CAAAA,QAAA,CAE/BA,QAAQ,CACC,CAAA,CAAC,CAEjB,CAAC,CAEK,IAAA+B,iBAAiB,CAAGC,wBAAwB,CAACC,UAAU,CAACpC,kBAAkB,CAAC,CAAE,CACjFqC,WAAW,CAAE,mBAAmB,CAChCC,WAAW,CAAEC,YAAY,CAACL,iBAC5B,CAAC;;;;"}