{"version":3,"file":"QuickFilterGroup.js","sources":["../../../../../../src/components/QuickFilters/QuickFilterGroup/QuickFilterGroup.tsx"],"sourcesContent":["import React from 'react';\nimport type { QuickFilterGroupProps, QuickFilterWrapperProps } from '../types';\nimport { QuickFilterGroupProvider, useQuickFilterGroupContext } from './QuickFilterContext';\nimport { RadioGroup } from '~components/Radio';\nimport BaseBox from '~components/Box/BaseBox';\nimport { CheckboxGroup } from '~components/Checkbox';\nimport { useControllableState } from '~utils/useControllable';\nimport { useId } from '~utils/useId';\n\nconst QuickFilterWrapper = ({\n  children,\n  onChange,\n  setSelectedQuickFilters,\n  ...rest\n}: QuickFilterWrapperProps): React.ReactElement => {\n  const { selectedQuickFilters, selectionType } = useQuickFilterGroupContext();\n\n  if (selectionType === 'single') {\n    return (\n      <RadioGroup\n        value={selectedQuickFilters[0] ?? ''}\n        onChange={({ value }) => {\n          setSelectedQuickFilters(() => [value]);\n        }}\n        size=\"small\"\n        {...rest}\n      >\n        {children}\n      </RadioGroup>\n    );\n  }\n  return (\n    <CheckboxGroup\n      value={selectedQuickFilters}\n      onChange={({ values }) => {\n        setSelectedQuickFilters(() => values);\n      }}\n      size=\"small\"\n      {...rest}\n    >\n      {children}\n    </CheckboxGroup>\n  );\n};\n\nconst QuickFilterGroup = ({\n  children,\n  testID,\n  value,\n  defaultValue,\n  onChange,\n  name,\n  selectionType,\n  ...rest\n}: QuickFilterGroupProps): React.ReactElement => {\n  const idBase = useId('quick-filter-group');\n  const [selectedQuickFilters, setSelectedQuickFilters] = useControllableState({\n    value: (value && selectionType === 'single' ? [value] : value) as string[] | undefined,\n    // If selectionType is single, we need to convert the value to an array\n    defaultValue: (defaultValue && selectionType === 'single'\n      ? [defaultValue]\n      : defaultValue ?? []) as string[] | undefined,\n    onChange: (values: string[]) => onChange?.({ values, name: name ?? idBase }),\n  });\n  return (\n    <QuickFilterGroupProvider value={{ selectionType, selectedQuickFilters }}>\n      <QuickFilterWrapper\n        onChange={onChange}\n        setSelectedQuickFilters={setSelectedQuickFilters}\n        {...rest}\n      >\n        <BaseBox display=\"flex\" flexDirection=\"row\" gap=\"spacing.3\">\n          {children}\n        </BaseBox>\n      </QuickFilterWrapper>\n    </QuickFilterGroupProvider>\n  );\n};\n\nexport { QuickFilterGroup };\n"],"names":["QuickFilterWrapper","_ref","children","onChange","setSelectedQuickFilters","rest","_objectWithoutProperties","_excluded","_useQuickFilterGroupC","useQuickFilterGroupContext","selectedQuickFilters","selectionType","_selectedQuickFilters","_jsx","RadioGroup","Object","assign","value","_ref2","size","CheckboxGroup","_ref3","values","QuickFilterGroup","_ref4","testID","defaultValue","name","_excluded2","idBase","useId","_useControllableState","useControllableState","_useControllableState2","_slicedToArray","QuickFilterGroupProvider","BaseBox","display","flexDirection","gap"],"mappings":"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"}