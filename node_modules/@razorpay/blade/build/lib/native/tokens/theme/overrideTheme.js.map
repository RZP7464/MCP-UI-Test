{"version":3,"file":"overrideTheme.js","sources":["../../../../../src/tokens/theme/overrideTheme.ts"],"sourcesContent":["import bladeTheme from './bladeTheme';\nimport type { ThemeTokens } from './theme';\nimport merge from '~utils/lodashButBetter/merge';\nimport cloneDeep from '~utils/lodashButBetter/cloneDeep';\nimport { hasSameObjectStructure } from '~utils/hasSameObjectStructure';\nimport type { ObjectWithKeys } from '~utils/hasSameObjectStructure';\nimport { isPartialMatchObjectKeys } from '~utils/isPartialMatchObjectKeys';\nimport type { DeepPartial } from '~utils/isPartialMatchObjectKeys';\nimport { throwBladeError } from '~utils/logger';\n\ntype OverrideTheme = {\n  /**\n   * base tokens\n   */\n  baseThemeTokens: ThemeTokens;\n  /**\n   * partial theme tokens\n   */\n  overrides: DeepPartial<ThemeTokens>;\n};\n\n/**\n * @deprecated Use `createTheme` from `@razorpay/blade/tokens` instead\n *\n * @description\n *\n * `overrideTheme` merges the `baseThemeTokens` and `overrides` and returns a new ThemeTokens object,\n * which you can pass into BladeProvider.\n *\n * @example\n * ```tsx\n * const customTheme = overrideTheme({\n *   baseThemeTokens: bladeTheme, // theme to override\n *   overrides: {\n *     colors: {\n *       onLight: {\n *         brand: {\n *           primary: {\n *             '500': 'hsla(222, 100%, 96%, 1)',\n *           },\n *         },\n *       },\n *     },\n *   },\n * });\n *\n * <BladeProvider themeTokens={customTheme} />\n * ```\n */\nconst overrideTheme = ({ baseThemeTokens, overrides }: OverrideTheme): ThemeTokens => {\n  if (__DEV__) {\n    if (\n      !hasSameObjectStructure(\n        (baseThemeTokens as unknown) as ObjectWithKeys,\n        (bladeTheme as unknown) as ObjectWithKeys,\n      )\n    ) {\n      throwBladeError({\n        message: 'The base theme provided is not a valid Blade theme',\n        moduleName: 'overrideTheme',\n      });\n    }\n\n    if (\n      !isPartialMatchObjectKeys<ThemeTokens>({\n        objectToMatch: overrides,\n        objectToInspect: baseThemeTokens,\n      })\n    ) {\n      throwBladeError({\n        message: 'The overrides object is not valid',\n        moduleName: 'overrideTheme',\n      });\n    }\n  }\n\n  // Need to clone before merging since merge changes/mutates the actual object\n  return merge(cloneDeep(baseThemeTokens), overrides) as ThemeTokens;\n};\n\nexport default overrideTheme;\n"],"names":["overrideTheme","_ref","baseThemeTokens","overrides","__DEV__","hasSameObjectStructure","bladeTheme","throwBladeError","message","moduleName","isPartialMatchObjectKeys","objectToMatch","objectToInspect","merge","cloneDeep"],"mappings":";;;;;;;AAiDM,IAAAA,aAAa,CAAG,SAAhBA,aAAaA,CAAAC,IAAA,CAAmE,CAAA,IAA7DC,eAAe,CAAAD,IAAA,CAAfC,eAAe,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,CACjD,GAAIC,OAAO,CAAE,CACX,GACE,CAACC,sBAAsB,CACpBH,eAAe,CACfI,UACH,CAAC,CACD,CACAC,eAAe,CAAC,CACdC,OAAO,CAAE,oDAAoD,CAC7DC,UAAU,CAAE,eACd,CAAC,CAAC,CACJ,CAEA,GACE,CAACC,wBAAwB,CAAc,CACrCC,aAAa,CAAER,SAAS,CACxBS,eAAe,CAAEV,eACnB,CAAC,CAAC,CACF,CACAK,eAAe,CAAC,CACdC,OAAO,CAAE,mCAAmC,CAC5CC,UAAU,CAAE,eACd,CAAC,CAAC,CACJ,CACF,CAGA,OAAOI,KAAK,CAACC,SAAS,CAACZ,eAAe,CAAC,CAAEC,SAAS,CAAC,CACrD;;;;"}