"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react");function e(e,n){var i,r="exitTransitionDuration"in n?n.exitTransitionDuration:n.transitionDuration,o="enterTransitionDuration"in n?n.enterTransitionDuration:n.transitionDuration,u=null!=(i=n.initialEnter)&&i,a=t.useState(!u&&e),s=a[0],f=a[1],c=t.useState(e),d=c[0],l=c[1],v=t.useState(!u&&e),m=v[0],p=v[1],T=d&&!e,g=e&&!m,x=g||T;return t.useEffect((function(){if(!e){p(!1),f(!1);var t=setTimeout((function(){l(!1)}),r);return function(){clearTimeout(t)}}l(!0)}),[e,r]),t.useEffect((function(){if(e&&d&&!s){void 0!==typeof document&&(window._usePresenceReflow=document.body.offsetHeight);var t=requestAnimationFrame((function(){f(!0)}));return function(){cancelAnimationFrame(t)}}}),[s,o,d,e]),t.useEffect((function(){if(s&&!m){var t=setTimeout((function(){p(!0)}),o);return function(){clearTimeout(t)}}}),[s,o,m]),{isMounted:d,isVisible:s,isAnimating:x,isEntering:g,isExiting:T}}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}exports.default=e,exports.usePresenceSwitch=function(i,r){var o=t.useState(i),u=o[0],a=o[1],s=t.useState(void 0!==i),f=s[0],c=s[1],d=e(f,r),l=d.isMounted,v=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}(d,["isMounted"]);return t.useEffect((function(){u!==i?l?c(!1):void 0!==i&&(a(i),c(!0)):void 0===i?c(!1):void 0!==i&&c(!0)}),[i,u,f,l]),n({},v,{isMounted:l&&void 0!==u,mountedItem:u})};
//# sourceMappingURL=use-presence.cjs.production.min.js.map
